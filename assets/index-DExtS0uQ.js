function Z1(n,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function ab(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lr(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var s=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),s}var Nh={exports:{}},fr={};var Qy;function W1(){if(Qy)return fr;Qy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return fr.Fragment=t,fr.jsx=s,fr.jsxs=s,fr}var Zy;function eE(){return Zy||(Zy=1,Nh.exports=W1()),Nh.exports}var g=eE(),Dh={exports:{}},ue={};var Wy;function tE(){if(Wy)return ue;Wy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function E(N,V,J){this.props=N,this.context=V,this.refs=T,this.updater=J||_}E.prototype.isReactComponent={},E.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},E.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=E.prototype;function C(N,V,J){this.props=N,this.context=V,this.refs=T,this.updater=J||_}var z=C.prototype=new R;z.constructor=C,A(z,E.prototype),z.isPureReactComponent=!0;var G=Array.isArray;function P(){}var K={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function ie(N,V,J){var Q=J.ref;return{$$typeof:n,type:N,key:V,ref:Q!==void 0?Q:null,props:J}}function fe(N,V){return ie(N.type,V,N.props)}function De(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ke(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(J){return V[J]})}var rn=/\/+/g;function rt(N,V){return typeof N=="object"&&N!==null&&N.key!=null?ke(""+N.key):V.toString(36)}function pt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(P,P):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,V,J,Q,ce){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var je=!1;if(N===null)je=!0;else switch(ge){case"bigint":case"string":case"number":je=!0;break;case"object":switch(N.$$typeof){case n:case t:je=!0;break;case y:return je=N._init,$(je(N._payload),V,J,Q,ce)}}if(je)return ce=ce(N),je=Q===""?"."+rt(N,0):Q,G(ce)?(J="",je!=null&&(J=je.replace(rn,"$&/")+"/"),$(ce,V,J,"",function(wi){return wi})):ce!=null&&(De(ce)&&(ce=fe(ce,J+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(rn,"$&/")+"/")+je)),V.push(ce)),1;je=0;var bt=Q===""?".":Q+":";if(G(N))for(var Ke=0;Ke<N.length;Ke++)Q=N[Ke],ge=bt+rt(Q,Ke),je+=$(Q,V,J,ge,ce);else if(Ke=x(N),typeof Ke=="function")for(N=Ke.call(N),Ke=0;!(Q=N.next()).done;)Q=Q.value,ge=bt+rt(Q,Ke++),je+=$(Q,V,J,ge,ce);else if(ge==="object"){if(typeof N.then=="function")return $(pt(N),V,J,Q,ce);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return je}function Y(N,V,J){if(N==null)return N;var Q=[],ce=0;return $(N,Q,"","",function(ge){return V.call(J,ge,ce++)}),Q}function ee(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(J){(N._status===0||N._status===-1)&&(N._status=1,N._result=J)},function(J){(N._status===0||N._status===-1)&&(N._status=2,N._result=J)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},F={map:Y,forEach:function(N,V,J){Y(N,function(){V.apply(this,arguments)},J)},count:function(N){var V=0;return Y(N,function(){V++}),V},toArray:function(N){return Y(N,function(V){return V})||[]},only:function(N){if(!De(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ue.Activity=b,ue.Children=F,ue.Component=E,ue.Fragment=s,ue.Profiler=o,ue.PureComponent=C,ue.StrictMode=r,ue.Suspense=m,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ue.__COMPILER_RUNTIME={__proto__:null,c:function(N){return K.H.useMemoCache(N)}},ue.cache=function(N){return function(){return N.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(N,V,J){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=A({},N.props),ce=N.key;if(V!=null)for(ge in V.key!==void 0&&(ce=""+V.key),V)!X.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(Q[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)Q.children=J;else if(1<ge){for(var je=Array(ge),bt=0;bt<ge;bt++)je[bt]=arguments[bt+2];Q.children=je}return ie(N.type,ce,Q)},ue.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},ue.createElement=function(N,V,J){var Q,ce={},ge=null;if(V!=null)for(Q in V.key!==void 0&&(ge=""+V.key),V)X.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ce[Q]=V[Q]);var je=arguments.length-2;if(je===1)ce.children=J;else if(1<je){for(var bt=Array(je),Ke=0;Ke<je;Ke++)bt[Ke]=arguments[Ke+2];ce.children=bt}if(N&&N.defaultProps)for(Q in je=N.defaultProps,je)ce[Q]===void 0&&(ce[Q]=je[Q]);return ie(N,ge,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(N){return{$$typeof:f,render:N}},ue.isValidElement=De,ue.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ee}},ue.memo=function(N,V){return{$$typeof:p,type:N,compare:V===void 0?null:V}},ue.startTransition=function(N){var V=K.T,J={};K.T=J;try{var Q=N(),ce=K.S;ce!==null&&ce(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(P,pe)}catch(ge){pe(ge)}finally{V!==null&&J.types!==null&&(V.types=J.types),K.T=V}},ue.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ue.use=function(N){return K.H.use(N)},ue.useActionState=function(N,V,J){return K.H.useActionState(N,V,J)},ue.useCallback=function(N,V){return K.H.useCallback(N,V)},ue.useContext=function(N){return K.H.useContext(N)},ue.useDebugValue=function(){},ue.useDeferredValue=function(N,V){return K.H.useDeferredValue(N,V)},ue.useEffect=function(N,V){return K.H.useEffect(N,V)},ue.useEffectEvent=function(N){return K.H.useEffectEvent(N)},ue.useId=function(){return K.H.useId()},ue.useImperativeHandle=function(N,V,J){return K.H.useImperativeHandle(N,V,J)},ue.useInsertionEffect=function(N,V){return K.H.useInsertionEffect(N,V)},ue.useLayoutEffect=function(N,V){return K.H.useLayoutEffect(N,V)},ue.useMemo=function(N,V){return K.H.useMemo(N,V)},ue.useOptimistic=function(N,V){return K.H.useOptimistic(N,V)},ue.useReducer=function(N,V,J){return K.H.useReducer(N,V,J)},ue.useRef=function(N){return K.H.useRef(N)},ue.useState=function(N){return K.H.useState(N)},ue.useSyncExternalStore=function(N,V,J){return K.H.useSyncExternalStore(N,V,J)},ue.useTransition=function(){return K.H.useTransition()},ue.version="19.2.3",ue}var ev;function Jd(){return ev||(ev=1,Dh.exports=tE()),Dh.exports}var j=Jd();const nE=ab(j);var Mh={exports:{}},mr={},kh={exports:{}},Uh={};var tv;function aE(){return tv||(tv=1,(function(n){function t($,Y){var ee=$.length;$.push(Y);e:for(;0<ee;){var pe=ee-1>>>1,F=$[pe];if(0<o(F,Y))$[pe]=Y,$[ee]=F,ee=pe;else break e}}function s($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],ee=$.pop();if(ee!==Y){$[0]=ee;e:for(var pe=0,F=$.length,N=F>>>1;pe<N;){var V=2*(pe+1)-1,J=$[V],Q=V+1,ce=$[Q];if(0>o(J,ee))Q<F&&0>o(ce,J)?($[pe]=ce,$[Q]=ee,pe=Q):($[pe]=J,$[V]=ee,pe=V);else if(Q<F&&0>o(ce,ee))$[pe]=ce,$[Q]=ee,pe=Q;else break e}}return Y}function o($,Y){var ee=$.sortIndex-Y.sortIndex;return ee!==0?ee:$.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,b=null,w=3,x=!1,_=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function z($){for(var Y=s(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=$)r(p),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=s(p)}}function G($){if(A=!1,z($),!_)if(s(m)!==null)_=!0,P||(P=!0,ke());else{var Y=s(p);Y!==null&&pt(G,Y.startTime-$)}}var P=!1,K=-1,X=5,ie=-1;function fe(){return T?!0:!(n.unstable_now()-ie<X)}function De(){if(T=!1,P){var $=n.unstable_now();ie=$;var Y=!0;try{e:{_=!1,A&&(A=!1,R(K),K=-1),x=!0;var ee=w;try{t:{for(z($),b=s(m);b!==null&&!(b.expirationTime>$&&fe());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,w=b.priorityLevel;var F=pe(b.expirationTime<=$);if($=n.unstable_now(),typeof F=="function"){b.callback=F,z($),Y=!0;break t}b===s(m)&&r(m),z($)}else r(m);b=s(m)}if(b!==null)Y=!0;else{var N=s(p);N!==null&&pt(G,N.startTime-$),Y=!1}}break e}finally{b=null,w=ee,x=!1}Y=void 0}}finally{Y?ke():P=!1}}}var ke;if(typeof C=="function")ke=function(){C(De)};else if(typeof MessageChannel<"u"){var rn=new MessageChannel,rt=rn.port2;rn.port1.onmessage=De,ke=function(){rt.postMessage(null)}}else ke=function(){E(De,0)};function pt($,Y){K=E(function(){$(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var ee=w;w=Y;try{return $()}finally{w=ee}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=w;w=$;try{return Y()}finally{w=ee}},n.unstable_scheduleCallback=function($,Y,ee){var pe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ee+F,$={id:y++,callback:Y,priorityLevel:$,startTime:ee,expirationTime:F,sortIndex:-1},ee>pe?($.sortIndex=ee,t(p,$),s(m)===null&&$===s(p)&&(A?(R(K),K=-1):A=!0,pt(G,ee-pe))):($.sortIndex=F,t(m,$),_||x||(_=!0,P||(P=!0,ke()))),$},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function($){var Y=w;return function(){var ee=w;w=Y;try{return $.apply(this,arguments)}finally{w=ee}}}})(Uh)),Uh}var nv;function sE(){return nv||(nv=1,kh.exports=aE()),kh.exports}var Lh={exports:{}},gt={};var av;function iE(){if(av)return gt;av=1;var n=Jd();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,y)},gt.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},gt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},gt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},gt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=f(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):y==="script"&&r.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},gt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},gt.requestFormReset=function(m){r.d.r(m)},gt.unstable_batchedUpdates=function(m,p){return m(p)},gt.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},gt.useFormStatus=function(){return c.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var sv;function rE(){if(sv)return Lh.exports;sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lh.exports=iE(),Lh.exports}var iv;function lE(){if(iv)return mr;iv=1;var n=sE(),t=Jd(),s=rE();function r(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,i=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(i=a.return),e=a.return;while(e)}return a.tag===3?i:null}function c(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function f(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(r(188));return a!==e?null:e}for(var i=e,l=a;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return m(h),e;if(d===l)return m(h),a;d=d.sibling}throw Error(r(188))}if(i.return!==l.return)i=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===i){v=!0,i=h,l=d;break}if(S===l){v=!0,l=h,i=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===i){v=!0,i=d,l=h;break}if(S===l){v=!0,l=d,i=h;break}S=S.sibling}if(!v)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case G:return"Suspense";case P:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case C:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case z:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return a=e.displayName||null,a!==null?a:rt(e.type)||"Memo";case X:a=e._payload,e=e._init;try{return rt(e(a))}catch{}}return null}var pt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],F=-1;function N(e){return{current:e}}function V(e){0>F||(e.current=pe[F],pe[F]=null,F--)}function J(e,a){F++,pe[F]=e.current,e.current=a}var Q=N(null),ce=N(null),ge=N(null),je=N(null);function bt(e,a){switch(J(ge,a),J(ce,e),J(Q,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?wy(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=wy(a),e=Sy(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Q),J(Q,e)}function Ke(){V(Q),V(ce),V(ge)}function wi(e){e.memoizedState!==null&&J(je,e);var a=Q.current,i=Sy(a,e.type);a!==i&&(J(ce,e),J(Q,i))}function Kr(e){ce.current===e&&(V(Q),V(ce)),je.current===e&&(V(je),ur._currentValue=ee)}var fu,Jf;function Oa(e){if(fu===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);fu=a&&a[1]||"",Jf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fu+e+Jf}var mu=!1;function pu(e,a){if(!e||mu)return"";mu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(B){var L=B}Reflect.construct(e,[],I)}else{try{I.call()}catch(B){L=B}e.call(I.prototype)}}else{try{throw Error()}catch(B){L=B}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var O=v.split(`
`),U=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===U.length)for(l=O.length-1,h=U.length-1;1<=l&&0<=h&&O[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==U[h]){var q=`
`+O[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=h);break}}}finally{mu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Oa(i):""}function Ox(e,a){switch(e.tag){case 26:case 27:case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return e.child!==a&&a!==null?Oa("Suspense Fallback"):Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 15:return pu(e.type,!1);case 11:return pu(e.type.render,!1);case 1:return pu(e.type,!0);case 31:return Oa("Activity");default:return""}}function Qf(e){try{var a="",i=null;do a+=Ox(e,i),i=e,e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gu=Object.prototype.hasOwnProperty,yu=n.unstable_scheduleCallback,vu=n.unstable_cancelCallback,Rx=n.unstable_shouldYield,Nx=n.unstable_requestPaint,Mt=n.unstable_now,Dx=n.unstable_getCurrentPriorityLevel,Zf=n.unstable_ImmediatePriority,Wf=n.unstable_UserBlockingPriority,Yr=n.unstable_NormalPriority,Mx=n.unstable_LowPriority,em=n.unstable_IdlePriority,kx=n.log,Ux=n.unstable_setDisableYieldValue,Si=null,kt=null;function Jn(e){if(typeof kx=="function"&&Ux(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Si,e)}catch{}}var Ut=Math.clz32?Math.clz32:Bx,Lx=Math.log,zx=Math.LN2;function Bx(e){return e>>>=0,e===0?32:31-(Lx(e)/zx|0)|0}var Fr=256,Xr=262144,Jr=4194304;function Ra(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,a,i){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Ra(l):(v&=S,v!==0?h=Ra(v):i||(i=S&~e,i!==0&&(h=Ra(i))))):(S=l&~d,S!==0?h=Ra(S):v!==0?h=Ra(v):i||(i=l&~e,i!==0&&(h=Ra(i)))),h===0?0:a!==0&&a!==h&&(a&d)===0&&(d=h&-h,i=a&-a,d>=i||d===32&&(i&4194048)!==0)?a:h}function xi(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Px(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(){var e=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),e}function bu(e){for(var a=[],i=0;31>i;i++)a.push(e);return a}function _i(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vx(e,a,i,l,h,d){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,O=e.expirationTimes,U=e.hiddenUpdates;for(i=v&~i;0<i;){var q=31-Ut(i),I=1<<q;S[q]=0,O[q]=-1;var L=U[q];if(L!==null)for(U[q]=null,q=0;q<L.length;q++){var B=L[q];B!==null&&(B.lane&=-536870913)}i&=~I}l!==0&&nm(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~a))}function nm(e,a,i){e.pendingLanes|=a,e.suspendedLanes&=~a;var l=31-Ut(a);e.entangledLanes|=a,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function am(e,a){var i=e.entangledLanes|=a;for(e=e.entanglements;i;){var l=31-Ut(i),h=1<<l;h&a|e[l]&a&&(e[l]|=a),i&=~h}}function sm(e,a){var i=a&-a;return i=(i&42)!==0?1:wu(i),(i&(e.suspendedLanes|a))!==0?0:i}function wu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Su(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function im(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Gy(e.type))}function rm(e,a){var i=Y.p;try{return Y.p=e,a()}finally{Y.p=i}}var Qn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Qn,xt="__reactProps$"+Qn,us="__reactContainer$"+Qn,xu="__reactEvents$"+Qn,qx="__reactListeners$"+Qn,$x="__reactHandles$"+Qn,lm="__reactResources$"+Qn,Ei="__reactMarker$"+Qn;function _u(e){delete e[lt],delete e[xt],delete e[xu],delete e[qx],delete e[$x]}function cs(e){var a=e[lt];if(a)return a;for(var i=e.parentNode;i;){if(a=i[us]||i[lt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(e=Cy(e);e!==null;){if(i=e[lt])return i;e=Cy(e)}return a}e=i,i=e.parentNode}return null}function hs(e){if(e=e[lt]||e[us]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Ti(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(r(33))}function ds(e){var a=e[lm];return a||(a=e[lm]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(e){e[Ei]=!0}var om=new Set,um={};function Na(e,a){fs(e,a),fs(e+"Capture",a)}function fs(e,a){for(um[e]=a,e=0;e<a.length;e++)om.add(a[e])}var Hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cm={},hm={};function Gx(e){return gu.call(hm,e)?!0:gu.call(cm,e)?!1:Hx.test(e)?hm[e]=!0:(cm[e]=!0,!1)}function Zr(e,a,i){if(Gx(a))if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+i)}}function Wr(e,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+i)}}function _n(e,a,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(a,i,""+l)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dm(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ix(e,a,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,d.call(this,v)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Eu(e){if(!e._valueTracker){var a=dm(e)?"checked":"value";e._valueTracker=Ix(e,a,""+e[a])}}function fm(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var i=a.getValue(),l="";return e&&(l=dm(e)?e.checked?"true":"false":e.value),e=l,e!==i?(a.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kx=/[\n"\\]/g;function It(e){return e.replace(Kx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Tu(e,a,i,l,h,d,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),a!=null?v==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Gt(a)):e.value!==""+Gt(a)&&(e.value=""+Gt(a)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),a!=null?ju(e,v,Gt(a)):i!=null?ju(e,v,Gt(i)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Gt(S):e.removeAttribute("name")}function mm(e,a,i,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),a!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Eu(e);return}i=i!=null?""+Gt(i):"",a=a!=null?""+Gt(a):i,S||a===e.value||(e.value=a),e.defaultValue=a}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Eu(e)}function ju(e,a,i){a==="number"&&el(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ms(e,a,i,l){if(e=e.options,a){a={};for(var h=0;h<i.length;h++)a["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=a.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),a=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}a!==null||e[h].disabled||(a=e[h])}a!==null&&(a.selected=!0)}}function pm(e,a,i){if(a!=null&&(a=""+Gt(a),a!==e.value&&(e.value=a),i==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=i!=null?""+Gt(i):""}function gm(e,a,i,l){if(a==null){if(l!=null){if(i!=null)throw Error(r(92));if(pt(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),a=i}i=Gt(a),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),Eu(e)}function ps(e,a){if(a){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=a;return}}e.textContent=a}var Yx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ym(e,a,i){var l=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":l?e.setProperty(a,i):typeof i!="number"||i===0||Yx.has(a)?a==="float"?e.cssFloat=i:e[a]=(""+i).trim():e[a]=i+"px"}function vm(e,a,i){if(a!=null&&typeof a!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in a)l=a[h],a.hasOwnProperty(h)&&i[h]!==l&&ym(e,h,l)}else for(var d in a)a.hasOwnProperty(d)&&ym(e,d,a[d])}function Au(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(e){return Xx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var Cu=null;function Ou(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,ys=null;function bm(e){var a=hs(e);if(a&&(e=a.stateNode)){var i=e[xt]||null;e:switch(e=a.stateNode,a.type){case"input":if(Tu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+It(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var l=i[a];if(l!==e&&l.form===e.form){var h=l[xt]||null;if(!h)throw Error(r(90));Tu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<i.length;a++)l=i[a],l.form===e.form&&fm(l)}break e;case"textarea":pm(e,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&ms(e,!!i.multiple,a,!1)}}}var Ru=!1;function wm(e,a,i){if(Ru)return e(a,i);Ru=!0;try{var l=e(a);return l}finally{if(Ru=!1,(gs!==null||ys!==null)&&($l(),gs&&(a=gs,e=ys,ys=gs=null,bm(a),e)))for(a=0;a<e.length;a++)bm(e[a])}}function ji(e,a){var i=e.stateNode;if(i===null)return null;var l=i[xt]||null;if(l===null)return null;i=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,a,typeof i));return i}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=!1;if(Tn)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Nu=!1}var Zn=null,Du=null,nl=null;function Sm(){if(nl)return nl;var e,a=Du,i=a.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<i&&a[e]===h[e];e++);var v=i-e;for(l=1;l<=v&&a[i-l]===h[d-l];l++);return nl=h.slice(e,1<l?1-l:void 0)}function al(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function xm(){return!1}function _t(e){function a(i,l,h,d,v){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sl:xm,this.isPropagationStopped=xm,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),a}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=_t(Da),Ci=b({},Da,{view:0,detail:0}),Jx=_t(Ci),Mu,ku,Oi,rl=b({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Mu=e.screenX-Oi.screenX,ku=e.screenY-Oi.screenY):ku=Mu=0,Oi=e),Mu)},movementY:function(e){return"movementY"in e?e.movementY:ku}}),_m=_t(rl),Qx=b({},rl,{dataTransfer:0}),Zx=_t(Qx),Wx=b({},Ci,{relatedTarget:0}),Uu=_t(Wx),e_=b({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=_t(e_),n_=b({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a_=_t(n_),s_=b({},Da,{data:0}),Em=_t(s_),i_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o_(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=l_[e])?!!a[e]:!1}function Lu(){return o_}var u_=b({},Ci,{key:function(e){if(e.key){var a=i_[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c_=_t(u_),h_=b({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=_t(h_),d_=b({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),f_=_t(d_),m_=b({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),p_=_t(m_),g_=b({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=_t(g_),v_=b({},Da,{newState:0,oldState:0}),b_=_t(v_),w_=[9,13,27,32],zu=Tn&&"CompositionEvent"in window,Ri=null;Tn&&"documentMode"in document&&(Ri=document.documentMode);var S_=Tn&&"TextEvent"in window&&!Ri,jm=Tn&&(!zu||Ri&&8<Ri&&11>=Ri),Am=" ",Cm=!1;function Om(e,a){switch(e){case"keyup":return w_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function x_(e,a){switch(e){case"compositionend":return Rm(a);case"keypress":return a.which!==32?null:(Cm=!0,Am);case"textInput":return e=a.data,e===Am&&Cm?null:e;default:return null}}function __(e,a){if(vs)return e==="compositionend"||!zu&&Om(e,a)?(e=Sm(),nl=Du=Zn=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return jm&&a.locale!=="ko"?null:a.data;default:return null}}var E_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!E_[e.type]:a==="textarea"}function Dm(e,a,i,l){gs?ys?ys.push(l):ys=[l]:gs=l,a=Xl(a,"onChange"),0<a.length&&(i=new il("onChange","change",null,i,l),e.push({event:i,listeners:a}))}var Ni=null,Di=null;function T_(e){my(e,0)}function ll(e){var a=Ti(e);if(fm(a))return e}function Mm(e,a){if(e==="change")return a}var km=!1;if(Tn){var Bu;if(Tn){var Pu="oninput"in document;if(!Pu){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),Pu=typeof Um.oninput=="function"}Bu=Pu}else Bu=!1;km=Bu&&(!document.documentMode||9<document.documentMode)}function Lm(){Ni&&(Ni.detachEvent("onpropertychange",zm),Di=Ni=null)}function zm(e){if(e.propertyName==="value"&&ll(Di)){var a=[];Dm(a,Di,e,Ou(e)),wm(T_,a)}}function j_(e,a,i){e==="focusin"?(Lm(),Ni=a,Di=i,Ni.attachEvent("onpropertychange",zm)):e==="focusout"&&Lm()}function A_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(Di)}function C_(e,a){if(e==="click")return ll(a)}function O_(e,a){if(e==="input"||e==="change")return ll(a)}function R_(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Lt=typeof Object.is=="function"?Object.is:R_;function Mi(e,a){if(Lt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var i=Object.keys(e),l=Object.keys(a);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!gu.call(a,h)||!Lt(e[h],a[h]))return!1}return!0}function Bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pm(e,a){var i=Bm(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=a&&l>=a)return{node:i,offset:a-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Bm(i)}}function Vm(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Vm(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function qm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=el(e.document);a instanceof e.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)e=a.contentWindow;else break;a=el(e.document)}return a}function Vu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var N_=Tn&&"documentMode"in document&&11>=document.documentMode,bs=null,qu=null,ki=null,$u=!1;function $m(e,a,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;$u||bs==null||bs!==el(l)||(l=bs,"selectionStart"in l&&Vu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ki&&Mi(ki,l)||(ki=l,l=Xl(qu,"onSelect"),0<l.length&&(a=new il("onSelect","select",null,a,i),e.push({event:a,listeners:l}),a.target=bs)))}function Ma(e,a){var i={};return i[e.toLowerCase()]=a.toLowerCase(),i["Webkit"+e]="webkit"+a,i["Moz"+e]="moz"+a,i}var ws={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Hu={},Hm={};Tn&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function ka(e){if(Hu[e])return Hu[e];if(!ws[e])return e;var a=ws[e],i;for(i in a)if(a.hasOwnProperty(i)&&i in Hm)return Hu[e]=a[i];return e}var Gm=ka("animationend"),Im=ka("animationiteration"),Km=ka("animationstart"),D_=ka("transitionrun"),M_=ka("transitionstart"),k_=ka("transitioncancel"),Ym=ka("transitionend"),Fm=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function ln(e,a){Fm.set(e,a),Na(a,[e])}var ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],Ss=0,Iu=0;function ul(){for(var e=Ss,a=Iu=Ss=0;a<e;){var i=Kt[a];Kt[a++]=null;var l=Kt[a];Kt[a++]=null;var h=Kt[a];Kt[a++]=null;var d=Kt[a];if(Kt[a++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Xm(i,h,d)}}function cl(e,a,i,l){Kt[Ss++]=e,Kt[Ss++]=a,Kt[Ss++]=i,Kt[Ss++]=l,Iu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ku(e,a,i,l){return cl(e,a,i,l),hl(e)}function Ua(e,a){return cl(e,null,null,a),hl(e)}function Xm(e,a,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var h=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&a!==null&&(h=31-Ut(i),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[a]:l.push(a),a.lane=i|536870912),d):null}function hl(e){if(50<nr)throw nr=0,th=null,Error(r(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var xs={};function U_(e,a,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,a,i,l){return new U_(e,a,i,l)}function Yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,a){var i=e.alternate;return i===null?(i=zt(e.tag,a,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=a,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Jm(e,a){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,a=i.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function dl(e,a,i,l,h,d){var v=0;if(l=e,typeof e=="function")Yu(e)&&(v=1);else if(typeof e=="string")v=V1(e,i,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=zt(31,i,a,h),e.elementType=ie,e.lanes=d,e;case A:return La(i.children,h,d,a);case T:v=8,h|=24;break;case E:return e=zt(12,i,a,h|2),e.elementType=E,e.lanes=d,e;case G:return e=zt(13,i,a,h),e.elementType=G,e.lanes=d,e;case P:return e=zt(19,i,a,h),e.elementType=P,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:v=10;break e;case R:v=9;break e;case z:v=11;break e;case K:v=14;break e;case X:v=16,l=null;break e}v=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return a=zt(v,i,a,h),a.elementType=e,a.type=l,a.lanes=d,a}function La(e,a,i,l){return e=zt(7,e,l,a),e.lanes=i,e}function Fu(e,a,i){return e=zt(6,e,null,a),e.lanes=i,e}function Qm(e){var a=zt(18,null,null,0);return a.stateNode=e,a}function Xu(e,a,i){return a=zt(4,e.children!==null?e.children:[],e.key,a),a.lanes=i,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Zm=new WeakMap;function Yt(e,a){if(typeof e=="object"&&e!==null){var i=Zm.get(e);return i!==void 0?i:(a={value:e,source:a,stack:Qf(a)},Zm.set(e,a),a)}return{value:e,source:a,stack:Qf(a)}}var _s=[],Es=0,fl=null,Ui=0,Ft=[],Xt=0,Wn=null,pn=1,gn="";function An(e,a){_s[Es++]=Ui,_s[Es++]=fl,fl=e,Ui=a}function Wm(e,a,i){Ft[Xt++]=pn,Ft[Xt++]=gn,Ft[Xt++]=Wn,Wn=e;var l=pn;e=gn;var h=32-Ut(l)-1;l&=~(1<<h),i+=1;var d=32-Ut(a)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,pn=1<<32-Ut(a)+h|i<<h|l,gn=d+e}else pn=1<<d|i<<h|l,gn=e}function Ju(e){e.return!==null&&(An(e,1),Wm(e,1,0))}function Qu(e){for(;e===fl;)fl=_s[--Es],_s[Es]=null,Ui=_s[--Es],_s[Es]=null;for(;e===Wn;)Wn=Ft[--Xt],Ft[Xt]=null,gn=Ft[--Xt],Ft[Xt]=null,pn=Ft[--Xt],Ft[Xt]=null}function ep(e,a){Ft[Xt++]=pn,Ft[Xt++]=gn,Ft[Xt++]=Wn,pn=a.id,gn=a.overflow,Wn=e}var ot=null,Le=null,Se=!1,ea=null,Jt=!1,Zu=Error(r(519));function ta(e){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Li(Yt(a,e)),Zu}function tp(e){var a=e.stateNode,i=e.type,l=e.memoizedProps;switch(a[lt]=e,a[xt]=l,i){case"dialog":ve("cancel",a),ve("close",a);break;case"iframe":case"object":case"embed":ve("load",a);break;case"video":case"audio":for(i=0;i<sr.length;i++)ve(sr[i],a);break;case"source":ve("error",a);break;case"img":case"image":case"link":ve("error",a),ve("load",a);break;case"details":ve("toggle",a);break;case"input":ve("invalid",a),mm(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ve("invalid",a);break;case"textarea":ve("invalid",a),gm(a,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||l.suppressHydrationWarning===!0||vy(a.textContent,i)?(l.popover!=null&&(ve("beforetoggle",a),ve("toggle",a)),l.onScroll!=null&&ve("scroll",a),l.onScrollEnd!=null&&ve("scrollend",a),l.onClick!=null&&(a.onclick=En),a=!0):a=!1,a||ta(e,!0)}function np(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ot=ot.return}}function Ts(e){if(e!==ot)return!1;if(!Se)return np(e),Se=!0,!1;var a=e.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||gh(e.type,e.memoizedProps)),i=!i),i&&Le&&ta(e),np(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Ay(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Ay(e)}else a===27?(a=Le,pa(e.type)?(e=Sh,Sh=null,Le=e):Le=a):Le=ot?Zt(e.stateNode.nextSibling):null;return!0}function za(){Le=ot=null,Se=!1}function Wu(){var e=ea;return e!==null&&(At===null?At=e:At.push.apply(At,e),ea=null),e}function Li(e){ea===null?ea=[e]:ea.push(e)}var ec=N(null),Ba=null,Cn=null;function na(e,a,i){J(ec,a._currentValue),a._currentValue=i}function On(e){e._currentValue=ec.current,V(ec)}function tc(e,a,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),e===i)break;e=e.return}}function nc(e,a,i,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<a.length;O++)if(S.context===a[O]){d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),tc(d.return,i,e),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=i,d=v.alternate,d!==null&&(d.lanes|=i),tc(v,i,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function js(e,a,i,l){e=null;for(var h=a,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=h.type;Lt(h.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(h===je.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ur):e=[ur])}h=h.return}e!==null&&nc(a,e,i,l),a.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Ba=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return ap(Ba,e)}function pl(e,a){return Ba===null&&Pa(e),ap(e,a)}function ap(e,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Cn===null){if(e===null)throw Error(r(308));Cn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Cn=Cn.next=a;return i}var L_=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){a.aborted=!0,e.forEach(function(i){return i()})}},z_=n.unstable_scheduleCallback,B_=n.unstable_NormalPriority,Xe={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ac(){return{controller:new L_,data:new Map,refCount:0}}function zi(e){e.refCount--,e.refCount===0&&z_(B_,function(){e.controller.abort()})}var Bi=null,sc=0,As=0,Cs=null;function P_(e,a){if(Bi===null){var i=Bi=[];sc=0,As=lh(),Cs={status:"pending",value:void 0,then:function(l){i.push(l)}}}return sc++,a.then(sp,sp),a}function sp(){if(--sc===0&&Bi!==null){Cs!==null&&(Cs.status="fulfilled");var e=Bi;Bi=null,As=0,Cs=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function V_(e,a){var i=[],l={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){l.status="fulfilled",l.value=a;for(var h=0;h<i.length;h++)(0,i[h])(a)},function(h){for(l.status="rejected",l.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),l}var ip=$.S;$.S=function(e,a){$g=Mt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&P_(e,a),ip!==null&&ip(e,a)};var Va=N(null);function ic(){var e=Va.current;return e!==null?e:Me.pooledCache}function gl(e,a){a===null?J(Va,Va.current):J(Va,a.pool)}function rp(){var e=ic();return e===null?null:{parent:Xe._currentValue,pool:e}}var Os=Error(r(460)),rc=Error(r(474)),yl=Error(r(542)),vl={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function op(e,a,i){switch(i=e[i],i===void 0?e.push(a):i!==a&&(a.then(En,En),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,cp(e),e;default:if(typeof a.status=="string")a.then(En,En);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=a,e.status="pending",e.then(function(l){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=l}},function(l){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,cp(e),e}throw $a=a,Os}}function qa(e){try{var a=e._init;return a(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?($a=i,Os):i}}var $a=null;function up(){if($a===null)throw Error(r(459));var e=$a;return $a=null,e}function cp(e){if(e===Os||e===yl)throw Error(r(483))}var Rs=null,Pi=0;function bl(e){var a=Pi;return Pi+=1,Rs===null&&(Rs=[]),op(Rs,e,a)}function Vi(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function wl(e,a){throw a.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(a),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function hp(e){function a(M,D){if(e){var k=M.deletions;k===null?(M.deletions=[D],M.flags|=16):k.push(D)}}function i(M,D){if(!e)return null;for(;D!==null;)a(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=jn(M,D),M.index=0,M.sibling=null,M}function d(M,D,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<D?(M.flags|=67108866,D):k):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function S(M,D,k,H){return D===null||D.tag!==6?(D=Fu(k,M.mode,H),D.return=M,D):(D=h(D,k),D.return=M,D)}function O(M,D,k,H){var ae=k.type;return ae===A?q(M,D,k.props.children,H,k.key):D!==null&&(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===X&&qa(ae)===D.type)?(D=h(D,k.props),Vi(D,k),D.return=M,D):(D=dl(k.type,k.key,k.props,null,M.mode,H),Vi(D,k),D.return=M,D)}function U(M,D,k,H){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=Xu(k,M.mode,H),D.return=M,D):(D=h(D,k.children||[]),D.return=M,D)}function q(M,D,k,H,ae){return D===null||D.tag!==7?(D=La(k,M.mode,H,ae),D.return=M,D):(D=h(D,k),D.return=M,D)}function I(M,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fu(""+D,M.mode,k),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return k=dl(D.type,D.key,D.props,null,M.mode,k),Vi(k,D),k.return=M,k;case _:return D=Xu(D,M.mode,k),D.return=M,D;case X:return D=qa(D),I(M,D,k)}if(pt(D)||ke(D))return D=La(D,M.mode,k,null),D.return=M,D;if(typeof D.then=="function")return I(M,bl(D),k);if(D.$$typeof===C)return I(M,pl(M,D),k);wl(M,D)}return null}function L(M,D,k,H){var ae=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ae!==null?null:S(M,D,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===ae?O(M,D,k,H):null;case _:return k.key===ae?U(M,D,k,H):null;case X:return k=qa(k),L(M,D,k,H)}if(pt(k)||ke(k))return ae!==null?null:q(M,D,k,H,null);if(typeof k.then=="function")return L(M,D,bl(k),H);if(k.$$typeof===C)return L(M,D,pl(M,k),H);wl(M,k)}return null}function B(M,D,k,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return M=M.get(k)||null,S(D,M,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return M=M.get(H.key===null?k:H.key)||null,O(D,M,H,ae);case _:return M=M.get(H.key===null?k:H.key)||null,U(D,M,H,ae);case X:return H=qa(H),B(M,D,k,H,ae)}if(pt(H)||ke(H))return M=M.get(k)||null,q(D,M,H,ae,null);if(typeof H.then=="function")return B(M,D,k,bl(H),ae);if(H.$$typeof===C)return B(M,D,k,pl(D,H),ae);wl(D,H)}return null}function W(M,D,k,H){for(var ae=null,_e=null,te=D,de=D=0,we=null;te!==null&&de<k.length;de++){te.index>de?(we=te,te=null):we=te.sibling;var Ee=L(M,te,k[de],H);if(Ee===null){te===null&&(te=we);break}e&&te&&Ee.alternate===null&&a(M,te),D=d(Ee,D,de),_e===null?ae=Ee:_e.sibling=Ee,_e=Ee,te=we}if(de===k.length)return i(M,te),Se&&An(M,de),ae;if(te===null){for(;de<k.length;de++)te=I(M,k[de],H),te!==null&&(D=d(te,D,de),_e===null?ae=te:_e.sibling=te,_e=te);return Se&&An(M,de),ae}for(te=l(te);de<k.length;de++)we=B(te,M,de,k[de],H),we!==null&&(e&&we.alternate!==null&&te.delete(we.key===null?de:we.key),D=d(we,D,de),_e===null?ae=we:_e.sibling=we,_e=we);return e&&te.forEach(function(wa){return a(M,wa)}),Se&&An(M,de),ae}function se(M,D,k,H){if(k==null)throw Error(r(151));for(var ae=null,_e=null,te=D,de=D=0,we=null,Ee=k.next();te!==null&&!Ee.done;de++,Ee=k.next()){te.index>de?(we=te,te=null):we=te.sibling;var wa=L(M,te,Ee.value,H);if(wa===null){te===null&&(te=we);break}e&&te&&wa.alternate===null&&a(M,te),D=d(wa,D,de),_e===null?ae=wa:_e.sibling=wa,_e=wa,te=we}if(Ee.done)return i(M,te),Se&&An(M,de),ae;if(te===null){for(;!Ee.done;de++,Ee=k.next())Ee=I(M,Ee.value,H),Ee!==null&&(D=d(Ee,D,de),_e===null?ae=Ee:_e.sibling=Ee,_e=Ee);return Se&&An(M,de),ae}for(te=l(te);!Ee.done;de++,Ee=k.next())Ee=B(te,M,de,Ee.value,H),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?de:Ee.key),D=d(Ee,D,de),_e===null?ae=Ee:_e.sibling=Ee,_e=Ee);return e&&te.forEach(function(Q1){return a(M,Q1)}),Se&&An(M,de),ae}function Ne(M,D,k,H){if(typeof k=="object"&&k!==null&&k.type===A&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:e:{for(var ae=k.key;D!==null;){if(D.key===ae){if(ae=k.type,ae===A){if(D.tag===7){i(M,D.sibling),H=h(D,k.props.children),H.return=M,M=H;break e}}else if(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===X&&qa(ae)===D.type){i(M,D.sibling),H=h(D,k.props),Vi(H,k),H.return=M,M=H;break e}i(M,D);break}else a(M,D);D=D.sibling}k.type===A?(H=La(k.props.children,M.mode,H,k.key),H.return=M,M=H):(H=dl(k.type,k.key,k.props,null,M.mode,H),Vi(H,k),H.return=M,M=H)}return v(M);case _:e:{for(ae=k.key;D!==null;){if(D.key===ae)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){i(M,D.sibling),H=h(D,k.children||[]),H.return=M,M=H;break e}else{i(M,D);break}else a(M,D);D=D.sibling}H=Xu(k,M.mode,H),H.return=M,M=H}return v(M);case X:return k=qa(k),Ne(M,D,k,H)}if(pt(k))return W(M,D,k,H);if(ke(k)){if(ae=ke(k),typeof ae!="function")throw Error(r(150));return k=ae.call(k),se(M,D,k,H)}if(typeof k.then=="function")return Ne(M,D,bl(k),H);if(k.$$typeof===C)return Ne(M,D,pl(M,k),H);wl(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(i(M,D.sibling),H=h(D,k),H.return=M,M=H):(i(M,D),H=Fu(k,M.mode,H),H.return=M,M=H),v(M)):i(M,D)}return function(M,D,k,H){try{Pi=0;var ae=Ne(M,D,k,H);return Rs=null,ae}catch(te){if(te===Os||te===yl)throw te;var _e=zt(29,te,null,M.mode);return _e.lanes=H,_e.return=M,_e}finally{}}}var Ha=hp(!0),dp=hp(!1),aa=!1;function lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,a,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Te&2)!==0){var h=l.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),l.pending=a,a=hl(e),Xm(e,null,i),a}return cl(e,l,a,i),hl(e)}function qi(e,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var l=a.lanes;l&=e.pendingLanes,i|=l,a.lanes=i,am(e,i)}}function uc(e,a){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,i=i.next}while(i!==null);d===null?h=d=a:d=d.next=a}else h=d=a;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=a:e.next=a,i.lastBaseUpdate=a}var cc=!1;function $i(){if(cc){var e=Cs;if(e!==null)throw e}}function Hi(e,a,i,l){cc=!1;var h=e.updateQueue;aa=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,U=O.next;O.next=null,v===null?d=U:v.next=U,v=O;var q=e.alternate;q!==null&&(q=q.updateQueue,S=q.lastBaseUpdate,S!==v&&(S===null?q.firstBaseUpdate=U:S.next=U,q.lastBaseUpdate=O))}if(d!==null){var I=h.baseState;v=0,q=U=O=null,S=d;do{var L=S.lane&-536870913,B=L!==S.lane;if(B?(be&L)===L:(l&L)===L){L!==0&&L===As&&(cc=!0),q!==null&&(q=q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var W=e,se=S;L=a;var Ne=i;switch(se.tag){case 1:if(W=se.payload,typeof W=="function"){I=W.call(Ne,I,L);break e}I=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=se.payload,L=typeof W=="function"?W.call(Ne,I,L):W,L==null)break e;I=b({},I,L);break e;case 2:aa=!0}}L=S.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[L]:B.push(L))}else B={lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},q===null?(U=q=B,O=I):q=q.next=B,v|=L;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;B=S,S=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(O=I),h.baseState=O,h.firstBaseUpdate=U,h.lastBaseUpdate=q,d===null&&(h.shared.lanes=0),ca|=v,e.lanes=v,e.memoizedState=I}}function fp(e,a){if(typeof e!="function")throw Error(r(191,e));e.call(a)}function mp(e,a){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)fp(i[e],a)}var Ns=N(null),Sl=N(0);function pp(e,a){e=Bn,J(Sl,e),J(Ns,a),Bn=e|a.baseLanes}function hc(){J(Sl,Bn),J(Ns,Ns.current)}function dc(){Bn=Sl.current,V(Ns),V(Sl)}var Bt=N(null),Qt=null;function ra(e){var a=e.alternate;J(Ye,Ye.current&1),J(Bt,e),Qt===null&&(a===null||Ns.current!==null||a.memoizedState!==null)&&(Qt=e)}function fc(e){J(Ye,Ye.current),J(Bt,e),Qt===null&&(Qt=e)}function gp(e){e.tag===22?(J(Ye,Ye.current),J(Bt,e),Qt===null&&(Qt=e)):la()}function la(){J(Ye,Ye.current),J(Bt,Bt.current)}function Pt(e){V(Bt),Qt===e&&(Qt=null),V(Ye)}var Ye=N(0);function xl(e){for(var a=e;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||bh(i)||wh(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rn=0,he=null,Oe=null,Je=null,_l=!1,Ds=!1,Ga=!1,El=0,Gi=0,Ms=null,q_=0;function He(){throw Error(r(321))}function mc(e,a){if(a===null)return!1;for(var i=0;i<a.length&&i<e.length;i++)if(!Lt(e[i],a[i]))return!1;return!0}function pc(e,a,i,l,h,d){return Rn=d,he=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=e===null||e.memoizedState===null?Wp:Rc,Ga=!1,d=i(l,h),Ga=!1,Ds&&(d=vp(a,i,l,h)),yp(e),d}function yp(e){$.H=Yi;var a=Oe!==null&&Oe.next!==null;if(Rn=0,Je=Oe=he=null,_l=!1,Gi=0,Ms=null,a)throw Error(r(300));e===null||Qe||(e=e.dependencies,e!==null&&ml(e)&&(Qe=!0))}function vp(e,a,i,l){he=e;var h=0;do{if(Ds&&(Ms=null),Gi=0,Ds=!1,25<=h)throw Error(r(301));if(h+=1,Je=Oe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=eg,d=a(i,l)}while(Ds);return d}function $_(){var e=$.H,a=e.useState()[0];return a=typeof a.then=="function"?Ii(a):a,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(he.flags|=1024),a}function gc(){var e=El!==0;return El=0,e}function yc(e,a,i){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~i}function vc(e){if(_l){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}_l=!1}Rn=0,Je=Oe=he=null,Ds=!1,Gi=El=0,Ms=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?he.memoizedState=Je=e:Je=Je.next=e,Je}function Fe(){if(Oe===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var a=Je===null?he.memoizedState:Je.next;if(a!==null)Je=a,Oe=e;else{if(e===null)throw he.alternate===null?Error(r(467)):Error(r(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Je===null?he.memoizedState=Je=e:Je=Je.next=e}return Je}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ii(e){var a=Gi;return Gi+=1,Ms===null&&(Ms=[]),e=op(Ms,e,a),a=he,(Je===null?a.memoizedState:Je.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?Wp:Rc),e}function jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ii(e);if(e.$$typeof===C)return ut(e)}throw Error(r(438,String(e)))}function bc(e){var a=null,i=he.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Tl(),he.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(e),l=0;l<e;l++)i[l]=fe;return a.index++,i}function Nn(e,a){return typeof a=="function"?a(e):a}function Al(e){var a=Fe();return wc(a,Oe,e)}function wc(e,a,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}a.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{a=h.next;var S=v=null,O=null,U=a,q=!1;do{var I=U.lane&-536870913;if(I!==U.lane?(be&I)===I:(Rn&I)===I){var L=U.revertLane;if(L===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),I===As&&(q=!0);else if((Rn&L)===L){U=U.next,L===As&&(q=!0);continue}else I={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(S=O=I,v=d):O=O.next=I,he.lanes|=L,ca|=L;I=U.action,Ga&&i(d,I),d=U.hasEagerState?U.eagerState:i(d,I)}else L={lane:I,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(S=O=L,v=d):O=O.next=L,he.lanes|=I,ca|=I;U=U.next}while(U!==null&&U!==a);if(O===null?v=d:O.next=S,!Lt(d,e.memoizedState)&&(Qe=!0,q&&(i=Cs,i!==null)))throw i;e.memoizedState=d,e.baseState=v,e.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Sc(e){var a=Fe(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,d=a.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);Lt(d,a.memoizedState)||(Qe=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),i.lastRenderedState=d}return[d,l]}function bp(e,a,i){var l=he,h=Fe(),d=Se;if(d){if(i===void 0)throw Error(r(407));i=i()}else i=a();var v=!Lt((Oe||h).memoizedState,i);if(v&&(h.memoizedState=i,Qe=!0),h=h.queue,Ec(xp.bind(null,l,h,e),[e]),h.getSnapshot!==a||v||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,ks(9,{destroy:void 0},Sp.bind(null,l,h,i,a),null),Me===null)throw Error(r(349));d||(Rn&127)!==0||wp(l,a,i)}return i}function wp(e,a,i){e.flags|=16384,e={getSnapshot:a,value:i},a=he.updateQueue,a===null?(a=Tl(),he.updateQueue=a,a.stores=[e]):(i=a.stores,i===null?a.stores=[e]:i.push(e))}function Sp(e,a,i,l){a.value=i,a.getSnapshot=l,_p(a)&&Ep(e)}function xp(e,a,i){return i(function(){_p(a)&&Ep(e)})}function _p(e){var a=e.getSnapshot;e=e.value;try{var i=a();return!Lt(e,i)}catch{return!0}}function Ep(e){var a=Ua(e,2);a!==null&&Ct(a,e,2)}function xc(e){var a=wt();if(typeof e=="function"){var i=e;if(e=i(),Ga){Jn(!0);try{i()}finally{Jn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},a}function Tp(e,a,i,l){return e.baseState=i,wc(e,Oe,typeof l=="function"?l:Nn)}function H_(e,a,i,l,h){if(Rl(e))throw Error(r(485));if(e=a.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?i(!0):d.isTransition=!1,l(d),i=a.pending,i===null?(d.next=a.pending=d,jp(a,d)):(d.next=i.next,a.pending=i.next=d)}}function jp(e,a){var i=a.action,l=a.payload,h=e.state;if(a.isTransition){var d=$.T,v={};$.T=v;try{var S=i(h,l),O=$.S;O!==null&&O(v,S),Ap(e,a,S)}catch(U){_c(e,a,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),$.T=d}}else try{d=i(h,l),Ap(e,a,d)}catch(U){_c(e,a,U)}}function Ap(e,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Cp(e,a,l)},function(l){return _c(e,a,l)}):Cp(e,a,i)}function Cp(e,a,i){a.status="fulfilled",a.value=i,Op(a),e.state=i,a=e.pending,a!==null&&(i=a.next,i===a?e.pending=null:(i=i.next,a.next=i,jp(e,i)))}function _c(e,a,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=i,Op(a),a=a.next;while(a!==l)}e.action=null}function Op(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Rp(e,a){return a}function Np(e,a){if(Se){var i=Me.formState;if(i!==null){e:{var l=he;if(Se){if(Le){t:{for(var h=Le,d=Jt;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zt(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Le=Zt(h.nextSibling),l=h.data==="F!";break e}}ta(l)}l=!1}l&&(a=i[0])}}return i=wt(),i.memoizedState=i.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:a},i.queue=l,i=Jp.bind(null,he,l),l.dispatch=i,l=xc(!1),d=Oc.bind(null,he,!1,l.queue),l=wt(),h={state:a,dispatch:null,action:e,pending:null},l.queue=h,i=H_.bind(null,he,h,d,i),h.dispatch=i,l.memoizedState=e,[a,i,!1]}function Dp(e){var a=Fe();return Mp(a,Oe,e)}function Mp(e,a,i){if(a=wc(e,a,Rp)[0],e=Al(Nn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Ii(a)}catch(v){throw v===Os?yl:v}else l=a;a=Fe();var h=a.queue,d=h.dispatch;return i!==a.memoizedState&&(he.flags|=2048,ks(9,{destroy:void 0},G_.bind(null,h,i),null)),[l,d,e]}function G_(e,a){e.action=a}function kp(e){var a=Fe(),i=Oe;if(i!==null)return Mp(a,i,e);Fe(),a=a.memoizedState,i=Fe();var l=i.queue.dispatch;return i.memoizedState=e,[a,l,!1]}function ks(e,a,i,l){return e={tag:e,create:i,deps:l,inst:a,next:null},a=he.updateQueue,a===null&&(a=Tl(),he.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,a.lastEffect=e),e}function Up(){return Fe().memoizedState}function Cl(e,a,i,l){var h=wt();he.flags|=e,h.memoizedState=ks(1|a,{destroy:void 0},i,l===void 0?null:l)}function Ol(e,a,i,l){var h=Fe();l=l===void 0?null:l;var d=h.memoizedState.inst;Oe!==null&&l!==null&&mc(l,Oe.memoizedState.deps)?h.memoizedState=ks(a,d,i,l):(he.flags|=e,h.memoizedState=ks(1|a,d,i,l))}function Lp(e,a){Cl(8390656,8,e,a)}function Ec(e,a){Ol(2048,8,e,a)}function I_(e){he.flags|=4;var a=he.updateQueue;if(a===null)a=Tl(),he.updateQueue=a,a.events=[e];else{var i=a.events;i===null?a.events=[e]:i.push(e)}}function zp(e){var a=Fe().memoizedState;return I_({ref:a,nextImpl:e}),function(){if((Te&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Bp(e,a){return Ol(4,2,e,a)}function Pp(e,a){return Ol(4,4,e,a)}function Vp(e,a){if(typeof a=="function"){e=e();var i=a(e);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function qp(e,a,i){i=i!=null?i.concat([e]):null,Ol(4,4,Vp.bind(null,a,e),i)}function Tc(){}function $p(e,a){var i=Fe();a=a===void 0?null:a;var l=i.memoizedState;return a!==null&&mc(a,l[1])?l[0]:(i.memoizedState=[e,a],e)}function Hp(e,a){var i=Fe();a=a===void 0?null:a;var l=i.memoizedState;if(a!==null&&mc(a,l[1]))return l[0];if(l=e(),Ga){Jn(!0);try{e()}finally{Jn(!1)}}return i.memoizedState=[l,a],l}function jc(e,a,i){return i===void 0||(Rn&1073741824)!==0&&(be&261930)===0?e.memoizedState=a:(e.memoizedState=i,e=Gg(),he.lanes|=e,ca|=e,i)}function Gp(e,a,i,l){return Lt(i,a)?i:Ns.current!==null?(e=jc(e,i,l),Lt(e,a)||(Qe=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(be&261930)===0?(Qe=!0,e.memoizedState=i):(e=Gg(),he.lanes|=e,ca|=e,a)}function Ip(e,a,i,l,h){var d=Y.p;Y.p=d!==0&&8>d?d:8;var v=$.T,S={};$.T=S,Oc(e,!1,a,i);try{var O=h(),U=$.S;if(U!==null&&U(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=V_(O,l);Ki(e,a,q,$t(e))}else Ki(e,a,l,$t(e))}catch(I){Ki(e,a,{then:function(){},status:"rejected",reason:I},$t())}finally{Y.p=d,v!==null&&S.types!==null&&(v.types=S.types),$.T=v}}function K_(){}function Ac(e,a,i,l){if(e.tag!==5)throw Error(r(476));var h=Kp(e).queue;Ip(e,h,a,ee,i===null?K_:function(){return Yp(e),i(l)})}function Kp(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:ee},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:i},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Yp(e){var a=Kp(e);a.next===null&&(a=e.alternate.memoizedState),Ki(e,a.next.queue,{},$t())}function Cc(){return ut(ur)}function Fp(){return Fe().memoizedState}function Xp(){return Fe().memoizedState}function Y_(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var i=$t();e=sa(i);var l=ia(a,e,i);l!==null&&(Ct(l,a,i),qi(l,a,i)),a={cache:ac()},e.payload=a;return}a=a.return}}function F_(e,a,i){var l=$t();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Rl(e)?Qp(a,i):(i=Ku(e,a,i,l),i!==null&&(Ct(i,e,l),Zp(i,a,l)))}function Jp(e,a,i){var l=$t();Ki(e,a,i,l)}function Ki(e,a,i,l){var h={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Rl(e))Qp(a,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var v=a.lastRenderedState,S=d(v,i);if(h.hasEagerState=!0,h.eagerState=S,Lt(S,v))return cl(e,a,h,0),Me===null&&ul(),!1}catch{}finally{}if(i=Ku(e,a,h,l),i!==null)return Ct(i,e,l),Zp(i,a,l),!0}return!1}function Oc(e,a,i,l){if(l={lane:2,revertLane:lh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rl(e)){if(a)throw Error(r(479))}else a=Ku(e,i,l,2),a!==null&&Ct(a,e,2)}function Rl(e){var a=e.alternate;return e===he||a!==null&&a===he}function Qp(e,a){Ds=_l=!0;var i=e.pending;i===null?a.next=a:(a.next=i.next,i.next=a),e.pending=a}function Zp(e,a,i){if((i&4194048)!==0){var l=a.lanes;l&=e.pendingLanes,i|=l,a.lanes=i,am(e,i)}}var Yi={readContext:ut,use:jl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Yi.useEffectEvent=He;var Wp={readContext:ut,use:jl,useCallback:function(e,a){return wt().memoizedState=[e,a===void 0?null:a],e},useContext:ut,useEffect:Lp,useImperativeHandle:function(e,a,i){i=i!=null?i.concat([e]):null,Cl(4194308,4,Vp.bind(null,a,e),i)},useLayoutEffect:function(e,a){return Cl(4194308,4,e,a)},useInsertionEffect:function(e,a){Cl(4,2,e,a)},useMemo:function(e,a){var i=wt();a=a===void 0?null:a;var l=e();if(Ga){Jn(!0);try{e()}finally{Jn(!1)}}return i.memoizedState=[l,a],l},useReducer:function(e,a,i){var l=wt();if(i!==void 0){var h=i(a);if(Ga){Jn(!0);try{i(a)}finally{Jn(!1)}}}else h=a;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=F_.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var a=wt();return e={current:e},a.memoizedState=e},useState:function(e){e=xc(e);var a=e.queue,i=Jp.bind(null,he,a);return a.dispatch=i,[e.memoizedState,i]},useDebugValue:Tc,useDeferredValue:function(e,a){var i=wt();return jc(i,e,a)},useTransition:function(){var e=xc(!1);return e=Ip.bind(null,he,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,i){var l=he,h=wt();if(Se){if(i===void 0)throw Error(r(407));i=i()}else{if(i=a(),Me===null)throw Error(r(349));(be&127)!==0||wp(l,a,i)}h.memoizedState=i;var d={value:i,getSnapshot:a};return h.queue=d,Lp(xp.bind(null,l,d,e),[e]),l.flags|=2048,ks(9,{destroy:void 0},Sp.bind(null,l,d,i,a),null),i},useId:function(){var e=wt(),a=Me.identifierPrefix;if(Se){var i=gn,l=pn;i=(l&~(1<<32-Ut(l)-1)).toString(32)+i,a="_"+a+"R_"+i,i=El++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=q_++,a="_"+a+"r_"+i.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Cc,useFormState:Np,useActionState:Np,useOptimistic:function(e){var a=wt();a.memoizedState=a.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Oc.bind(null,he,!0,i),i.dispatch=a,[e,a]},useMemoCache:bc,useCacheRefresh:function(){return wt().memoizedState=Y_.bind(null,he)},useEffectEvent:function(e){var a=wt(),i={impl:e};return a.memoizedState=i,function(){if((Te&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Rc={readContext:ut,use:jl,useCallback:$p,useContext:ut,useEffect:Ec,useImperativeHandle:qp,useInsertionEffect:Bp,useLayoutEffect:Pp,useMemo:Hp,useReducer:Al,useRef:Up,useState:function(){return Al(Nn)},useDebugValue:Tc,useDeferredValue:function(e,a){var i=Fe();return Gp(i,Oe.memoizedState,e,a)},useTransition:function(){var e=Al(Nn)[0],a=Fe().memoizedState;return[typeof e=="boolean"?e:Ii(e),a]},useSyncExternalStore:bp,useId:Fp,useHostTransitionStatus:Cc,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,a){var i=Fe();return Tp(i,Oe,e,a)},useMemoCache:bc,useCacheRefresh:Xp};Rc.useEffectEvent=zp;var eg={readContext:ut,use:jl,useCallback:$p,useContext:ut,useEffect:Ec,useImperativeHandle:qp,useInsertionEffect:Bp,useLayoutEffect:Pp,useMemo:Hp,useReducer:Sc,useRef:Up,useState:function(){return Sc(Nn)},useDebugValue:Tc,useDeferredValue:function(e,a){var i=Fe();return Oe===null?jc(i,e,a):Gp(i,Oe.memoizedState,e,a)},useTransition:function(){var e=Sc(Nn)[0],a=Fe().memoizedState;return[typeof e=="boolean"?e:Ii(e),a]},useSyncExternalStore:bp,useId:Fp,useHostTransitionStatus:Cc,useFormState:kp,useActionState:kp,useOptimistic:function(e,a){var i=Fe();return Oe!==null?Tp(i,Oe,e,a):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:bc,useCacheRefresh:Xp};eg.useEffectEvent=zp;function Nc(e,a,i,l){a=e.memoizedState,i=i(l,a),i=i==null?a:b({},a,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Dc={enqueueSetState:function(e,a,i){e=e._reactInternals;var l=$t(),h=sa(l);h.payload=a,i!=null&&(h.callback=i),a=ia(e,h,l),a!==null&&(Ct(a,e,l),qi(a,e,l))},enqueueReplaceState:function(e,a,i){e=e._reactInternals;var l=$t(),h=sa(l);h.tag=1,h.payload=a,i!=null&&(h.callback=i),a=ia(e,h,l),a!==null&&(Ct(a,e,l),qi(a,e,l))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var i=$t(),l=sa(i);l.tag=2,a!=null&&(l.callback=a),a=ia(e,l,i),a!==null&&(Ct(a,e,i),qi(a,e,i))}};function tg(e,a,i,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):a.prototype&&a.prototype.isPureReactComponent?!Mi(i,l)||!Mi(h,d):!0}function ng(e,a,i,l){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,l),a.state!==e&&Dc.enqueueReplaceState(a,a.state,null)}function Ia(e,a){var i=a;if("ref"in a){i={};for(var l in a)l!=="ref"&&(i[l]=a[l])}if(e=e.defaultProps){i===a&&(i=b({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}function ag(e){ol(e)}function sg(e){console.error(e)}function ig(e){ol(e)}function Nl(e,a){try{var i=e.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function rg(e,a,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mc(e,a,i){return i=sa(i),i.tag=3,i.payload={element:null},i.callback=function(){Nl(e,a)},i}function lg(e){return e=sa(e),e.tag=3,e}function og(e,a,i,l){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){rg(a,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){rg(a,i,l),typeof h!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function X_(e,a,i,l,h){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=i.alternate,a!==null&&js(a,i,h,!0),i=Bt.current,i!==null){switch(i.tag){case 31:case 13:return Qt===null?Hl():i.alternate===null&&Ge===0&&(Ge=3),i.flags&=-257,i.flags|=65536,i.lanes=h,l===vl?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([l]):a.add(l),sh(e,l,h)),!1;case 22:return i.flags|=65536,l===vl?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([l]):i.add(l)),sh(e,l,h)),!1}throw Error(r(435,i.tag))}return sh(e,l,h),Hl(),!1}if(Se)return a=Bt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,l!==Zu&&(e=Error(r(422),{cause:l}),Li(Yt(e,i)))):(l!==Zu&&(a=Error(r(423),{cause:l}),Li(Yt(a,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Yt(l,i),h=Mc(e.stateNode,l,h),uc(e,h),Ge!==4&&(Ge=2)),!1;var d=Error(r(520),{cause:l});if(d=Yt(d,i),tr===null?tr=[d]:tr.push(d),Ge!==4&&(Ge=2),a===null)return!0;l=Yt(l,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=Mc(i.stateNode,l,e),uc(i,e),!1;case 1:if(a=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ha===null||!ha.has(d))))return i.flags|=65536,h&=-h,i.lanes|=h,h=lg(h),og(h,e,i,l),uc(i,h),!1}i=i.return}while(i!==null);return!1}var kc=Error(r(461)),Qe=!1;function ct(e,a,i,l){a.child=e===null?dp(a,null,i,l):Ha(a,e.child,i,l)}function ug(e,a,i,l,h){i=i.render;var d=a.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Pa(a),l=pc(e,a,i,v,d,h),S=gc(),e!==null&&!Qe?(yc(e,a,h),Dn(e,a,h)):(Se&&S&&Ju(a),a.flags|=1,ct(e,a,l,h),a.child)}function cg(e,a,i,l,h){if(e===null){var d=i.type;return typeof d=="function"&&!Yu(d)&&d.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=d,hg(e,a,d,l,h)):(e=dl(i.type,null,l,a,a.mode,h),e.ref=a.ref,e.return=a,a.child=e)}if(d=e.child,!$c(e,h)){var v=d.memoizedProps;if(i=i.compare,i=i!==null?i:Mi,i(v,l)&&e.ref===a.ref)return Dn(e,a,h)}return a.flags|=1,e=jn(d,l),e.ref=a.ref,e.return=a,a.child=e}function hg(e,a,i,l,h){if(e!==null){var d=e.memoizedProps;if(Mi(d,l)&&e.ref===a.ref)if(Qe=!1,a.pendingProps=l=d,$c(e,h))(e.flags&131072)!==0&&(Qe=!0);else return a.lanes=e.lanes,Dn(e,a,h)}return Uc(e,a,i,l,h)}function dg(e,a,i,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(l=a.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,a.child=null;return fg(e,a,d,i,l)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(a,d!==null?d.cachePool:null),d!==null?pp(a,d):hc(),gp(a);else return l=a.lanes=536870912,fg(e,a,d!==null?d.baseLanes|i:i,i,l)}else d!==null?(gl(a,d.cachePool),pp(a,d),la(),a.memoizedState=null):(e!==null&&gl(a,null),hc(),la());return ct(e,a,h,i),a.child}function Fi(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function fg(e,a,i,l,h){var d=ic();return d=d===null?null:{parent:Xe._currentValue,pool:d},a.memoizedState={baseLanes:i,cachePool:d},e!==null&&gl(a,null),hc(),gp(a),e!==null&&js(e,a,l,!0),a.childLanes=h,null}function Dl(e,a){return a=kl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function mg(e,a,i){return Ha(a,e.child,null,i),e=Dl(a,a.pendingProps),e.flags|=2,Pt(a),a.memoizedState=null,e}function J_(e,a,i){var l=a.pendingProps,h=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Se){if(l.mode==="hidden")return e=Dl(a,l),a.lanes=536870912,Fi(null,e);if(fc(a),(e=Le)?(e=jy(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},i=Qm(e),i.return=a,a.child=i,ot=a,Le=null)):e=null,e===null)throw ta(a);return a.lanes=536870912,null}return Dl(a,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(fc(a),h)if(a.flags&256)a.flags&=-257,a=mg(e,a,i);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(r(558));else if(Qe||js(e,a,i,!1),h=(i&e.childLanes)!==0,Qe||h){if(l=Me,l!==null&&(v=sm(l,i),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ua(e,v),Ct(l,e,v),kc;Hl(),a=mg(e,a,i)}else e=d.treeContext,Le=Zt(v.nextSibling),ot=a,Se=!0,ea=null,Jt=!1,e!==null&&ep(a,e),a=Dl(a,l),a.flags|=4096;return a}return e=jn(e.child,{mode:l.mode,children:l.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Ml(e,a){var i=a.ref;if(i===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(a.flags|=4194816)}}function Uc(e,a,i,l,h){return Pa(a),i=pc(e,a,i,l,void 0,h),l=gc(),e!==null&&!Qe?(yc(e,a,h),Dn(e,a,h)):(Se&&l&&Ju(a),a.flags|=1,ct(e,a,i,h),a.child)}function pg(e,a,i,l,h,d){return Pa(a),a.updateQueue=null,i=vp(a,l,i,h),yp(e),l=gc(),e!==null&&!Qe?(yc(e,a,d),Dn(e,a,d)):(Se&&l&&Ju(a),a.flags|=1,ct(e,a,i,d),a.child)}function gg(e,a,i,l,h){if(Pa(a),a.stateNode===null){var d=xs,v=i.contextType;typeof v=="object"&&v!==null&&(d=ut(v)),d=new i(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Dc,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},lc(a),v=i.contextType,d.context=typeof v=="object"&&v!==null?ut(v):xs,d.state=a.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Nc(a,i,v,l),d.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Dc.enqueueReplaceState(d,d.state,null),Hi(a,l,d,h),$i(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(e===null){d=a.stateNode;var S=a.memoizedProps,O=Ia(i,S);d.props=O;var U=d.context,q=i.contextType;v=xs,typeof q=="object"&&q!==null&&(v=ut(q));var I=i.getDerivedStateFromProps;q=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||U!==v)&&ng(a,d,l,v),aa=!1;var L=a.memoizedState;d.state=L,Hi(a,l,d,h),$i(),U=a.memoizedState,S||L!==U||aa?(typeof I=="function"&&(Nc(a,i,I,l),U=a.memoizedState),(O=aa||tg(a,i,O,l,L,U,v))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=U),d.props=l,d.state=U,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,oc(e,a),v=a.memoizedProps,q=Ia(i,v),d.props=q,I=a.pendingProps,L=d.context,U=i.contextType,O=xs,typeof U=="object"&&U!==null&&(O=ut(U)),S=i.getDerivedStateFromProps,(U=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==I||L!==O)&&ng(a,d,l,O),aa=!1,L=a.memoizedState,d.state=L,Hi(a,l,d,h),$i();var B=a.memoizedState;v!==I||L!==B||aa||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof S=="function"&&(Nc(a,i,S,l),B=a.memoizedState),(q=aa||tg(a,i,q,l,L,B,O)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,O)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=B),d.props=l,d.state=B,d.context=O,l=q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(a.flags|=1024),l=!1)}return d=l,Ml(e,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,e!==null&&l?(a.child=Ha(a,e.child,null,h),a.child=Ha(a,null,i,h)):ct(e,a,i,h),a.memoizedState=d.state,e=a.child):e=Dn(e,a,h),e}function yg(e,a,i,l){return za(),a.flags|=256,ct(e,a,i,l),a.child}var Lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zc(e){return{baseLanes:e,cachePool:rp()}}function Bc(e,a,i){return e=e!==null?e.childLanes&~i:0,a&&(e|=qt),e}function vg(e,a,i){var l=a.pendingProps,h=!1,d=(a.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),v&&(h=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,e===null){if(Se){if(h?ra(a):la(),(e=Le)?(e=jy(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},i=Qm(e),i.return=a,a.child=i,ot=a,Le=null)):e=null,e===null)throw ta(a);return wh(e)?a.lanes=32:a.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(la(),h=a.mode,S=kl({mode:"hidden",children:S},h),l=La(l,h,i,null),S.return=a,l.return=a,S.sibling=l,a.child=S,l=a.child,l.memoizedState=zc(i),l.childLanes=Bc(e,v,i),a.memoizedState=Lc,Fi(null,l)):(ra(a),Pc(a,S))}var O=e.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)a.flags&256?(ra(a),a.flags&=-257,a=Vc(e,a,i)):a.memoizedState!==null?(la(),a.child=e.child,a.flags|=128,a=null):(la(),S=l.fallback,h=a.mode,l=kl({mode:"visible",children:l.children},h),S=La(S,h,i,null),S.flags|=2,l.return=a,S.return=a,l.sibling=S,a.child=l,Ha(a,e.child,null,i),l=a.child,l.memoizedState=zc(i),l.childLanes=Bc(e,v,i),a.memoizedState=Lc,a=Fi(null,l));else if(ra(a),wh(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(r(419)),l.stack="",l.digest=v,Li({value:l,source:null,stack:null}),a=Vc(e,a,i)}else if(Qe||js(e,a,i,!1),v=(i&e.childLanes)!==0,Qe||v){if(v=Me,v!==null&&(l=sm(v,i),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ua(e,l),Ct(v,e,l),kc;bh(S)||Hl(),a=Vc(e,a,i)}else bh(S)?(a.flags|=192,a.child=e.child,a=null):(e=O.treeContext,Le=Zt(S.nextSibling),ot=a,Se=!0,ea=null,Jt=!1,e!==null&&ep(a,e),a=Pc(a,l.children),a.flags|=4096);return a}return h?(la(),S=l.fallback,h=a.mode,O=e.child,U=O.sibling,l=jn(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,U!==null?S=jn(U,S):(S=La(S,h,i,null),S.flags|=2),S.return=a,l.return=a,l.sibling=S,a.child=l,Fi(null,l),l=a.child,S=e.child.memoizedState,S===null?S=zc(i):(h=S.cachePool,h!==null?(O=Xe._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=rp(),S={baseLanes:S.baseLanes|i,cachePool:h}),l.memoizedState=S,l.childLanes=Bc(e,v,i),a.memoizedState=Lc,Fi(e.child,l)):(ra(a),i=e.child,e=i.sibling,i=jn(i,{mode:"visible",children:l.children}),i.return=a,i.sibling=null,e!==null&&(v=a.deletions,v===null?(a.deletions=[e],a.flags|=16):v.push(e)),a.child=i,a.memoizedState=null,i)}function Pc(e,a){return a=kl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function kl(e,a){return e=zt(22,e,null,a),e.lanes=0,e}function Vc(e,a,i){return Ha(a,e.child,null,i),e=Pc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function bg(e,a,i){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a),tc(e.return,a,i)}function qc(e,a,i,l,h,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h,treeForkCount:d}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=h,v.treeForkCount=d)}function wg(e,a,i){var l=a.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Ye.current,S=(v&2)!==0;if(S?(v=v&1|2,a.flags|=128):v&=1,J(Ye,v),ct(e,a,l,i),l=Se?Ui:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bg(e,i,a);else if(e.tag===19)bg(e,i,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(i=a.child,h=null;i!==null;)e=i.alternate,e!==null&&xl(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=a.child,a.child=null):(h=i.sibling,i.sibling=null),qc(a,!1,h,i,d,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=a.child,a.child=null;h!==null;){if(e=h.alternate,e!==null&&xl(e)===null){a.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}qc(a,!0,i,null,d,l);break;case"together":qc(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Dn(e,a,i){if(e!==null&&(a.dependencies=e.dependencies),ca|=a.lanes,(i&a.childLanes)===0)if(e!==null){if(js(e,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(r(153));if(a.child!==null){for(e=a.child,i=jn(e,e.pendingProps),a.child=i,i.return=a;e.sibling!==null;)e=e.sibling,i=i.sibling=jn(e,e.pendingProps),i.return=a;i.sibling=null}return a.child}function $c(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function Q_(e,a,i){switch(a.tag){case 3:bt(a,a.stateNode.containerInfo),na(a,Xe,e.memoizedState.cache),za();break;case 27:case 5:wi(a);break;case 4:bt(a,a.stateNode.containerInfo);break;case 10:na(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,fc(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(a),a.flags|=128,null):(i&a.child.childLanes)!==0?vg(e,a,i):(ra(a),e=Dn(e,a,i),e!==null?e.sibling:null);ra(a);break;case 19:var h=(e.flags&128)!==0;if(l=(i&a.childLanes)!==0,l||(js(e,a,i,!1),l=(i&a.childLanes)!==0),h){if(l)return wg(e,a,i);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ye,Ye.current),l)break;return null;case 22:return a.lanes=0,dg(e,a,i,a.pendingProps);case 24:na(a,Xe,e.memoizedState.cache)}return Dn(e,a,i)}function Sg(e,a,i){if(e!==null)if(e.memoizedProps!==a.pendingProps)Qe=!0;else{if(!$c(e,i)&&(a.flags&128)===0)return Qe=!1,Q_(e,a,i);Qe=(e.flags&131072)!==0}else Qe=!1,Se&&(a.flags&1048576)!==0&&Wm(a,Ui,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(e=qa(a.elementType),a.type=e,typeof e=="function")Yu(e)?(l=Ia(e,l),a.tag=1,a=gg(null,a,e,l,i)):(a.tag=0,a=Uc(null,a,e,l,i));else{if(e!=null){var h=e.$$typeof;if(h===z){a.tag=11,a=ug(null,a,e,l,i);break e}else if(h===K){a.tag=14,a=cg(null,a,e,l,i);break e}}throw a=rt(e)||e,Error(r(306,a,""))}}return a;case 0:return Uc(e,a,a.type,a.pendingProps,i);case 1:return l=a.type,h=Ia(l,a.pendingProps),gg(e,a,l,h,i);case 3:e:{if(bt(a,a.stateNode.containerInfo),e===null)throw Error(r(387));l=a.pendingProps;var d=a.memoizedState;h=d.element,oc(e,a),Hi(a,l,null,i);var v=a.memoizedState;if(l=v.cache,na(a,Xe,l),l!==d.cache&&nc(a,[Xe],i,!0),$i(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=yg(e,a,l,i);break e}else if(l!==h){h=Yt(Error(r(424)),a),Li(h),a=yg(e,a,l,i);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Zt(e.firstChild),ot=a,Se=!0,ea=null,Jt=!0,i=dp(a,null,l,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(za(),l===h){a=Dn(e,a,i);break e}ct(e,a,l,i)}a=a.child}return a;case 26:return Ml(e,a),e===null?(i=Dy(a.type,null,a.pendingProps,null))?a.memoizedState=i:Se||(i=a.type,e=a.pendingProps,l=Jl(ge.current).createElement(i),l[lt]=a,l[xt]=e,ht(l,i,e),st(l),a.stateNode=l):a.memoizedState=Dy(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return wi(a),e===null&&Se&&(l=a.stateNode=Oy(a.type,a.pendingProps,ge.current),ot=a,Jt=!0,h=Le,pa(a.type)?(Sh=h,Le=Zt(l.firstChild)):Le=h),ct(e,a,a.pendingProps.children,i),Ml(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Se&&((h=l=Le)&&(l=A1(l,a.type,a.pendingProps,Jt),l!==null?(a.stateNode=l,ot=a,Le=Zt(l.firstChild),Jt=!1,h=!0):h=!1),h||ta(a)),wi(a),h=a.type,d=a.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,gh(h,d)?l=null:v!==null&&gh(h,v)&&(a.flags|=32),a.memoizedState!==null&&(h=pc(e,a,$_,null,null,i),ur._currentValue=h),Ml(e,a),ct(e,a,l,i),a.child;case 6:return e===null&&Se&&((e=i=Le)&&(i=C1(i,a.pendingProps,Jt),i!==null?(a.stateNode=i,ot=a,Le=null,e=!0):e=!1),e||ta(a)),null;case 13:return vg(e,a,i);case 4:return bt(a,a.stateNode.containerInfo),l=a.pendingProps,e===null?a.child=Ha(a,null,l,i):ct(e,a,l,i),a.child;case 11:return ug(e,a,a.type,a.pendingProps,i);case 7:return ct(e,a,a.pendingProps,i),a.child;case 8:return ct(e,a,a.pendingProps.children,i),a.child;case 12:return ct(e,a,a.pendingProps.children,i),a.child;case 10:return l=a.pendingProps,na(a,a.type,l.value),ct(e,a,l.children,i),a.child;case 9:return h=a.type._context,l=a.pendingProps.children,Pa(a),h=ut(h),l=l(h),a.flags|=1,ct(e,a,l,i),a.child;case 14:return cg(e,a,a.type,a.pendingProps,i);case 15:return hg(e,a,a.type,a.pendingProps,i);case 19:return wg(e,a,i);case 31:return J_(e,a,i);case 22:return dg(e,a,i,a.pendingProps);case 24:return Pa(a),l=ut(Xe),e===null?(h=ic(),h===null&&(h=Me,d=ac(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=i),h=d),a.memoizedState={parent:l,cache:h},lc(a),na(a,Xe,h)):((e.lanes&i)!==0&&(oc(e,a),Hi(a,null,null,i),$i()),h=e.memoizedState,d=a.memoizedState,h.parent!==l?(h={parent:l,cache:l},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),na(a,Xe,l)):(l=d.cache,na(a,Xe,l),l!==h.cache&&nc(a,[Xe],i,!0))),ct(e,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Mn(e){e.flags|=4}function Hc(e,a,i,l,h){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Fg())e.flags|=8192;else throw $a=vl,rc}else e.flags&=-16777217}function xg(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zy(a))if(Fg())e.flags|=8192;else throw $a=vl,rc}function Ul(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?tm():536870912,e.lanes|=a,Bs|=a)}function Xi(e,a){if(!Se)switch(e.tailMode){case"hidden":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var a=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(a)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,a}function Z_(e,a,i){var l=a.pendingProps;switch(Qu(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(a),null;case 1:return ze(a),null;case 3:return i=a.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),On(Xe),Ke(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ts(a)?Mn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Wu())),ze(a),null;case 26:var h=a.type,d=a.memoizedState;return e===null?(Mn(a),d!==null?(ze(a),xg(a,d)):(ze(a),Hc(a,h,null,l,i))):d?d!==e.memoizedState?(Mn(a),ze(a),xg(a,d)):(ze(a),a.flags&=-16777217):(e=e.memoizedProps,e!==l&&Mn(a),ze(a),Hc(a,h,e,l,i)),null;case 27:if(Kr(a),i=ge.current,h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Mn(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return ze(a),null}e=Q.current,Ts(a)?tp(a):(e=Oy(h,l,i),a.stateNode=e,Mn(a))}return ze(a),null;case 5:if(Kr(a),h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Mn(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return ze(a),null}if(d=Q.current,Ts(a))tp(a);else{var v=Jl(ge.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[lt]=a,d[xt]=l;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=d;e:switch(ht(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Mn(a)}}return ze(a),Hc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,i),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==l&&Mn(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(e=ge.current,Ts(a)){if(e=a.stateNode,i=a.memoizedProps,l=null,h=ot,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[lt]=a,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||vy(e.nodeValue,i)),e||ta(a,!0)}else e=Jl(e).createTextNode(l),e[lt]=a,a.stateNode=e}return ze(a),null;case 31:if(i=a.memoizedState,e===null||e.memoizedState!==null){if(l=Ts(a),i!==null){if(e===null){if(!l)throw Error(r(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[lt]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ze(a),e=!1}else i=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return a.flags&256?(Pt(a),a):(Pt(a),null);if((a.flags&128)!==0)throw Error(r(558))}return ze(a),null;case 13:if(l=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ts(a),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[lt]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ze(a),h=!1}else h=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Pt(a),a):(Pt(a),null)}return Pt(a),(a.flags&128)!==0?(a.lanes=i,a):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=a.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),i!==e&&i&&(a.child.flags|=8192),Ul(a,a.updateQueue),ze(a),null);case 4:return Ke(),e===null&&hh(a.stateNode.containerInfo),ze(a),null;case 10:return On(a.type),ze(a),null;case 19:if(V(Ye),l=a.memoizedState,l===null)return ze(a),null;if(h=(a.flags&128)!==0,d=l.rendering,d===null)if(h)Xi(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(d=xl(e),d!==null){for(a.flags|=128,Xi(l,!1),e=d.updateQueue,a.updateQueue=e,Ul(a,e),a.subtreeFlags=0,e=i,i=a.child;i!==null;)Jm(i,e),i=i.sibling;return J(Ye,Ye.current&1|2),Se&&An(a,l.treeForkCount),a.child}e=e.sibling}l.tail!==null&&Mt()>Vl&&(a.flags|=128,h=!0,Xi(l,!1),a.lanes=4194304)}else{if(!h)if(e=xl(d),e!==null){if(a.flags|=128,h=!0,e=e.updateQueue,a.updateQueue=e,Ul(a,e),Xi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Se)return ze(a),null}else 2*Mt()-l.renderingStartTime>Vl&&i!==536870912&&(a.flags|=128,h=!0,Xi(l,!1),a.lanes=4194304);l.isBackwards?(d.sibling=a.child,a.child=d):(e=l.last,e!==null?e.sibling=d:a.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Mt(),e.sibling=null,i=Ye.current,J(Ye,h?i&1|2:i&1),Se&&An(a,l.treeForkCount),e):(ze(a),null);case 22:case 23:return Pt(a),dc(),l=a.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(i&536870912)!==0&&(a.flags&128)===0&&(ze(a),a.subtreeFlags&6&&(a.flags|=8192)):ze(a),i=a.updateQueue,i!==null&&Ul(a,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048),e!==null&&V(Va),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),On(Xe),ze(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function W_(e,a){switch(Qu(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return On(Xe),Ke(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Kr(a),null;case 31:if(a.memoizedState!==null){if(Pt(a),a.alternate===null)throw Error(r(340));za()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Pt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(r(340));za()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return V(Ye),null;case 4:return Ke(),null;case 10:return On(a.type),null;case 22:case 23:return Pt(a),dc(),e!==null&&V(Va),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return On(Xe),null;case 25:return null;default:return null}}function _g(e,a){switch(Qu(a),a.tag){case 3:On(Xe),Ke();break;case 26:case 27:case 5:Kr(a);break;case 4:Ke();break;case 31:a.memoizedState!==null&&Pt(a);break;case 13:Pt(a);break;case 19:V(Ye);break;case 10:On(a.type);break;case 22:case 23:Pt(a),dc(),e!==null&&V(Va);break;case 24:On(Xe)}}function Ji(e,a){try{var i=a.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var h=l.next;i=h;do{if((i.tag&e)===e){l=void 0;var d=i.create,v=i.inst;l=d(),v.destroy=l}i=i.next}while(i!==h)}}catch(S){Ce(a,a.return,S)}}function oa(e,a,i){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=a;var O=i,U=S;try{U()}catch(q){Ce(h,O,q)}}}l=l.next}while(l!==d)}}catch(q){Ce(a,a.return,q)}}function Eg(e){var a=e.updateQueue;if(a!==null){var i=e.stateNode;try{mp(a,i)}catch(l){Ce(e,e.return,l)}}}function Tg(e,a,i){i.props=Ia(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Ce(e,a,l)}}function Qi(e,a){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(h){Ce(e,a,h)}}function yn(e,a){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(h){Ce(e,a,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Ce(e,a,h)}else i.current=null}function jg(e){var a=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(h){Ce(e,e.return,h)}}function Gc(e,a,i){try{var l=e.stateNode;S1(l,e.type,i,a),l[xt]=a}catch(h){Ce(e,e.return,h)}}function Ag(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pa(e.type)||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,a,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(e),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=En));else if(l!==4&&(l===27&&pa(e.type)&&(i=e.stateNode,a=null),e=e.child,e!==null))for(Kc(e,a,i),e=e.sibling;e!==null;)Kc(e,a,i),e=e.sibling}function Ll(e,a,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?i.insertBefore(e,a):i.appendChild(e);else if(l!==4&&(l===27&&pa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ll(e,a,i),e=e.sibling;e!==null;)Ll(e,a,i),e=e.sibling}function Cg(e){var a=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);ht(a,l,i),a[lt]=e,a[xt]=i}catch(d){Ce(e,e.return,d)}}var kn=!1,Ze=!1,Yc=!1,Og=typeof WeakSet=="function"?WeakSet:Set,it=null;function e1(e,a){if(e=e.containerInfo,mh=ao,e=qm(e),Vu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var v=0,S=-1,O=-1,U=0,q=0,I=e,L=null;t:for(;;){for(var B;I!==i||h!==0&&I.nodeType!==3||(S=v+h),I!==d||l!==0&&I.nodeType!==3||(O=v+l),I.nodeType===3&&(v+=I.nodeValue.length),(B=I.firstChild)!==null;)L=I,I=B;for(;;){if(I===e)break t;if(L===i&&++U===h&&(S=v),L===d&&++q===l&&(O=v),(B=I.nextSibling)!==null)break;I=L,L=I.parentNode}I=B}i=S===-1||O===-1?null:{start:S,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(ph={focusedElem:e,selectionRange:i},ao=!1,it=a;it!==null;)if(a=it,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,it=e;else for(;it!==null;){switch(a=it,d=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)h=e[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=a,h=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var W=Ia(i.type,h);e=l.getSnapshotBeforeUpdate(W,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){Ce(i,i.return,se)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,i=e.nodeType,i===9)vh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=a.sibling,e!==null){e.return=a.return,it=e;break}it=a.return}}function Rg(e,a,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ln(e,i),l&4&&Ji(5,i);break;case 1:if(Ln(e,i),l&4)if(e=i.stateNode,a===null)try{e.componentDidMount()}catch(v){Ce(i,i.return,v)}else{var h=Ia(i.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(h,a,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ce(i,i.return,v)}}l&64&&Eg(i),l&512&&Qi(i,i.return);break;case 3:if(Ln(e,i),l&64&&(e=i.updateQueue,e!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{mp(e,a)}catch(v){Ce(i,i.return,v)}}break;case 27:a===null&&l&4&&Cg(i);case 26:case 5:Ln(e,i),a===null&&l&4&&jg(i),l&512&&Qi(i,i.return);break;case 12:Ln(e,i);break;case 31:Ln(e,i),l&4&&Mg(e,i);break;case 13:Ln(e,i),l&4&&kg(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=u1.bind(null,i),O1(e,i))));break;case 22:if(l=i.memoizedState!==null||kn,!l){a=a!==null&&a.memoizedState!==null||Ze,h=kn;var d=Ze;kn=l,(Ze=a)&&!d?zn(e,i,(i.subtreeFlags&8772)!==0):Ln(e,i),kn=h,Ze=d}break;case 30:break;default:Ln(e,i)}}function Ng(e){var a=e.alternate;a!==null&&(e.alternate=null,Ng(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&_u(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,Et=!1;function Un(e,a,i){for(i=i.child;i!==null;)Dg(e,a,i),i=i.sibling}function Dg(e,a,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Si,i)}catch{}switch(i.tag){case 26:Ze||yn(i,a),Un(e,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ze||yn(i,a);var l=Be,h=Et;pa(i.type)&&(Be=i.stateNode,Et=!1),Un(e,a,i),rr(i.stateNode),Be=l,Et=h;break;case 5:Ze||yn(i,a);case 6:if(l=Be,h=Et,Be=null,Un(e,a,i),Be=l,Et=h,Be!==null)if(Et)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(i.stateNode)}catch(d){Ce(i,a,d)}else try{Be.removeChild(i.stateNode)}catch(d){Ce(i,a,d)}break;case 18:Be!==null&&(Et?(e=Be,Ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ks(e)):Ey(Be,i.stateNode));break;case 4:l=Be,h=Et,Be=i.stateNode.containerInfo,Et=!0,Un(e,a,i),Be=l,Et=h;break;case 0:case 11:case 14:case 15:oa(2,i,a),Ze||oa(4,i,a),Un(e,a,i);break;case 1:Ze||(yn(i,a),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Tg(i,a,l)),Un(e,a,i);break;case 21:Un(e,a,i);break;case 22:Ze=(l=Ze)||i.memoizedState!==null,Un(e,a,i),Ze=l;break;default:Un(e,a,i)}}function Mg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(i){Ce(a,a.return,i)}}}function kg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(i){Ce(a,a.return,i)}}function t1(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Og),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Og),a;default:throw Error(r(435,e.tag))}}function zl(e,a){var i=t1(e);a.forEach(function(l){if(!i.has(l)){i.add(l);var h=c1.bind(null,e,l);l.then(h,h)}})}function Tt(e,a){var i=a.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l],d=e,v=a,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(pa(S.type)){Be=S.stateNode,Et=!1;break e}break;case 5:Be=S.stateNode,Et=!1;break e;case 3:case 4:Be=S.stateNode.containerInfo,Et=!0;break e}S=S.return}if(Be===null)throw Error(r(160));Dg(d,v,h),Be=null,Et=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ug(a,e),a=a.sibling}var on=null;function Ug(e,a){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(a,e),jt(e),l&4&&(oa(3,e,e.return),Ji(3,e),oa(5,e,e.return));break;case 1:Tt(a,e),jt(e),l&512&&(Ze||i===null||yn(i,i.return)),l&64&&kn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var h=on;if(Tt(a,e),jt(e),l&512&&(Ze||i===null||yn(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ht(d,l,i),d[lt]=e,st(d),l=d;break e;case"link":var v=Uy("link","href",h).get(l+(i.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),ht(d,l,i),h.head.appendChild(d);break;case"meta":if(v=Uy("meta","content",h).get(l+(i.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(S,1);break t}}d=h.createElement(l),ht(d,l,i),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[lt]=e,st(d),l=d}e.stateNode=l}else Ly(h,e.type,e.stateNode);else e.stateNode=ky(h,l,e.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Ly(h,e.type,e.stateNode):ky(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gc(e,e.memoizedProps,i.memoizedProps)}break;case 27:Tt(a,e),jt(e),l&512&&(Ze||i===null||yn(i,i.return)),i!==null&&l&4&&Gc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Tt(a,e),jt(e),l&512&&(Ze||i===null||yn(i,i.return)),e.flags&32){h=e.stateNode;try{ps(h,"")}catch(W){Ce(e,e.return,W)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Gc(e,h,i!==null?i.memoizedProps:h)),l&1024&&(Yc=!0);break;case 6:if(Tt(a,e),jt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(W){Ce(e,e.return,W)}}break;case 3:if(Wl=null,h=on,on=Ql(a.containerInfo),Tt(a,e),on=h,jt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Ks(a.containerInfo)}catch(W){Ce(e,e.return,W)}Yc&&(Yc=!1,Lg(e));break;case 4:l=on,on=Ql(e.stateNode.containerInfo),Tt(a,e),jt(e),on=l;break;case 12:Tt(a,e),jt(e);break;case 31:Tt(a,e),jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zl(e,l)));break;case 13:Tt(a,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Pl=Mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zl(e,l)));break;case 22:h=e.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,U=kn,q=Ze;if(kn=U||h,Ze=q||O,Tt(a,e),Ze=q,kn=U,jt(e),l&8192)e:for(a=e.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(i===null||O||kn||Ze||Ka(e)),i=null,a=e;;){if(a.tag===5||a.tag===26){if(i===null){O=i=a;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var I=O.memoizedProps.style,L=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(W){Ce(O,O.return,W)}}}else if(a.tag===6){if(i===null){O=a;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(W){Ce(O,O.return,W)}}}else if(a.tag===18){if(i===null){O=a;try{var B=O.stateNode;h?Ty(B,!0):Ty(O.stateNode,!1)}catch(W){Ce(O,O.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,zl(e,i))));break;case 19:Tt(a,e),jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zl(e,l)));break;case 30:break;case 21:break;default:Tt(a,e),jt(e)}}function jt(e){var a=e.flags;if(a&2){try{for(var i,l=e.return;l!==null;){if(Ag(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var h=i.stateNode,d=Ic(e);Ll(e,d,h);break;case 5:var v=i.stateNode;i.flags&32&&(ps(v,""),i.flags&=-33);var S=Ic(e);Ll(e,S,v);break;case 3:case 4:var O=i.stateNode.containerInfo,U=Ic(e);Kc(e,U,O);break;default:throw Error(r(161))}}catch(q){Ce(e,e.return,q)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Lg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Lg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ln(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rg(e,a.alternate,a),a=a.sibling}function Ka(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:oa(4,a,a.return),Ka(a);break;case 1:yn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Tg(a,a.return,i),Ka(a);break;case 27:rr(a.stateNode);case 26:case 5:yn(a,a.return),Ka(a);break;case 22:a.memoizedState===null&&Ka(a);break;case 30:Ka(a);break;default:Ka(a)}e=e.sibling}}function zn(e,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,h=e,d=a,v=d.flags;switch(d.tag){case 0:case 11:case 15:zn(h,d,i),Ji(4,d);break;case 1:if(zn(h,d,i),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ce(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)fp(O[h],S)}catch(U){Ce(l,l.return,U)}}i&&v&64&&Eg(d),Qi(d,d.return);break;case 27:Cg(d);case 26:case 5:zn(h,d,i),i&&l===null&&v&4&&jg(d),Qi(d,d.return);break;case 12:zn(h,d,i);break;case 31:zn(h,d,i),i&&v&4&&Mg(h,d);break;case 13:zn(h,d,i),i&&v&4&&kg(h,d);break;case 22:d.memoizedState===null&&zn(h,d,i),Qi(d,d.return);break;case 30:break;default:zn(h,d,i)}a=a.sibling}}function Fc(e,a){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&zi(i))}function Xc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&zi(e))}function un(e,a,i,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)zg(e,a,i,l),a=a.sibling}function zg(e,a,i,l){var h=a.flags;switch(a.tag){case 0:case 11:case 15:un(e,a,i,l),h&2048&&Ji(9,a);break;case 1:un(e,a,i,l);break;case 3:un(e,a,i,l),h&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&zi(e)));break;case 12:if(h&2048){un(e,a,i,l),e=a.stateNode;try{var d=a.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Ce(a,a.return,O)}}else un(e,a,i,l);break;case 31:un(e,a,i,l);break;case 13:un(e,a,i,l);break;case 23:break;case 22:d=a.stateNode,v=a.alternate,a.memoizedState!==null?d._visibility&2?un(e,a,i,l):Zi(e,a):d._visibility&2?un(e,a,i,l):(d._visibility|=2,Us(e,a,i,l,(a.subtreeFlags&10256)!==0||!1)),h&2048&&Fc(v,a);break;case 24:un(e,a,i,l),h&2048&&Xc(a.alternate,a);break;default:un(e,a,i,l)}}function Us(e,a,i,l,h){for(h=h&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=e,v=a,S=i,O=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Us(d,v,S,O,h),Ji(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?Us(d,v,S,O,h):Zi(d,v):(q._visibility|=2,Us(d,v,S,O,h)),h&&U&2048&&Fc(v.alternate,v);break;case 24:Us(d,v,S,O,h),h&&U&2048&&Xc(v.alternate,v);break;default:Us(d,v,S,O,h)}a=a.sibling}}function Zi(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=e,l=a,h=l.flags;switch(l.tag){case 22:Zi(i,l),h&2048&&Fc(l.alternate,l);break;case 24:Zi(i,l),h&2048&&Xc(l.alternate,l);break;default:Zi(i,l)}a=a.sibling}}var Wi=8192;function Ls(e,a,i){if(e.subtreeFlags&Wi)for(e=e.child;e!==null;)Bg(e,a,i),e=e.sibling}function Bg(e,a,i){switch(e.tag){case 26:Ls(e,a,i),e.flags&Wi&&e.memoizedState!==null&&q1(i,on,e.memoizedState,e.memoizedProps);break;case 5:Ls(e,a,i);break;case 3:case 4:var l=on;on=Ql(e.stateNode.containerInfo),Ls(e,a,i),on=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Wi,Wi=16777216,Ls(e,a,i),Wi=l):Ls(e,a,i));break;default:Ls(e,a,i)}}function Pg(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function er(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];it=l,qg(l,e)}Pg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vg(e),e=e.sibling}function Vg(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&oa(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Bl(e)):er(e);break;default:er(e)}}function Bl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];it=l,qg(l,e)}Pg(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:oa(8,a,a.return),Bl(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Bl(a));break;default:Bl(a)}e=e.sibling}}function qg(e,a){for(;it!==null;){var i=it;switch(i.tag){case 0:case 11:case 15:oa(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zi(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,it=l;else e:for(i=e;it!==null;){l=it;var h=l.sibling,d=l.return;if(Ng(l),l===i){it=null;break e}if(h!==null){h.return=d,it=h;break e}it=d}}}var n1={getCacheForType:function(e){var a=ut(Xe),i=a.data.get(e);return i===void 0&&(i=e(),a.data.set(e,i)),i},cacheSignal:function(){return ut(Xe).controller.signal}},a1=typeof WeakMap=="function"?WeakMap:Map,Te=0,Me=null,ye=null,be=0,Ae=0,Vt=null,ua=!1,zs=!1,Jc=!1,Bn=0,Ge=0,ca=0,Ya=0,Qc=0,qt=0,Bs=0,tr=null,At=null,Zc=!1,Pl=0,$g=0,Vl=1/0,ql=null,ha=null,nt=0,da=null,Ps=null,Pn=0,Wc=0,eh=null,Hg=null,nr=0,th=null;function $t(){return(Te&2)!==0&&be!==0?be&-be:$.T!==null?lh():im()}function Gg(){if(qt===0)if((be&536870912)===0||Se){var e=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),qt=e}else qt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),qt}function Ct(e,a,i){(e===Me&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),fa(e,be,qt,!1)),_i(e,i),((Te&2)===0||e!==Me)&&(e===Me&&((Te&2)===0&&(Ya|=i),Ge===4&&fa(e,be,qt,!1)),vn(e))}function Ig(e,a,i){if((Te&6)!==0)throw Error(r(327));var l=!i&&(a&127)===0&&(a&e.expiredLanes)===0||xi(e,a),h=l?r1(e,a):ah(e,a,!0),d=l;do{if(h===0){zs&&!l&&fa(e,a,0,!1);break}else{if(i=e.current.alternate,d&&!s1(i)){h=ah(e,a,!1),d=!1;continue}if(h===2){if(d=a,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var S=e;h=tr;var O=S.current.memoizedState.isDehydrated;if(O&&(Vs(S,v).flags|=256),v=ah(S,v,!1),v!==2){if(Jc&&!O){S.errorRecoveryDisabledLanes|=d,Ya|=d,h=4;break e}d=At,At=h,d!==null&&(At===null?At=d:At.push.apply(At,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Vs(e,0),fa(e,a,0,!0);break}e:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:fa(l,a,qt,!ua);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=Pl+300-Mt(),10<h)){if(fa(l,a,qt,!ua),Qr(l,0,!0)!==0)break e;Pn=a,l.timeoutHandle=xy(Kg.bind(null,l,i,At,ql,Zc,a,qt,Ya,Bs,ua,d,"Throttled",-0,0),h);break e}Kg(l,i,At,ql,Zc,a,qt,Ya,Bs,ua,d,null,-0,0)}}break}while(!0);vn(e)}function Kg(e,a,i,l,h,d,v,S,O,U,q,I,L,B){if(e.timeoutHandle=-1,I=a.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Bg(a,d,I);var W=(d&62914560)===d?Pl-Mt():(d&4194048)===d?$g-Mt():0;if(W=$1(I,W),W!==null){Pn=d,e.cancelPendingCommit=W(ey.bind(null,e,a,d,i,l,h,v,S,O,q,I,null,L,B)),fa(e,d,v,!U);return}}ey(e,a,d,i,l,h,v,S,O)}function s1(e){for(var a=e;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var h=i[l],d=h.getSnapshot;h=h.value;try{if(!Lt(d(),h))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fa(e,a,i,l){a&=~Qc,a&=~Ya,e.suspendedLanes|=a,e.pingedLanes&=~a,l&&(e.warmLanes|=a),l=e.expirationTimes;for(var h=a;0<h;){var d=31-Ut(h),v=1<<d;l[d]=-1,h&=~v}i!==0&&nm(e,i,a)}function $l(){return(Te&6)===0?(ar(0),!1):!0}function nh(){if(ye!==null){if(Ae===0)var e=ye.return;else e=ye,Cn=Ba=null,vc(e),Rs=null,Pi=0,e=ye;for(;e!==null;)_g(e.alternate,e),e=e.return;ye=null}}function Vs(e,a){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,E1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Pn=0,nh(),Me=e,ye=i=jn(e.current,null),be=a,Ae=0,Vt=null,ua=!1,zs=xi(e,a),Jc=!1,Bs=qt=Qc=Ya=ca=Ge=0,At=tr=null,Zc=!1,(a&8)!==0&&(a|=a&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=a;0<l;){var h=31-Ut(l),d=1<<h;a|=e[h],l&=~d}return Bn=a,ul(),i}function Yg(e,a){he=null,$.H=Yi,a===Os||a===yl?(a=up(),Ae=3):a===rc?(a=up(),Ae=4):Ae=a===kc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vt=a,ye===null&&(Ge=1,Nl(e,Yt(a,e.current)))}function Fg(){var e=Bt.current;return e===null?!0:(be&4194048)===be?Qt===null:(be&62914560)===be||(be&536870912)!==0?e===Qt:!1}function Xg(){var e=$.H;return $.H=Yi,e===null?Yi:e}function Jg(){var e=$.A;return $.A=n1,e}function Hl(){Ge=4,ua||(be&4194048)!==be&&Bt.current!==null||(zs=!0),(ca&134217727)===0&&(Ya&134217727)===0||Me===null||fa(Me,be,qt,!1)}function ah(e,a,i){var l=Te;Te|=2;var h=Xg(),d=Jg();(Me!==e||be!==a)&&(ql=null,Vs(e,a)),a=!1;var v=Ge;e:do try{if(Ae!==0&&ye!==null){var S=ye,O=Vt;switch(Ae){case 8:nh(),v=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(a=!0);var U=Ae;if(Ae=0,Vt=null,qs(e,S,O,U),i&&zs){v=0;break e}break;default:U=Ae,Ae=0,Vt=null,qs(e,S,O,U)}}i1(),v=Ge;break}catch(q){Yg(e,q)}while(!0);return a&&e.shellSuspendCounter++,Cn=Ba=null,Te=l,$.H=h,$.A=d,ye===null&&(Me=null,be=0,ul()),v}function i1(){for(;ye!==null;)Qg(ye)}function r1(e,a){var i=Te;Te|=2;var l=Xg(),h=Jg();Me!==e||be!==a?(ql=null,Vl=Mt()+500,Vs(e,a)):zs=xi(e,a);e:do try{if(Ae!==0&&ye!==null){a=ye;var d=Vt;t:switch(Ae){case 1:Ae=0,Vt=null,qs(e,a,d,1);break;case 2:case 9:if(lp(d)){Ae=0,Vt=null,Zg(a);break}a=function(){Ae!==2&&Ae!==9||Me!==e||(Ae=7),vn(e)},d.then(a,a);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:lp(d)?(Ae=0,Vt=null,Zg(a)):(Ae=0,Vt=null,qs(e,a,d,7));break;case 5:var v=null;switch(ye.tag){case 26:v=ye.memoizedState;case 5:case 27:var S=ye;if(v?zy(v):S.stateNode.complete){Ae=0,Vt=null;var O=S.sibling;if(O!==null)ye=O;else{var U=S.return;U!==null?(ye=U,Gl(U)):ye=null}break t}}Ae=0,Vt=null,qs(e,a,d,5);break;case 6:Ae=0,Vt=null,qs(e,a,d,6);break;case 8:nh(),Ge=6;break e;default:throw Error(r(462))}}l1();break}catch(q){Yg(e,q)}while(!0);return Cn=Ba=null,$.H=l,$.A=h,Te=i,ye!==null?0:(Me=null,be=0,ul(),Ge)}function l1(){for(;ye!==null&&!Rx();)Qg(ye)}function Qg(e){var a=Sg(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,a===null?Gl(e):ye=a}function Zg(e){var a=e,i=a.alternate;switch(a.tag){case 15:case 0:a=pg(i,a,a.pendingProps,a.type,void 0,be);break;case 11:a=pg(i,a,a.pendingProps,a.type.render,a.ref,be);break;case 5:vc(a);default:_g(i,a),a=ye=Jm(a,Bn),a=Sg(i,a,Bn)}e.memoizedProps=e.pendingProps,a===null?Gl(e):ye=a}function qs(e,a,i,l){Cn=Ba=null,vc(a),Rs=null,Pi=0;var h=a.return;try{if(X_(e,h,a,i,be)){Ge=1,Nl(e,Yt(i,e.current)),ye=null;return}}catch(d){if(h!==null)throw ye=h,d;Ge=1,Nl(e,Yt(i,e.current)),ye=null;return}a.flags&32768?(Se||l===1?e=!0:zs||(be&536870912)!==0?e=!1:(ua=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wg(a,e)):Gl(a)}function Gl(e){var a=e;do{if((a.flags&32768)!==0){Wg(a,ua);return}e=a.return;var i=Z_(a.alternate,a,Bn);if(i!==null){ye=i;return}if(a=a.sibling,a!==null){ye=a;return}ye=a=e}while(a!==null);Ge===0&&(Ge=5)}function Wg(e,a){do{var i=W_(e.alternate,e);if(i!==null){i.flags&=32767,ye=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(e=e.sibling,e!==null)){ye=e;return}ye=e=i}while(e!==null);Ge=6,ye=null}function ey(e,a,i,l,h,d,v,S,O){e.cancelPendingCommit=null;do Il();while(nt!==0);if((Te&6)!==0)throw Error(r(327));if(a!==null){if(a===e.current)throw Error(r(177));if(d=a.lanes|a.childLanes,d|=Iu,Vx(e,i,d,v,S,O),e===Me&&(ye=Me=null,be=0),Ps=a,da=e,Pn=i,Wc=d,eh=h,Hg=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,h1(Yr,function(){return iy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=Y.p,Y.p=2,v=Te,Te|=4;try{e1(e,a,i)}finally{Te=v,Y.p=h,$.T=l}}nt=1,ty(),ny(),ay()}}function ty(){if(nt===1){nt=0;var e=da,a=Ps,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var l=Y.p;Y.p=2;var h=Te;Te|=4;try{Ug(a,e);var d=ph,v=qm(e.containerInfo),S=d.focusedElem,O=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Vm(S.ownerDocument.documentElement,S)){if(O!==null&&Vu(S)){var U=O.start,q=O.end;if(q===void 0&&(q=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(q,S.value.length);else{var I=S.ownerDocument||document,L=I&&I.defaultView||window;if(L.getSelection){var B=L.getSelection(),W=S.textContent.length,se=Math.min(O.start,W),Ne=O.end===void 0?se:Math.min(O.end,W);!B.extend&&se>Ne&&(v=Ne,Ne=se,se=v);var M=Pm(S,se),D=Pm(S,Ne);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=I.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),se>Ne?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(I=[],B=S;B=B.parentNode;)B.nodeType===1&&I.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<I.length;S++){var H=I[S];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}ao=!!mh,ph=mh=null}finally{Te=h,Y.p=l,$.T=i}}e.current=a,nt=2}}function ny(){if(nt===2){nt=0;var e=da,a=Ps,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var l=Y.p;Y.p=2;var h=Te;Te|=4;try{Rg(e,a.alternate,a)}finally{Te=h,Y.p=l,$.T=i}}nt=3}}function ay(){if(nt===4||nt===3){nt=0,Nx();var e=da,a=Ps,i=Pn,l=Hg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?nt=5:(nt=0,Ps=da=null,sy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ha=null),Su(i),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Si,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=$.T,h=Y.p,Y.p=2,$.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{$.T=a,Y.p=h}}(Pn&3)!==0&&Il(),vn(e),h=e.pendingLanes,(i&261930)!==0&&(h&42)!==0?e===th?nr++:(nr=0,th=e):nr=0,ar(0)}}function sy(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,zi(a)))}function Il(){return ty(),ny(),ay(),iy()}function iy(){if(nt!==5)return!1;var e=da,a=Wc;Wc=0;var i=Su(Pn),l=$.T,h=Y.p;try{Y.p=32>i?32:i,$.T=null,i=eh,eh=null;var d=da,v=Pn;if(nt=0,Ps=da=null,Pn=0,(Te&6)!==0)throw Error(r(331));var S=Te;if(Te|=4,Vg(d.current),zg(d,d.current,v,i),Te=S,ar(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Si,d)}catch{}return!0}finally{Y.p=h,$.T=l,sy(e,a)}}function ry(e,a,i){a=Yt(i,a),a=Mc(e.stateNode,a,2),e=ia(e,a,2),e!==null&&(_i(e,2),vn(e))}function Ce(e,a,i){if(e.tag===3)ry(e,e,i);else for(;a!==null;){if(a.tag===3){ry(a,e,i);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){e=Yt(i,e),i=lg(2),l=ia(a,i,2),l!==null&&(og(i,l,a,e),_i(l,2),vn(l));break}}a=a.return}}function sh(e,a,i){var l=e.pingCache;if(l===null){l=e.pingCache=new a1;var h=new Set;l.set(a,h)}else h=l.get(a),h===void 0&&(h=new Set,l.set(a,h));h.has(i)||(Jc=!0,h.add(i),e=o1.bind(null,e,a,i),a.then(e,e))}function o1(e,a,i){var l=e.pingCache;l!==null&&l.delete(a),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Me===e&&(be&i)===i&&(Ge===4||Ge===3&&(be&62914560)===be&&300>Mt()-Pl?(Te&2)===0&&Vs(e,0):Qc|=i,Bs===be&&(Bs=0)),vn(e)}function ly(e,a){a===0&&(a=tm()),e=Ua(e,a),e!==null&&(_i(e,a),vn(e))}function u1(e){var a=e.memoizedState,i=0;a!==null&&(i=a.retryLane),ly(e,i)}function c1(e,a){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),ly(e,i)}function h1(e,a){return yu(e,a)}var Kl=null,$s=null,ih=!1,Yl=!1,rh=!1,ma=0;function vn(e){e!==$s&&e.next===null&&($s===null?Kl=$s=e:$s=$s.next=e),Yl=!0,ih||(ih=!0,f1())}function ar(e,a){if(!rh&&Yl){rh=!0;do for(var i=!1,l=Kl;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Ut(42|e)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,hy(l,d))}else d=be,d=Qr(l,l===Me?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xi(l,d)||(i=!0,hy(l,d));l=l.next}while(i);rh=!1}}function d1(){oy()}function oy(){Yl=ih=!1;var e=0;ma!==0&&_1()&&(e=ma);for(var a=Mt(),i=null,l=Kl;l!==null;){var h=l.next,d=uy(l,a);d===0?(l.next=null,i===null?Kl=h:i.next=h,h===null&&($s=i)):(i=l,(e!==0||(d&3)!==0)&&(Yl=!0)),l=h}nt!==0&&nt!==5||ar(e),ma!==0&&(ma=0)}function uy(e,a){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ut(d),S=1<<v,O=h[v];O===-1?((S&i)===0||(S&l)!==0)&&(h[v]=Px(S,a)):O<=a&&(e.expiredLanes|=S),d&=~S}if(a=Me,i=be,i=Qr(e,e===a?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===a&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&vu(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||xi(e,i)){if(a=i&-i,a===e.callbackPriority)return a;switch(l!==null&&vu(l),Su(i)){case 2:case 8:i=Wf;break;case 32:i=Yr;break;case 268435456:i=em;break;default:i=Yr}return l=cy.bind(null,e),i=yu(i,l),e.callbackPriority=a,e.callbackNode=i,a}return l!==null&&l!==null&&vu(l),e.callbackPriority=2,e.callbackNode=null,2}function cy(e,a){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Il()&&e.callbackNode!==i)return null;var l=be;return l=Qr(e,e===Me?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ig(e,l,a),uy(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?cy.bind(null,e):null)}function hy(e,a){if(Il())return null;Ig(e,a,!0)}function f1(){T1(function(){(Te&6)!==0?yu(Zf,d1):oy()})}function lh(){if(ma===0){var e=As;e===0&&(e=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),ma=e}return ma}function dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tl(""+e)}function fy(e,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,e.id&&i.setAttribute("form",e.id),a.parentNode.insertBefore(i,a),e=new FormData(e),i.parentNode.removeChild(i),e}function m1(e,a,i,l,h){if(a==="submit"&&i&&i.stateNode===h){var d=dy((h[xt]||null).action),v=l.submitter;v&&(a=(a=v[xt]||null)?dy(a.formAction):v.getAttribute("formAction"),a!==null&&(d=a,v=null));var S=new il("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var O=v?fy(h,v):new FormData(h);Ac(i,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=v?fy(h,v):new FormData(h),Ac(i,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var oh=0;oh<Gu.length;oh++){var uh=Gu[oh],p1=uh.toLowerCase(),g1=uh[0].toUpperCase()+uh.slice(1);ln(p1,"on"+g1)}ln(Gm,"onAnimationEnd"),ln(Im,"onAnimationIteration"),ln(Km,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(D_,"onTransitionRun"),ln(M_,"onTransitionStart"),ln(k_,"onTransitionCancel"),ln(Ym,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sr));function my(e,a){a=(a&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var v=l.length-1;0<=v;v--){var S=l[v],O=S.instance,U=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=U;try{d(h)}catch(q){ol(q)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(S=l[v],O=S.instance,U=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=U;try{d(h)}catch(q){ol(q)}h.currentTarget=null,d=O}}}}function ve(e,a){var i=a[xu];i===void 0&&(i=a[xu]=new Set);var l=e+"__bubble";i.has(l)||(py(a,e,2,!1),i.add(l))}function ch(e,a,i){var l=0;a&&(l|=4),py(i,e,l,a)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function hh(e){if(!e[Fl]){e[Fl]=!0,om.forEach(function(i){i!=="selectionchange"&&(y1.has(i)||ch(i,!1,e),ch(i,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Fl]||(a[Fl]=!0,ch("selectionchange",!1,a))}}function py(e,a,i,l){switch(Gy(a)){case 2:var h=I1;break;case 8:h=K1;break;default:h=jh}i=h.bind(null,a,i,e),h=void 0,!Nu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(a,i,{capture:!0,passive:h}):e.addEventListener(a,i,!0):h!==void 0?e.addEventListener(a,i,{passive:h}):e.addEventListener(a,i,!1)}function dh(e,a,i,l,h){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=cs(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}S=S.parentNode}}l=l.return}wm(function(){var U=d,q=Ou(i),I=[];e:{var L=Fm.get(e);if(L!==void 0){var B=il,W=e;switch(e){case"keypress":if(al(i)===0)break e;case"keydown":case"keyup":B=c_;break;case"focusin":W="focus",B=Uu;break;case"focusout":W="blur",B=Uu;break;case"beforeblur":case"afterblur":B=Uu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=f_;break;case Gm:case Im:case Km:B=t_;break;case Ym:B=p_;break;case"scroll":case"scrollend":B=Jx;break;case"wheel":B=y_;break;case"copy":case"cut":case"paste":B=a_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Tm;break;case"toggle":case"beforetoggle":B=b_}var se=(a&4)!==0,Ne=!se&&(e==="scroll"||e==="scrollend"),M=se?L!==null?L+"Capture":null:L;se=[];for(var D=U,k;D!==null;){var H=D;if(k=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||k===null||M===null||(H=ji(D,M),H!=null&&se.push(ir(D,H,k))),Ne)break;D=D.return}0<se.length&&(L=new B(L,W,null,i,q),I.push({event:L,listeners:se}))}}if((a&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&i!==Cu&&(W=i.relatedTarget||i.fromElement)&&(cs(W)||W[us]))break e;if((B||L)&&(L=q.window===q?q:(L=q.ownerDocument)?L.defaultView||L.parentWindow:window,B?(W=i.relatedTarget||i.toElement,B=U,W=W?cs(W):null,W!==null&&(Ne=u(W),se=W.tag,W!==Ne||se!==5&&se!==27&&se!==6)&&(W=null)):(B=null,W=U),B!==W)){if(se=_m,H="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(se=Tm,H="onPointerLeave",M="onPointerEnter",D="pointer"),Ne=B==null?L:Ti(B),k=W==null?L:Ti(W),L=new se(H,D+"leave",B,i,q),L.target=Ne,L.relatedTarget=k,H=null,cs(q)===U&&(se=new se(M,D+"enter",W,i,q),se.target=k,se.relatedTarget=Ne,H=se),Ne=H,B&&W)t:{for(se=v1,M=B,D=W,k=0,H=M;H;H=se(H))k++;H=0;for(var ae=D;ae;ae=se(ae))H++;for(;0<k-H;)M=se(M),k--;for(;0<H-k;)D=se(D),H--;for(;k--;){if(M===D||D!==null&&M===D.alternate){se=M;break t}M=se(M),D=se(D)}se=null}else se=null;B!==null&&gy(I,L,B,se,!1),W!==null&&Ne!==null&&gy(I,Ne,W,se,!0)}}e:{if(L=U?Ti(U):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var _e=Mm;else if(Nm(L))if(km)_e=O_;else{_e=A_;var te=j_}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Au(U.elementType)&&(_e=Mm):_e=C_;if(_e&&(_e=_e(e,U))){Dm(I,_e,i,q);break e}te&&te(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&ju(L,"number",L.value)}switch(te=U?Ti(U):window,e){case"focusin":(Nm(te)||te.contentEditable==="true")&&(bs=te,qu=U,ki=null);break;case"focusout":ki=qu=bs=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,$m(I,i,q);break;case"selectionchange":if(N_)break;case"keydown":case"keyup":$m(I,i,q)}var de;if(zu)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else vs?Om(e,i)&&(we="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(we="onCompositionStart");we&&(jm&&i.locale!=="ko"&&(vs||we!=="onCompositionStart"?we==="onCompositionEnd"&&vs&&(de=Sm()):(Zn=q,Du="value"in Zn?Zn.value:Zn.textContent,vs=!0)),te=Xl(U,we),0<te.length&&(we=new Em(we,e,null,i,q),I.push({event:we,listeners:te}),de?we.data=de:(de=Rm(i),de!==null&&(we.data=de)))),(de=S_?x_(e,i):__(e,i))&&(we=Xl(U,"onBeforeInput"),0<we.length&&(te=new Em("onBeforeInput","beforeinput",null,i,q),I.push({event:te,listeners:we}),te.data=de)),m1(I,e,U,i,q)}my(I,a)})}function ir(e,a,i){return{instance:e,listener:a,currentTarget:i}}function Xl(e,a){for(var i=a+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ji(e,i),h!=null&&l.unshift(ir(e,h,d)),h=ji(e,a),h!=null&&l.push(ir(e,h,d))),e.tag===3)return l;e=e.return}return[]}function v1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gy(e,a,i,l,h){for(var d=a._reactName,v=[];i!==null&&i!==l;){var S=i,O=S.alternate,U=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||U===null||(O=U,h?(U=ji(i,d),U!=null&&v.unshift(ir(i,U,O))):h||(U=ji(i,d),U!=null&&v.push(ir(i,U,O)))),i=i.return}v.length!==0&&e.push({event:a,listeners:v})}var b1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function yy(e){return(typeof e=="string"?e:""+e).replace(b1,`
`).replace(w1,"")}function vy(e,a){return a=yy(a),yy(e)===a}function Re(e,a,i,l,h,d){switch(i){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||ps(e,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&ps(e,""+l);break;case"className":Wr(e,"class",l);break;case"tabIndex":Wr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(e,i,l);break;case"style":vm(e,l,d);break;case"data":if(a!=="object"){Wr(e,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=tl(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(a!=="input"&&Re(e,a,"name",h.name,h,null),Re(e,a,"formEncType",h.formEncType,h,null),Re(e,a,"formMethod",h.formMethod,h,null),Re(e,a,"formTarget",h.formTarget,h,null)):(Re(e,a,"encType",h.encType,h,null),Re(e,a,"method",h.method,h,null),Re(e,a,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=tl(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=En);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=tl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Zr(e,"popover",l);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Fx.get(i)||i,Zr(e,i,l))}}function fh(e,a,i,l,h,d){switch(i){case"style":vm(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?ps(e,l):(typeof l=="number"||typeof l=="bigint")&&ps(e,""+l);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!um.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),a=i.slice(2,h?i.length-7:void 0),d=e[xt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(a,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(a,l,h);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Zr(e,i,l)}}}function ht(e,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var l=!1,h=!1,d;for(d in i)if(i.hasOwnProperty(d)){var v=i[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Re(e,a,d,v,i,null)}}h&&Re(e,a,"srcSet",i.srcSet,i,null),l&&Re(e,a,"src",i.src,i,null);return;case"input":ve("invalid",e);var S=d=v=h=null,O=null,U=null;for(l in i)if(i.hasOwnProperty(l)){var q=i[l];if(q!=null)switch(l){case"name":h=q;break;case"type":v=q;break;case"checked":O=q;break;case"defaultChecked":U=q;break;case"value":d=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,a));break;default:Re(e,a,l,q,i,null)}}mm(e,d,S,O,U,v,h,!1);return;case"select":ve("invalid",e),l=v=d=null;for(h in i)if(i.hasOwnProperty(h)&&(S=i[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Re(e,a,h,S,i,null)}a=d,i=v,e.multiple=!!l,a!=null?ms(e,!!l,a,!1):i!=null&&ms(e,!!l,i,!0);return;case"textarea":ve("invalid",e),d=h=l=null;for(v in i)if(i.hasOwnProperty(v)&&(S=i[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Re(e,a,v,S,i,null)}gm(e,l,h,d);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(l=i[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(e,a,O,l,i,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(l=0;l<sr.length;l++)ve(sr[l],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(l=i[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Re(e,a,U,l,i,null)}return;default:if(Au(a)){for(q in i)i.hasOwnProperty(q)&&(l=i[q],l!==void 0&&fh(e,a,q,l,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(l=i[S],l!=null&&Re(e,a,S,l,i,null))}function S1(e,a,i,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,O=null,U=null,q=null;for(B in i){var I=i[B];if(i.hasOwnProperty(B)&&I!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":O=I;default:l.hasOwnProperty(B)||Re(e,a,B,null,l,I)}}for(var L in l){var B=l[L];if(I=i[L],l.hasOwnProperty(L)&&(B!=null||I!=null))switch(L){case"type":d=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":q=B;break;case"value":v=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,a));break;default:B!==I&&Re(e,a,L,B,l,I)}}Tu(e,v,S,O,U,q,d,h);return;case"select":B=v=S=L=null;for(d in i)if(O=i[d],i.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":B=O;default:l.hasOwnProperty(d)||Re(e,a,d,null,l,O)}for(h in l)if(d=l[h],O=i[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":L=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==O&&Re(e,a,h,d,l,O)}a=S,i=v,l=B,L!=null?ms(e,!!i,L,!1):!!l!=!!i&&(a!=null?ms(e,!!i,a,!0):ms(e,!!i,i?[]:"",!1));return;case"textarea":B=L=null;for(S in i)if(h=i[S],i.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Re(e,a,S,null,l,h)}for(v in l)if(h=l[v],d=i[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":L=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Re(e,a,v,h,l,d)}pm(e,L,B);return;case"option":for(var W in i)if(L=i[W],i.hasOwnProperty(W)&&L!=null&&!l.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Re(e,a,W,null,l,L)}for(O in l)if(L=l[O],B=i[O],l.hasOwnProperty(O)&&L!==B&&(L!=null||B!=null))switch(O){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Re(e,a,O,L,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in i)L=i[se],i.hasOwnProperty(se)&&L!=null&&!l.hasOwnProperty(se)&&Re(e,a,se,null,l,L);for(U in l)if(L=l[U],B=i[U],l.hasOwnProperty(U)&&L!==B&&(L!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,a));break;default:Re(e,a,U,L,l,B)}return;default:if(Au(a)){for(var Ne in i)L=i[Ne],i.hasOwnProperty(Ne)&&L!==void 0&&!l.hasOwnProperty(Ne)&&fh(e,a,Ne,void 0,l,L);for(q in l)L=l[q],B=i[q],!l.hasOwnProperty(q)||L===B||L===void 0&&B===void 0||fh(e,a,q,L,l,B);return}}for(var M in i)L=i[M],i.hasOwnProperty(M)&&L!=null&&!l.hasOwnProperty(M)&&Re(e,a,M,null,l,L);for(I in l)L=l[I],B=i[I],!l.hasOwnProperty(I)||L===B||L==null&&B==null||Re(e,a,I,L,l,B)}function by(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var h=i[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&by(v)){for(v=0,S=h.responseEnd,l+=1;l<i.length;l++){var O=i[l],U=O.startTime;if(U>S)break;var q=O.transferSize,I=O.initiatorType;q&&by(I)&&(O=O.responseEnd,v+=q*(O<S?1:(S-U)/(O-U)))}if(--l,a+=8*(d+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mh=null,ph=null;function Jl(e){return e.nodeType===9?e:e.ownerDocument}function wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function gh(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yh=null;function _1(){var e=window.event;return e&&e.type==="popstate"?e===yh?!1:(yh=e,!0):(yh=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(j1)}:xy;function j1(e){setTimeout(function(){throw e})}function pa(e){return e==="head"}function Ey(e,a){var i=a,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(h),Ks(a);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")rr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,rr(i);for(var d=i.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Ei]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=v}}else i==="body"&&rr(e.ownerDocument.body);i=h}while(i);Ks(a)}function Ty(e,a){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function vh(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":vh(i),_u(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function A1(e,a,i,l){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ei])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function C1(e,a,i){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Zt(e.nextSibling),e===null))return null;return e}function jy(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zt(e.nextSibling),e===null))return null;return e}function bh(e){return e.data==="$?"||e.data==="$~"}function wh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O1(e,a){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||i.readyState!=="loading")a();else{var l=function(){a(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Sh=null;function Ay(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(a===0)return Zt(e.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}e=e.nextSibling}return null}function Cy(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return e;a--}else i!=="/$"&&i!=="/&"||a++}e=e.previousSibling}return null}function Oy(e,a,i){switch(a=Jl(i),e){case"html":if(e=a.documentElement,!e)throw Error(r(452));return e;case"head":if(e=a.head,!e)throw Error(r(453));return e;case"body":if(e=a.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rr(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);_u(e)}var Wt=new Map,Ry=new Set;function Ql(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=Y.d;Y.d={f:R1,r:N1,D:D1,C:M1,L:k1,m:U1,X:z1,S:L1,M:B1};function R1(){var e=Vn.f(),a=$l();return e||a}function N1(e){var a=hs(e);a!==null&&a.tag===5&&a.type==="form"?Yp(a):Vn.r(e)}var Hs=typeof document>"u"?null:document;function Ny(e,a,i){var l=Hs;if(l&&typeof a=="string"&&a){var h=It(a);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Ry.has(h)||(Ry.add(h),e={rel:e,crossOrigin:i,href:a},l.querySelector(h)===null&&(a=l.createElement("link"),ht(a,"link",e),st(a),l.head.appendChild(a)))}}function D1(e){Vn.D(e),Ny("dns-prefetch",e,null)}function M1(e,a){Vn.C(e,a),Ny("preconnect",e,a)}function k1(e,a,i){Vn.L(e,a,i);var l=Hs;if(l&&e&&a){var h='link[rel="preload"][as="'+It(a)+'"]';a==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+It(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+It(i.imageSizes)+'"]')):h+='[href="'+It(e)+'"]';var d=h;switch(a){case"style":d=Gs(e);break;case"script":d=Is(e)}Wt.has(d)||(e=b({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:e,as:a},i),Wt.set(d,e),l.querySelector(h)!==null||a==="style"&&l.querySelector(lr(d))||a==="script"&&l.querySelector(or(d))||(a=l.createElement("link"),ht(a,"link",e),st(a),l.head.appendChild(a)))}}function U1(e,a){Vn.m(e,a);var i=Hs;if(i&&e){var l=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Is(e)}if(!Wt.has(d)&&(e=b({rel:"modulepreload",href:e},a),Wt.set(d,e),i.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(or(d)))return}l=i.createElement("link"),ht(l,"link",e),st(l),i.head.appendChild(l)}}}function L1(e,a,i){Vn.S(e,a,i);var l=Hs;if(l&&e){var h=ds(l).hoistableStyles,d=Gs(e);a=a||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(lr(d)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},i),(i=Wt.get(d))&&xh(e,i);var O=v=l.createElement("link");st(O),ht(O,"link",e),O._p=new Promise(function(U,q){O.onload=U,O.onerror=q}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Zl(v,a,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function z1(e,a){Vn.X(e,a);var i=Hs;if(i&&e){var l=ds(i).hoistableScripts,h=Is(e),d=l.get(h);d||(d=i.querySelector(or(h)),d||(e=b({src:e,async:!0},a),(a=Wt.get(h))&&_h(e,a),d=i.createElement("script"),st(d),ht(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function B1(e,a){Vn.M(e,a);var i=Hs;if(i&&e){var l=ds(i).hoistableScripts,h=Is(e),d=l.get(h);d||(d=i.querySelector(or(h)),d||(e=b({src:e,async:!0,type:"module"},a),(a=Wt.get(h))&&_h(e,a),d=i.createElement("script"),st(d),ht(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Dy(e,a,i,l){var h=(h=ge.current)?Ql(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Gs(i.href),i=ds(h).hoistableStyles,l=i.get(a),l||(l={type:"style",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Gs(i.href);var d=ds(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(lr(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Wt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Wt.set(e,i),d||P1(h,e,i,v.state))),a&&l===null)throw Error(r(528,""));return v}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Is(i),i=ds(h).hoistableScripts,l=i.get(a),l||(l={type:"script",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Gs(e){return'href="'+It(e)+'"'}function lr(e){return'link[rel="stylesheet"]['+e+"]"}function My(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function P1(e,a,i,l){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=e.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ht(a,"link",i),st(a),e.head.appendChild(a))}function Is(e){return'[src="'+It(e)+'"]'}function or(e){return"script[async]"+e}function ky(e,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var l=e.querySelector('style[data-href~="'+It(i.href)+'"]');if(l)return a.instance=l,st(l),l;var h=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),ht(l,"style",h),Zl(l,i.precedence,e),a.instance=l;case"stylesheet":h=Gs(i.href);var d=e.querySelector(lr(h));if(d)return a.state.loading|=4,a.instance=d,st(d),d;l=My(i),(h=Wt.get(h))&&xh(l,h),d=(e.ownerDocument||e).createElement("link"),st(d);var v=d;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),ht(d,"link",l),a.state.loading|=4,Zl(d,i.precedence,e),a.instance=d;case"script":return d=Is(i.src),(h=e.querySelector(or(d)))?(a.instance=h,st(h),h):(l=i,(h=Wt.get(d))&&(l=b({},i),_h(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),st(h),ht(h,"link",l),e.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Zl(l,i.precedence,e));return a.instance}function Zl(e,a,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===a)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(e,a.firstChild))}function xh(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function _h(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Wl=null;function Uy(e,a,i){if(Wl===null){var l=new Map,h=Wl=new Map;h.set(i,l)}else h=Wl,l=h.get(i),l||(l=new Map,h.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var d=i[h];if(!(d[Ei]||d[lt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(a)||"";v=e+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function Ly(e,a,i){e=e.ownerDocument||e,e.head.insertBefore(i,a==="title"?e.querySelector("head > title"):null)}function V1(e,a,i){if(i===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function zy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function q1(e,a,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Gs(l.href),d=a.querySelector(lr(h));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=eo.bind(e),a.then(e,e)),i.state.loading|=4,i.instance=d,st(d);return}d=a.ownerDocument||a,l=My(l),(h=Wt.get(h))&&xh(l,h),d=d.createElement("link"),st(d);var v=d;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),ht(d,"link",l),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=eo.bind(e),a.addEventListener("load",i),a.addEventListener("error",i))}}var Eh=0;function $1(e,a){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+a);0<e.imgBytes&&Eh===0&&(Eh=62500*x1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Eh?50:800)+a);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,a.forEach(H1,e),to=null,eo.call(e))}function H1(e,a){if(!(a.state.loading&4)){var i=to.get(e);if(i)var l=i.get(null);else{i=new Map,to.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}h=a.instance,v=h.getAttribute("data-precedence"),d=i.get(v)||l,d===l&&i.set(null,h),i.set(v,h),this.count++,l=eo.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),a.state.loading|=4}}var ur={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function G1(e,a,i,l,h,d,v,S,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.hiddenUpdates=bu(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function By(e,a,i,l,h,d,v,S,O,U,q,I){return e=new G1(e,a,i,v,O,U,q,I,S),a=1,d===!0&&(a|=24),d=zt(3,null,null,a),e.current=d,d.stateNode=e,a=ac(),a.refCount++,e.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:a},lc(d),e}function Py(e){return e?(e=xs,e):xs}function Vy(e,a,i,l,h,d){h=Py(h),l.context===null?l.context=h:l.pendingContext=h,l=sa(a),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=ia(e,l,a),i!==null&&(Ct(i,e,a),qi(i,e,a))}function qy(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<a?i:a}}function Th(e,a){qy(e,a),(e=e.alternate)&&qy(e,a)}function $y(e){if(e.tag===13||e.tag===31){var a=Ua(e,67108864);a!==null&&Ct(a,e,67108864),Th(e,67108864)}}function Hy(e){if(e.tag===13||e.tag===31){var a=$t();a=wu(a);var i=Ua(e,a);i!==null&&Ct(i,e,a),Th(e,a)}}var ao=!0;function I1(e,a,i,l){var h=$.T;$.T=null;var d=Y.p;try{Y.p=2,jh(e,a,i,l)}finally{Y.p=d,$.T=h}}function K1(e,a,i,l){var h=$.T;$.T=null;var d=Y.p;try{Y.p=8,jh(e,a,i,l)}finally{Y.p=d,$.T=h}}function jh(e,a,i,l){if(ao){var h=Ah(l);if(h===null)dh(e,a,l,so,i),Iy(e,l);else if(F1(h,e,a,i,l))l.stopPropagation();else if(Iy(e,l),a&4&&-1<Y1.indexOf(e)){for(;h!==null;){var d=hs(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ra(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-Ut(v);S.entanglements[1]|=O,v&=~O}vn(d),(Te&6)===0&&(Vl=Mt()+500,ar(0))}}break;case 31:case 13:S=Ua(d,2),S!==null&&Ct(S,d,2),$l(),Th(d,2)}if(d=Ah(l),d===null&&dh(e,a,l,so,i),d===h)break;h=d}h!==null&&l.stopPropagation()}else dh(e,a,l,null,i)}}function Ah(e){return e=Ou(e),Ch(e)}var so=null;function Ch(e){if(so=null,e=cs(e),e!==null){var a=u(e);if(a===null)e=null;else{var i=a.tag;if(i===13){if(e=c(a),e!==null)return e;e=null}else if(i===31){if(e=f(a),e!==null)return e;e=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return so=e,null}function Gy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dx()){case Zf:return 2;case Wf:return 8;case Yr:case Mx:return 32;case em:return 268435456;default:return 32}default:return 32}}var Oh=!1,ga=null,ya=null,va=null,cr=new Map,hr=new Map,ba=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(e,a){switch(e){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":cr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(a.pointerId)}}function dr(e,a,i,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:a,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},a!==null&&(a=hs(a),a!==null&&$y(a)),e):(e.eventSystemFlags|=l,a=e.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),e)}function F1(e,a,i,l,h){switch(a){case"focusin":return ga=dr(ga,e,a,i,l,h),!0;case"dragenter":return ya=dr(ya,e,a,i,l,h),!0;case"mouseover":return va=dr(va,e,a,i,l,h),!0;case"pointerover":var d=h.pointerId;return cr.set(d,dr(cr.get(d)||null,e,a,i,l,h)),!0;case"gotpointercapture":return d=h.pointerId,hr.set(d,dr(hr.get(d)||null,e,a,i,l,h)),!0}return!1}function Ky(e){var a=cs(e.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=c(i),a!==null){e.blockedOn=a,rm(e.priority,function(){Hy(i)});return}}else if(a===31){if(a=f(i),a!==null){e.blockedOn=a,rm(e.priority,function(){Hy(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var i=Ah(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Cu=l,i.target.dispatchEvent(l),Cu=null}else return a=hs(i),a!==null&&$y(a),e.blockedOn=i,!1;a.shift()}return!0}function Yy(e,a,i){io(e)&&i.delete(a)}function X1(){Oh=!1,ga!==null&&io(ga)&&(ga=null),ya!==null&&io(ya)&&(ya=null),va!==null&&io(va)&&(va=null),cr.forEach(Yy),hr.forEach(Yy)}function ro(e,a){e.blockedOn===a&&(e.blockedOn=null,Oh||(Oh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,X1)))}var lo=null;function Fy(e){lo!==e&&(lo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var a=0;a<e.length;a+=3){var i=e[a],l=e[a+1],h=e[a+2];if(typeof l!="function"){if(Ch(l||i)===null)continue;break}var d=hs(i);d!==null&&(e.splice(a,3),a-=3,Ac(d,{pending:!0,data:h,method:i.method,action:l},l,h))}}))}function Ks(e){function a(O){return ro(O,e)}ga!==null&&ro(ga,e),ya!==null&&ro(ya,e),va!==null&&ro(va,e),cr.forEach(a),hr.forEach(a);for(var i=0;i<ba.length;i++){var l=ba[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ba.length&&(i=ba[0],i.blockedOn===null);)Ky(i),i.blockedOn===null&&ba.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var h=i[l],d=i[l+1],v=h[xt]||null;if(typeof d=="function")v||Fy(i);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[xt]||null)S=v.formAction;else if(Ch(h)!==null)continue}else S=v.action;typeof S=="function"?i[l+1]=S:(i.splice(l,3),l-=3),Fy(i)}}}function Xy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function a(){h!==null&&(h(),h=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),h!==null&&(h(),h=null)}}}function Rh(e){this._internalRoot=e}oo.prototype.render=Rh.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(r(409));var i=a.current,l=$t();Vy(i,l,e,a,null,null)},oo.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Vy(e.current,2,null,e,null,null),$l(),a[us]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var a=im();e={blockedOn:null,target:e,priority:a};for(var i=0;i<ba.length&&a!==0&&a<ba[i].priority;i++);ba.splice(i,0,e),i===0&&Ky(e)}};var Jy=t.version;if(Jy!=="19.2.3")throw Error(r(527,Jy,"19.2.3"));Y.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var J1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Si=uo.inject(J1),kt=uo}catch{}}return mr.createRoot=function(e,a){if(!o(e))throw Error(r(299));var i=!1,l="",h=ag,d=sg,v=ig;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=By(e,1,!1,null,null,i,l,null,h,d,v,Xy),e[us]=a.current,hh(e),new Rh(a)},mr.hydrateRoot=function(e,a,i){if(!o(e))throw Error(r(299));var l=!1,h="",d=ag,v=sg,S=ig,O=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),a=By(e,1,!0,a,i??null,l,h,O,d,v,S,Xy),a.context=Py(null),i=a.current,l=$t(),l=wu(l),h=sa(l),h.callback=null,ia(i,h,l),i=l,a.current.lanes=i,_i(a,i),vn(a),e[us]=a.current,hh(e),new oo(a)},mr.version="19.2.3",mr}var rv;function oE(){if(rv)return Mh.exports;rv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mh.exports=lE(),Mh.exports}var uE=oE();var lv="popstate";function cE(n={}){function t(r,o){let{pathname:u,search:c,hash:f}=r.location;return od("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(r,o){return typeof o=="string"?o:Ar(o)}return dE(t,s,null,n)}function qe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function an(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hE(){return Math.random().toString(36).substring(2,10)}function ov(n,t){return{usr:n.state,key:n.key,idx:t}}function od(n,t,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?hi(t):t,state:s,key:t&&t.key||r||hE()}}function Ar({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function hi(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function dE(n,t,s,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function b(){f="POP";let T=y(),E=T==null?null:T-p;p=T,m&&m({action:f,location:A.location,delta:E})}function w(T,E){f="PUSH";let R=od(A.location,T,E);p=y()+1;let C=ov(R,p),z=A.createHref(R);try{c.pushState(C,"",z)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(z)}u&&m&&m({action:f,location:A.location,delta:1})}function x(T,E){f="REPLACE";let R=od(A.location,T,E);p=y();let C=ov(R,p),z=A.createHref(R);c.replaceState(C,"",z),u&&m&&m({action:f,location:A.location,delta:0})}function _(T){return fE(T)}let A={get action(){return f},get location(){return n(o,c)},listen(T){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,b),m=T,()=>{o.removeEventListener(lv,b),m=null}},createHref(T){return t(o,T)},createURL:_,encodeLocation(T){let E=_(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:x,go(T){return c.go(T)}};return A}function fE(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ar(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function sb(n,t,s="/"){return mE(n,t,s,!1)}function mE(n,t,s,r){let o=typeof t=="string"?hi(t):t,u=Gn(o.pathname||"/",s);if(u==null)return null;let c=ib(n);pE(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=jE(u);f=EE(c[m],p,r)}return f}function ib(n,t=[],s=[],r="",o=!1){let u=(c,f,m=o,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;qe(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let b=Hn([r,y.relativePath]),w=s.concat(y);c.children&&c.children.length>0&&(qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ib(c.children,t,w,b,m)),!(c.path==null&&!c.index)&&t.push({path:b,score:xE(b,c.index),routesMeta:w})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let m of rb(c.path))u(c,f,!0,m)}),t}function rb(n){let t=n.split("/");if(t.length===0)return[];let[s,...r]=t,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=rb(r.join("/")),f=[];return f.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function pE(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:_E(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var gE=/^:[\w-]+$/,yE=3,vE=2,bE=1,wE=10,SE=-2,uv=n=>n==="*";function xE(n,t){let s=n.split("/"),r=s.length;return s.some(uv)&&(r+=SE),t&&(r+=vE),s.filter(o=>!uv(o)).reduce((o,u)=>o+(gE.test(u)?yE:u===""?bE:wE),r)}function _E(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function EE(n,t,s=!1){let{routesMeta:r}=n,o={},u="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=u==="/"?t:t.slice(u.length)||"/",b=Lo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!b&&p&&s&&!r[r.length-1].route.index&&(b=Lo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Hn([u,b.pathname]),pathnameBase:NE(Hn([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Hn([u,b.pathnameBase]))}return c}function Lo(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=TE(n.path,n.caseSensitive,n.end),o=t.match(s);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},w)=>{if(y==="*"){let _=f[w]||"";c=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const x=f[w];return b&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function TE(n,t=!1,s=!0){an(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function jE(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Gn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CE=n=>AE.test(n);function OE(n,t="/"){let{pathname:s,search:r="",hash:o=""}=typeof n=="string"?hi(n):n,u;if(s)if(CE(s))u=s;else{if(s.includes("//")){let c=s;s=s.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${s}`)}s.startsWith("/")?u=cv(s.substring(1),"/"):u=cv(s,t)}else u=t;return{pathname:u,search:DE(r),hash:ME(o)}}function cv(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function zh(n,t,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RE(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Qd(n){let t=RE(n);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function Zd(n,t,s,r=!1){let o;typeof n=="string"?o=hi(n):(o={...n},qe(!o.pathname||!o.pathname.includes("?"),zh("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),zh("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),zh("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=s;else{let b=t.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?t[b]:"/"}let m=OE(o,f),p=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Hn=n=>n.join("/").replace(/\/\/+/g,"/"),NE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ME=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function UE(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lb=["POST","PUT","PATCH","DELETE"];new Set(lb);var LE=["GET",...lb];new Set(LE);var di=j.createContext(null);di.displayName="DataRouter";var eu=j.createContext(null);eu.displayName="DataRouterState";j.createContext(!1);var ob=j.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var zE=j.createContext(new Map);zE.displayName="Fetchers";var BE=j.createContext(null);BE.displayName="Await";var sn=j.createContext(null);sn.displayName="Navigation";var zr=j.createContext(null);zr.displayName="Location";var xn=j.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Wd=j.createContext(null);Wd.displayName="RouteError";function PE(n,{relative:t}={}){qe(fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=j.useContext(sn),{hash:o,pathname:u,search:c}=Br(n,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:Hn([s,u])),r.createHref({pathname:f,search:c,hash:o})}function fi(){return j.useContext(zr)!=null}function Yn(){return qe(fi(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(zr).location}var ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cb(n){j.useContext(sn).static||j.useLayoutEffect(n)}function mi(){let{isDataRoute:n}=j.useContext(xn);return n?ZE():VE()}function VE(){qe(fi(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(di),{basename:t,navigator:s}=j.useContext(sn),{matches:r}=j.useContext(xn),{pathname:o}=Yn(),u=JSON.stringify(Qd(r)),c=j.useRef(!1);return cb(()=>{c.current=!0}),j.useCallback((m,p={})=>{if(an(c.current,ub),!c.current)return;if(typeof m=="number"){s.go(m);return}let y=Zd(m,JSON.parse(u),o,p.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Hn([t,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[t,s,u,o,n])}j.createContext(null);function Br(n,{relative:t}={}){let{matches:s}=j.useContext(xn),{pathname:r}=Yn(),o=JSON.stringify(Qd(s));return j.useMemo(()=>Zd(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function qE(n,t){return hb(n,t)}function hb(n,t,s,r,o){qe(fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(sn),{matches:c}=j.useContext(xn),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let R=b&&b.path||"";db(p,!b||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=Yn(),x;if(t){let R=typeof t=="string"?hi(t):t;qe(y==="/"||R.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=w;let _=x.pathname||"/",A=_;if(y!=="/"){let R=y.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=sb(n,{pathname:A});an(b||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),an(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=KE(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Hn([y,u.encodeLocation?u.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Hn([y,u.encodeLocation?u.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),c,s,r,o);return t&&E?j.createElement(zr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function $E(){let n=QE(),t=kE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:o},s):null,c)}var HE=j.createElement($E,null),GE=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(xn.Provider,{value:this.props.routeContext},j.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IE({routeContext:n,match:t,children:s}){let r=j.useContext(di);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(xn.Provider,{value:n},s)}function KE(n,t=[],s=null,r=null,o=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let u=n,c=s?.errors;if(c!=null){let y=u.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let f=!1,m=-1;if(s)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=y),b.route.id){let{loaderData:w,errors:x}=s,_=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||_){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=s&&r?(y,b)=>{r(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:UE(s.matches),errorInfo:b})}:void 0;return u.reduceRight((y,b,w)=>{let x,_=!1,A=null,T=null;s&&(x=c&&b.route.id?c[b.route.id]:void 0,A=b.route.errorElement||HE,f&&(m<0&&w===0?(db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):m===w&&(_=!0,T=b.route.hydrateFallbackElement||null)));let E=t.concat(u.slice(0,w+1)),R=()=>{let C;return x?C=A:_?C=T:b.route.Component?C=j.createElement(b.route.Component,null):b.route.element?C=b.route.element:C=y,j.createElement(IE,{match:b,routeContext:{outlet:y,matches:E,isDataRoute:s!=null},children:C})};return s&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?j.createElement(GE,{location:s.location,revalidation:s.revalidation,component:A,error:x,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:p}):R()},null)}function ef(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(n){let t=j.useContext(di);return qe(t,ef(n)),t}function FE(n){let t=j.useContext(eu);return qe(t,ef(n)),t}function XE(n){let t=j.useContext(xn);return qe(t,ef(n)),t}function tf(n){let t=XE(n),s=t.matches[t.matches.length-1];return qe(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function JE(){return tf("useRouteId")}function QE(){let n=j.useContext(Wd),t=FE("useRouteError"),s=tf("useRouteError");return n!==void 0?n:t.errors?.[s]}function ZE(){let{router:n}=YE("useNavigate"),t=tf("useNavigate"),s=j.useRef(!1);return cb(()=>{s.current=!0}),j.useCallback(async(o,u={})=>{an(s.current,ub),s.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var hv={};function db(n,t,s){!t&&!hv[n]&&(hv[n]=!0,an(!1,s))}j.memo(WE);function WE({routes:n,future:t,state:s,unstable_onError:r}){return hb(n,void 0,s,r,t)}function dv({to:n,replace:t,state:s,relative:r}){qe(fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(sn);an(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(xn),{pathname:c}=Yn(),f=mi(),m=Zd(n,Qd(u),c,r==="path"),p=JSON.stringify(m);return j.useEffect(()=>{f(JSON.parse(p),{replace:t,state:s,relative:r})},[f,p,r,t,s]),null}function le(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eT({basename:n="/",children:t=null,location:s,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){qe(!fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[f,o,u,c]);typeof s=="string"&&(s=hi(s));let{pathname:p="/",search:y="",hash:b="",state:w=null,key:x="default"}=s,_=j.useMemo(()=>{let A=Gn(p,f);return A==null?null:{location:{pathname:A,search:y,hash:b,state:w,key:x},navigationType:r}},[f,p,y,b,w,x,r]);return an(_!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:j.createElement(sn.Provider,{value:m},j.createElement(zr.Provider,{children:t,value:_}))}function Pr({children:n,location:t}){return qE(ud(n),t)}function ud(n,t=[]){let s=[];return j.Children.forEach(n,(r,o)=>{if(!j.isValidElement(r))return;let u=[...t,o];if(r.type===j.Fragment){s.push.apply(s,ud(r.props.children,u));return}qe(r.type===le,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ud(r.props.children,u)),s.push(c)}),s}var jo="get",Ao="application/x-www-form-urlencoded";function tu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function tT(n){return tu(n)&&n.tagName.toLowerCase()==="button"}function nT(n){return tu(n)&&n.tagName.toLowerCase()==="form"}function aT(n){return tu(n)&&n.tagName.toLowerCase()==="input"}function sT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iT(n,t){return n.button===0&&(!t||t==="_self")&&!sT(n)}var co=null;function rT(){if(co===null)try{new FormData(document.createElement("form"),0),co=!1}catch{co=!0}return co}var lT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bh(n){return n!=null&&!lT.has(n)?(an(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ao}"`),null):n}function oT(n,t){let s,r,o,u,c;if(nT(n)){let f=n.getAttribute("action");r=f?Gn(f,t):null,s=n.getAttribute("method")||jo,o=Bh(n.getAttribute("enctype"))||Ao,u=new FormData(n)}else if(tT(n)||aT(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?Gn(m,t):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||jo,o=Bh(n.getAttribute("formenctype"))||Bh(f.getAttribute("enctype"))||Ao,u=new FormData(f,n),!rT()){let{name:p,type:y,value:b}=n;if(y==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(tu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=jo,r=null,o=Ao,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nf(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function uT(n,t,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&Gn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function cT(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dT(n,t,s){let r=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await cT(u,s);return c.links?c.links():[]}return[]}));return gT(r.flat(1).filter(hT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fv(n,t,s,r,o,u){let c=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,f=(m,p)=>s[p].pathname!==m.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):u==="data"?t.filter((m,p)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function fT(n,t,{includeHydrateFallback:s}={}){return mT(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mT(n){return[...new Set(n)]}function pT(n){let t={},s=Object.keys(n).sort();for(let r of s)t[r]=n[r];return t}function gT(n,t){let s=new Set;return new Set(t),n.reduce((r,o)=>{let u=JSON.stringify(pT(o));return s.has(u)||(s.add(u),r.push({key:u,link:o})),r},[])}function fb(){let n=j.useContext(di);return nf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yT(){let n=j.useContext(eu);return nf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var af=j.createContext(void 0);af.displayName="FrameworkContext";function mb(){let n=j.useContext(af);return nf(n,"You must render this element inside a <HydratedRouter> element"),n}function vT(n,t){let s=j.useContext(af),[r,o]=j.useState(!1),[u,c]=j.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=t,w=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=E=>{E.forEach(R=>{c(R.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[n]),j.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let x=()=>{o(!0)},_=()=>{o(!1),c(!1)};return s?n!=="intent"?[u,w,{}]:[u,w,{onFocus:pr(f,x),onBlur:pr(m,_),onMouseEnter:pr(p,x),onMouseLeave:pr(y,_),onTouchStart:pr(b,x)}]:[!1,w,{}]}function pr(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function bT({page:n,...t}){let{router:s}=fb(),r=j.useMemo(()=>sb(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?j.createElement(ST,{page:n,matches:r,...t}):null}function wT(n){let{manifest:t,routeModules:s}=mb(),[r,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return dT(n,t,s).then(c=>{u||o(c)}),()=>{u=!0}},[n,t,s]),r}function ST({page:n,matches:t,...s}){let r=Yn(),{manifest:o,routeModules:u}=mb(),{basename:c}=fb(),{loaderData:f,matches:m}=yT(),p=j.useMemo(()=>fv(n,t,m,o,r,"data"),[n,t,m,o,r]),y=j.useMemo(()=>fv(n,t,m,o,r,"assets"),[n,t,m,o,r]),b=j.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,A=!1;if(t.forEach(E=>{let R=o.routes[E.route.id];!R||!R.hasLoader||(!p.some(C=>C.route.id===E.route.id)&&E.route.id in f&&u[E.route.id]?.shouldRevalidate||R.hasClientLoader?A=!0:_.add(E.route.id))}),_.size===0)return[];let T=uT(n,c,"data");return A&&_.size>0&&T.searchParams.set("_routes",t.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[c,f,r,o,p,t,n,u]),w=j.useMemo(()=>fT(y,o),[y,o]),x=wT(y);return j.createElement(j.Fragment,null,b.map(_=>j.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),w.map(_=>j.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),x.map(({key:_,link:A})=>j.createElement("link",{key:_,nonce:s.nonce,...A})))}function xT(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pb&&(window.__reactRouterVersion="7.10.1")}catch{}function _T({basename:n,children:t,unstable_useTransitions:s,window:r}){let o=j.useRef();o.current==null&&(o.current=cE({window:r,v5Compat:!0}));let u=o.current,[c,f]=j.useState({action:u.action,location:u.location}),m=j.useCallback(p=>{s===!1?f(p):j.startTransition(()=>f(p))},[s]);return j.useLayoutEffect(()=>u.listen(m),[u,m]),j.createElement(eT,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:s===!0})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=j.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:b,...w},x){let{basename:_,unstable_useTransitions:A}=j.useContext(sn),T=typeof p=="string"&&gb.test(p),E,R=!1;if(typeof p=="string"&&T&&(E=p,pb))try{let fe=new URL(window.location.href),De=p.startsWith("//")?new URL(fe.protocol+p):new URL(p),ke=Gn(De.pathname,_);De.origin===fe.origin&&ke!=null?p=ke+De.search+De.hash:R=!0}catch{an(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=PE(p,{relative:o}),[z,G,P]=vT(r,w),K=AT(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:o,viewTransition:b,unstable_useTransitions:A});function X(fe){t&&t(fe),fe.defaultPrevented||K(fe)}let ie=j.createElement("a",{...w,...P,href:E||C,onClick:R||u?t:X,ref:xT(x,G),target:m,"data-discover":!T&&s==="render"?"true":void 0});return z&&!T?j.createElement(j.Fragment,null,ie,j.createElement(bT,{page:C})):ie});Cr.displayName="Link";var ET=j.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:f,children:m,...p},y){let b=Br(c,{relative:p.relative}),w=Yn(),x=j.useContext(eu),{navigator:_,basename:A}=j.useContext(sn),T=x!=null&&DT(b)&&f===!0,E=_.encodeLocation?_.encodeLocation(b).pathname:b.pathname,R=w.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(R=R.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&A&&(C=Gn(C,A)||C);const z=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let G=R===E||!o&&R.startsWith(E)&&R.charAt(z)==="/",P=C!=null&&(C===E||!o&&C.startsWith(E)&&C.charAt(E.length)==="/"),K={isActive:G,isPending:P,isTransitioning:T},X=G?t:void 0,ie;typeof r=="function"?ie=r(K):ie=[r,G?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let fe=typeof u=="function"?u(K):u;return j.createElement(Cr,{...p,"aria-current":X,className:ie,ref:y,style:fe,to:c,viewTransition:f},typeof m=="function"?m(K):m)});ET.displayName="NavLink";var TT=j.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:o,state:u,method:c=jo,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,...w},x)=>{let{unstable_useTransitions:_}=j.useContext(sn),A=RT(),T=NT(f,{relative:p}),E=c.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&gb.test(f),C=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let G=z.nativeEvent.submitter,P=G?.getAttribute("formmethod")||c,K=()=>A(G||z.currentTarget,{fetcherKey:t,method:P,navigate:s,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:b});_&&s!==!1?j.startTransition(()=>K()):K()};return j.createElement("form",{ref:x,method:E,action:T,onSubmit:r?m:C,...w,"data-discover":!R&&n==="render"?"true":void 0})});TT.displayName="Form";function jT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(n){let t=j.useContext(di);return qe(t,jT(n)),t}function AT(n,{target:t,replace:s,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_useTransitions:f}={}){let m=mi(),p=Yn(),y=Br(n,{relative:u});return j.useCallback(b=>{if(iT(b,t)){b.preventDefault();let w=s!==void 0?s:Ar(p)===Ar(y),x=()=>m(n,{replace:w,state:r,preventScrollReset:o,relative:u,viewTransition:c});f?j.startTransition(()=>x()):x()}},[p,m,y,s,r,t,n,o,u,c,f])}var CT=0,OT=()=>`__${String(++CT)}__`;function RT(){let{router:n}=yb("useSubmit"),{basename:t}=j.useContext(sn),s=JE(),r=n.fetch,o=n.navigate;return j.useCallback(async(u,c={})=>{let{action:f,method:m,encType:p,formData:y,body:b}=oT(u,t);if(c.navigate===!1){let w=c.fetcherKey||OT();await r(w,s,c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,t,s])}function NT(n,{relative:t}={}){let{basename:s}=j.useContext(sn),r=j.useContext(xn);qe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Br(n||".",{relative:t})},c=Yn();if(n==null){u.search=c.search;let f=new URLSearchParams(u.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Hn([s,u.pathname])),Ar(u)}function DT(n,{relative:t}={}){let s=j.useContext(ob);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yb("useViewTransitionState"),o=Br(n,{relative:t});if(!s.isTransitioning)return!1;let u=Gn(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=Gn(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Lo(o.pathname,c)!=null||Lo(o.pathname,u)!=null}var qn={},ho={},cd=function(n,t){return cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])},cd(n,t)};function vb(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cd(n,t);function s(){this.constructor=n}n.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var zo=function(){return zo=Object.assign||function(t){for(var s,r=1,o=arguments.length;r<o;r++){s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},zo.apply(this,arguments)};function pi(n,t){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(s[r[o]]=n[r[o]]);return s}function bb(n,t,s,r){var o=arguments.length,u=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,s):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,s,r);else for(var f=n.length-1;f>=0;f--)(c=n[f])&&(u=(o<3?c(u):o>3?c(t,s,u):c(t,s))||u);return o>3&&u&&Object.defineProperty(t,s,u),u}function wb(n,t){return function(s,r){t(s,r,n)}}function Sb(n,t,s,r,o,u){function c(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var f=r.kind,m=f==="getter"?"get":f==="setter"?"set":"value",p=!t&&n?r.static?n:n.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),b,w=!1,x=s.length-1;x>=0;x--){var _={};for(var A in r)_[A]=A==="access"?{}:r[A];for(var A in r.access)_.access[A]=r.access[A];_.addInitializer=function(E){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c(E||null))};var T=(0,s[x])(f==="accessor"?{get:y.get,set:y.set}:y[m],_);if(f==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(b=c(T.get))&&(y.get=b),(b=c(T.set))&&(y.set=b),(b=c(T.init))&&o.unshift(b)}else(b=c(T))&&(f==="field"?o.unshift(b):y[m]=b)}p&&Object.defineProperty(p,r.name,y),w=!0}function xb(n,t,s){for(var r=arguments.length>2,o=0;o<t.length;o++)s=r?t[o].call(n,s):t[o].call(n);return r?s:void 0}function _b(n){return typeof n=="symbol"?n:"".concat(n)}function Eb(n,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function Tb(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function Z(n,t,s,r){function o(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function f(y){try{p(r.next(y))}catch(b){c(b)}}function m(y){try{p(r.throw(y))}catch(b){c(b)}}function p(y){y.done?u(y.value):o(y.value).then(f,m)}p((r=r.apply(n,t||[])).next())})}function jb(n,t){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(s=0)),s;)try{if(r=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,o=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){s.label=p[1];break}if(p[0]===6&&s.label<u[1]){s.label=u[1],u=p;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(p);break}u[2]&&s.ops.pop(),s.trys.pop();continue}p=t.call(n,s)}catch(y){p=[6,y],o=0}finally{r=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var nu=Object.create?(function(n,t,s,r){r===void 0&&(r=s);var o=Object.getOwnPropertyDescriptor(t,s);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(n,r,o)}):(function(n,t,s,r){r===void 0&&(r=s),n[r]=t[s]});function Ab(n,t){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&nu(t,n,s)}function Bo(n){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&n[t],r=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sf(n,t){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var r=s.call(n),o,u=[],c;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)u.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(c)throw c.error}}return u}function Cb(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(sf(arguments[t]));return n}function Ob(){for(var n=0,t=0,s=arguments.length;t<s;t++)n+=arguments[t].length;for(var r=Array(n),o=0,t=0;t<s;t++)for(var u=arguments[t],c=0,f=u.length;c<f;c++,o++)r[o]=u[c];return r}function Rb(n,t,s){if(s||arguments.length===2)for(var r=0,o=t.length,u;r<o;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))}function li(n){return this instanceof li?(this.v=n,this):new li(n)}function Nb(n,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(n,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(x){return function(_){return Promise.resolve(_).then(x,b)}}function f(x,_){r[x]&&(o[x]=function(A){return new Promise(function(T,E){u.push([x,A,T,E])>1||m(x,A)})},_&&(o[x]=_(o[x])))}function m(x,_){try{p(r[x](_))}catch(A){w(u[0][3],A)}}function p(x){x.value instanceof li?Promise.resolve(x.value.v).then(y,b):w(u[0][2],x)}function y(x){m("next",x)}function b(x){m("throw",x)}function w(x,_){x(_),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Db(n){var t,s;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,u){t[o]=n[o]?function(c){return(s=!s)?{value:li(n[o](c)),done:!1}:u?u(c):c}:u}}function Mb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],s;return t?t.call(n):(n=typeof Bo=="function"?Bo(n):n[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(u){s[u]=n[u]&&function(c){return new Promise(function(f,m){c=n[u](c),o(f,m,c.done,c.value)})}}function o(u,c,f,m){Promise.resolve(m).then(function(p){u({value:p,done:f})},c)}}function kb(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var MT=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},hd=function(n){return hd=Object.getOwnPropertyNames||function(t){var s=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[s.length]=r);return s},hd(n)};function Ub(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var s=hd(n),r=0;r<s.length;r++)s[r]!=="default"&&nu(t,n,s[r]);return MT(t,n),t}function Lb(n){return n&&n.__esModule?n:{default:n}}function zb(n,t,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(n):r?r.value:t.get(n)}function Bb(n,t,s,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,s):o?o.value=s:t.set(n,s),s}function Pb(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function Vb(n,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],s&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),n.stack.push({value:t,dispose:r,async:s})}else s&&n.stack.push({async:!0});return t}var kT=typeof SuppressedError=="function"?SuppressedError:function(n,t,s){var r=new Error(s);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};function qb(n){function t(u){n.error=n.hasError?new kT(u,n.error,"An error was suppressed during disposal."):u,n.hasError=!0}var s,r=0;function o(){for(;s=n.stack.pop();)try{if(!s.async&&r===1)return r=0,n.stack.push(s),Promise.resolve().then(o);if(s.dispose){var u=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(u).then(o,function(c){return t(c),o()})}else r|=1}catch(c){t(c)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function $b(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,o,u,c){return r?t?".jsx":".js":o&&(!u||!c)?s:o+u+"."+c.toLowerCase()+"js"}):n}const UT={__extends:vb,__assign:zo,__rest:pi,__decorate:bb,__param:wb,__esDecorate:Sb,__runInitializers:xb,__propKey:_b,__setFunctionName:Eb,__metadata:Tb,__awaiter:Z,__generator:jb,__createBinding:nu,__exportStar:Ab,__values:Bo,__read:sf,__spread:Cb,__spreadArrays:Ob,__spreadArray:Rb,__await:li,__asyncGenerator:Nb,__asyncDelegator:Db,__asyncValues:Mb,__makeTemplateObject:kb,__importStar:Ub,__importDefault:Lb,__classPrivateFieldGet:zb,__classPrivateFieldSet:Bb,__classPrivateFieldIn:Pb,__addDisposableResource:Vb,__disposeResources:qb,__rewriteRelativeImportExtension:$b},LT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Vb,get __assign(){return zo},__asyncDelegator:Db,__asyncGenerator:Nb,__asyncValues:Mb,__await:li,__awaiter:Z,__classPrivateFieldGet:zb,__classPrivateFieldIn:Pb,__classPrivateFieldSet:Bb,__createBinding:nu,__decorate:bb,__disposeResources:qb,__esDecorate:Sb,__exportStar:Ab,__extends:vb,__generator:jb,__importDefault:Lb,__importStar:Ub,__makeTemplateObject:kb,__metadata:Tb,__param:wb,__propKey:_b,__read:sf,__rest:pi,__rewriteRelativeImportExtension:$b,__runInitializers:xb,__setFunctionName:Eb,__spread:Cb,__spreadArray:Rb,__spreadArrays:Ob,__values:Bo,default:UT},Symbol.toStringTag,{value:"Module"})),zT=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);let au=class extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}},Hb=class extends au{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},dd=class extends au{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},fd=class extends au{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Po;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Po||(Po={}));class BT{constructor(t,{headers:s={},customFetch:r,region:o=Po.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=zT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Z(this,arguments,void 0,function*(s,r={}){var o;let u,c;try{const{headers:f,method:m,body:p,signal:y,timeout:b}=r;let w={},{region:x}=r;x||(x=this.region);const _=new URL(`${this.url}/${s}`);x&&x!=="any"&&(w["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let A;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(w["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(w["Content-Type"]="application/json",A=JSON.stringify(p)):A=p;let T=y;b&&(c=new AbortController,u=setTimeout(()=>c.abort(),b),y?(T=c.signal,y.addEventListener("abort",()=>c.abort())):T=c.signal);const E=yield this.fetch(_.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:A,signal:T}).catch(G=>{throw new Hb(G)}),R=E.headers.get("x-relay-error");if(R&&R==="true")throw new dd(E);if(!E.ok)throw new fd(E);let C=((o=E.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),z;return C==="application/json"?z=yield E.json():C==="application/octet-stream"||C==="application/pdf"?z=yield E.blob():C==="text/event-stream"?z=E:C==="multipart/form-data"?z=yield E.formData():z=yield E.text(),{data:z,error:null,response:E}}catch(f){return{data:null,error:f,response:f instanceof fd||f instanceof dd?f.context:void 0}}finally{u&&clearTimeout(u)}})}}const PT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Po},FunctionsClient:BT,FunctionsError:au,FunctionsFetchError:Hb,FunctionsHttpError:fd,FunctionsRelayError:dd},Symbol.toStringTag,{value:"Module"})),Gb=Lr(PT);var yt={};const gi=Lr(LT);var fo={},mo={},po={},go={},yo={},vo={},mv;function Ib(){if(mv)return vo;mv=1,Object.defineProperty(vo,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return vo.default=n,vo}var pv;function Kb(){if(pv)return yo;pv=1,Object.defineProperty(yo,"__esModule",{value:!0});const t=gi.__importDefault(Ib());let s=class{constructor(o){var u,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,b,w;let x=null,_=null,A=null,T=m.status,E=m.statusText;if(m.ok){if(this.method!=="HEAD"){const G=await m.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=G:_=JSON.parse(G))}const C=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),z=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");C&&z&&z.length>1&&(A=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,A=null,T=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const C=await m.text();try{x=JSON.parse(C),Array.isArray(x)&&m.status===404&&(_=[],x=null,T=200,E="OK")}catch{m.status===404&&C===""?(T=204,E="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,T=200,E="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:_,count:A,status:T,statusText:E}});return this.shouldThrowOnError||(f=f.catch(m=>{var p,y,b,w,x,_;let A="";const T=m?.cause;if(T){const E=(p=T?.message)!==null&&p!==void 0?p:"",R=(y=T?.code)!==null&&y!==void 0?y:"";A=`${(b=m?.name)!==null&&b!==void 0?b:"FetchError"}: ${m?.message}`,A+=`

Caused by: ${(w=T?.name)!==null&&w!==void 0?w:"Error"}: ${E}`,R&&(A+=` (${R})`),T?.stack&&(A+=`
${T.stack}`)}else A=(x=m?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(_=m?.name)!==null&&_!==void 0?_:"FetchError"}: ${m?.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(o,u)}returns(){return this}overrideTypes(){return this}};return yo.default=s,yo}var gv;function Yb(){if(gv)return go;gv=1,Object.defineProperty(go,"__esModule",{value:!0});const t=gi.__importDefault(Kb());let s=class extends t.default{select(o){let u=!1;const c=(o??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,u,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:m=!1,format:p="text"}={}){var y;const b=[o?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return go.default=s,go}var yv;function rf(){if(yv)return po;yv=1,Object.defineProperty(po,"__esModule",{value:!0});const t=gi.__importDefault(Yb()),s=new RegExp("[,()]");let r=class extends t.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}regexMatch(u,c){return this.url.searchParams.append(u,`match.${c}`),this}regexIMatch(u,c){return this.url.searchParams.append(u,`imatch.${c}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}isDistinct(u,c){return this.url.searchParams.append(u,`isdistinct.${c}`),this}in(u,c){const f=Array.from(new Set(c)).map(m=>typeof m=="string"&&s.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:f,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${p}fts${y}.${c}`),this}match(u){return Object.entries(u).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(u,c,f){return this.url.searchParams.append(u,`not.${c}.${f}`),this}or(u,{foreignTable:c,referencedTable:f=c}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,c,f){return this.url.searchParams.append(u,`${c}.${f}`),this}};return po.default=r,po}var vv;function Fb(){if(vv)return mo;vv=1,Object.defineProperty(mo,"__esModule",{value:!0});const t=gi.__importDefault(rf());let s=class{constructor(o,{headers:u={},schema:c,fetch:f}){this.url=o,this.headers=new Headers(u),this.schema=c,this.fetch=f}select(o,u){const{head:c=!1,count:f}=u??{},m=c?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:c=!0}={}){var f;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:m=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(b.length>0){const w=[...new Set(b)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:u}={}){var c;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var u;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return mo.default=s,mo}var bv;function VT(){if(bv)return fo;bv=1,Object.defineProperty(fo,"__esModule",{value:!0});const n=gi,t=n.__importDefault(Fb()),s=n.__importDefault(rf());let r=class Xb{constructor(u,{headers:c={},schema:f,fetch:m}={}){this.url=u,this.headers=new Headers(c),this.schemaName=f,this.fetch=m}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${u}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new Xb(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:f=!1,get:m=!1,count:p}={}){var y;let b;const w=new URL(`${this.url}/rpc/${u}`);let x;f||m?(b=f?"HEAD":"GET",Object.entries(c).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{w.searchParams.append(A,T)})):(b="POST",x=c);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new s.default({method:b,url:w,headers:_,schema:this.schemaName,body:x,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return fo.default=r,fo}var wv;function Jb(){if(wv)return yt;wv=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const n=gi,t=n.__importDefault(VT());yt.PostgrestClient=t.default;const s=n.__importDefault(Fb());yt.PostgrestQueryBuilder=s.default;const r=n.__importDefault(rf());yt.PostgrestFilterBuilder=r.default;const o=n.__importDefault(Yb());yt.PostgrestTransformBuilder=o.default;const u=n.__importDefault(Kb());yt.PostgrestBuilder=u.default;const c=n.__importDefault(Ib());return yt.PostgrestError=c.default,yt.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:c.default},yt}class Qb{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qT="2.87.1",$T=`realtime-js/${qT}`,Zb="1.0.0",HT="2.0.0",Sv=Zb,md=1e4,GT=1e3,IT=100;var ns;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ns||(ns={}));var We;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(We||(We={}));var mn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(mn||(mn={}));var pd;(function(n){n.websocket="websocket"})(pd||(pd={}));var as;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(as||(as={}));class KT{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r;const o=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var s,r;const o=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,r){var o,u;const c=t.topic,f=(o=t.ref)!==null&&o!==void 0?o:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+c.length+p.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(x),A=0;_.setUint8(A++,this.KINDS.userBroadcastPush),_.setUint8(A++,m.length),_.setUint8(A++,f.length),_.setUint8(A++,c.length),_.setUint8(A++,p.length),_.setUint8(A++,b.length),_.setUint8(A++,s),Array.from(m,E=>_.setUint8(A++,E.charCodeAt(0))),Array.from(f,E=>_.setUint8(A++,E.charCodeAt(0))),Array.from(c,E=>_.setUint8(A++,E.charCodeAt(0))),Array.from(p,E=>_.setUint8(A++,E.charCodeAt(0))),Array.from(b,E=>_.setUint8(A++,E.charCodeAt(0)));var T=new Uint8Array(x.byteLength+r.byteLength);return T.set(new Uint8Array(x),0),T.set(new Uint8Array(r),x.byteLength),T.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,u,c,f,m]=r;return s({join_ref:o,ref:u,topic:c,event:f,payload:m})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,o)}}_decodeUserBroadcast(t,s,r){const o=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),f=s.getUint8(4);let m=this.HEADER_LENGTH+4;const p=r.decode(t.slice(m,m+o));m=m+o;const y=r.decode(t.slice(m,m+u));m=m+u;const b=r.decode(t.slice(m,m+c));m=m+c;const w=t.slice(m,t.byteLength),x=f===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,_={type:this.BROADCAST_EVENT,event:y,payload:x};return c>0&&(_.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>s.includes(r)))}}class Wb{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ue||(Ue={}));const xv=(n,t,s={})=>{var r;const o=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=YT(c,n,t,o),u),{}):{}},YT=(n,t,s,r)=>{const o=t.find(f=>f.name===n),u=o?.type,c=s[n];return u&&!r.includes(u)?ew(u,c):gd(c)},ew=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return QT(t,s)}switch(n){case Ue.bool:return FT(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return XT(t);case Ue.json:case Ue.jsonb:return JT(t);case Ue.timestamp:return ZT(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return gd(t);default:return gd(t)}},gd=n=>n,FT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},XT=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},JT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},QT=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let u;const c=n.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>ew(t,f))}return n},ZT=n=>typeof n=="string"?n.replace(" ","T"):n,tw=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ph{constructor(t,s,r={},o=md){this.channel=t,this.event=s,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yd;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(yd||(yd={}));let nw=class Co{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Co.syncState(this.state,o,u,c),this.pendingDiffs.forEach(m=>{this.state=Co.syncDiff(this.state,m,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Co.syncDiff(this.state,o,u,c),f())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,o){const u=this.cloneDeep(t),c=this.transformState(s),f={},m={};return this.map(u,(p,y)=>{c[p]||(m[p]=y)}),this.map(c,(p,y)=>{const b=u[p];if(b){const w=y.map(T=>T.presence_ref),x=b.map(T=>T.presence_ref),_=y.filter(T=>x.indexOf(T.presence_ref)<0),A=b.filter(T=>w.indexOf(T.presence_ref)<0);_.length>0&&(f[p]=_),A.length>0&&(m[p]=A)}else f[p]=y}),this.syncDiff(u,{joins:f,leaves:m},r,o)}static syncDiff(t,s,r,o){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(u,(f,m)=>{var p;const y=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(m),y.length>0){const b=t[f].map(x=>x.presence_ref),w=y.filter(x=>b.indexOf(x.presence_ref)<0);t[f].unshift(...w)}r(f,y,m)}),this.map(c,(f,m)=>{let p=t[f];if(!p)return;const y=m.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),t[f]=p,o(f,p,m),p.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const o=t[r];return"metas"in o?s[r]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[r]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var vd;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(vd||(vd={}));var si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(si||(si={}));var bn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));const WT=We;let aw=class br{constructor(t,s={config:{}},r){var o,u;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ph(this,mn.join,this.params,this.timeout),this.rejoinTimer=new Wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new nw(this),this.broadcastEndpointURL=tw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:c,presence:f,private:m}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(bn.CHANNEL_ERROR,x)),this._onClose(()=>t?.(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(bn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,T=(_=A?.length)!==null&&_!==void 0?_:0,E=[];for(let R=0;R<T;R++){const C=A[R],{filter:{event:z,schema:G,table:P,filter:K}}=C,X=x&&x[R];if(X&&X.event===z&&br.isFilterValueEqual(X.schema,G)&&br.isFilterValueEqual(X.table,P)&&br.isFilterValueEqual(X.filter,K))E.push(Object.assign(Object.assign({},C),{id:X.id}));else{this.unsubscribe(),this.state=We.errored,t?.(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(bn.SUBSCRIBED);return}}).receive("error",x=>{this.state=We.errored,t?.(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===We.joined&&t===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const p=await f.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,s={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,m;const p=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Ph(this,mn.leave,{},t),r.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const o=new AbortController,u=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(u),c}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ph(this,t,s,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>IT){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var o,u;const c=t.toLocaleLowerCase(),{close:f,error:m,leave:p,join:y}=mn;if(r&&[f,m,p,y].indexOf(c)>=0&&r!==this._joinRef())return;let w=this._onMessage(c,s,r);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var _,A,T;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((T=(A=x.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(x=>x.callback(w,r)):(u=this.bindings[c])===null||u===void 0||u.filter(x=>{var _,A,T,E,R,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const z=x.id,G=(_=x.filter)===null||_===void 0?void 0:_.event;return z&&((A=s.ids)===null||A===void 0?void 0:A.includes(z))&&(G==="*"||G?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const z=(R=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return z==="*"||z===((C=s?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:A,table:T,commit_timestamp:E,type:R,errors:C}=_;w=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:E,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(_))}x.callback(w,r)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const o=t.toLocaleLowerCase(),u={type:o,filter:s,callback:r};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&br.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mn.close,{},t)}_onError(t){this._on(mn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=xv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=xv(t.columns,t.old_record)),s}};const Vh=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ej=[1e3,2e3,5e3,1e4],tj=1e4,nj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let aj=class{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=md,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vh,this.ref=0,this.reconnectTimer=null,this.vsn=Sv,this.logger=Vh,this.conn=null,this.sendBuffer=[],this.serializer=new KT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${pd.websocket}`,this.httpEndpoint=tw(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return as.Connecting;case ns.open:return as.Open;case ns.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===r);if(o)return o;{const u=new aw(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:r,payload:o,ref:u}=t,c=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${r} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GT,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:u,ref:c}=s,f=c?`(${c})`:"",m=u.status||"";this.log("receive",`${m} ${r} ${o} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ns.open||this.conn.readyState===ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${r}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([nj],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,r=!1;if(t)s=t,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const u={access_token:s,version:$T};s&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(mn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,o,u,c,f,m,p,y,b,w,x;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:md,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:bo.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Vh,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:Sv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>ej[_-1]||tj),this.vsn){case Zb:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((_,A)=>A(JSON.stringify(_))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((_,A)=>A(JSON.parse(_)));break;case HT:this.encode=(w=t?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const sj=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:WT,get REALTIME_LISTEN_TYPES(){return si},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return vd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return yd},get REALTIME_SUBSCRIBE_STATES(){return bn},RealtimeChannel:aw,RealtimeClient:aj,RealtimePresence:nw,WebSocketFactory:Qb},Symbol.toStringTag,{value:"Module"})),sw=Lr(sj);class Vr extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class iw extends Vr{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vo extends Vr{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const lf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),ij=()=>Response,bd=n=>{if(Array.isArray(n))return n.map(s=>bd(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,r])=>{const o=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=bd(r)}),t},rj=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},lj=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),qh=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},oj=(n,t,s)=>Z(void 0,void 0,void 0,function*(){const r=yield ij();n instanceof r&&!s?.noResolveJson?n.json().then(o=>{const u=n.status||500,c=o?.statusCode||u+"";t(new iw(qh(o),u,c))}).catch(o=>{t(new Vo(qh(o),o))}):t(new Vo(qh(n),n))}),uj=(n,t,s,r)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(rj(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),s))};function qr(n,t,s,r,o,u){return Z(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(s,uj(t,r,o,u)).then(m=>{if(!m.ok)throw m;return r?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>oj(m,f,r))})})}function Or(n,t,s,r){return Z(this,void 0,void 0,function*(){return qr(n,"GET",t,s,r)})}function fn(n,t,s,r,o){return Z(this,void 0,void 0,function*(){return qr(n,"POST",t,r,o,s)})}function wd(n,t,s,r,o){return Z(this,void 0,void 0,function*(){return qr(n,"PUT",t,r,o,s)})}function cj(n,t,s,r){return Z(this,void 0,void 0,function*(){return qr(n,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function of(n,t,s,r,o){return Z(this,void 0,void 0,function*(){return qr(n,"DELETE",t,r,o,s)})}class hj{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}var rw;class dj{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[rw]="BlobDownloadBuilder",this.promise=null}asStream(){return new hj(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}rw=Symbol.toStringTag;const fj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mj{constructor(t,s={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=lf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,o){return Z(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},_v),o);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),o?.headers&&(f=Object.assign(Object.assign({},f),o.headers));const p=this._removeEmptyFolders(s),y=this._getFinalPath(p),b=yield(t=="PUT"?wd:fn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}upload(t,s,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,o){return Z(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",s);try{let m;const p=Object.assign({upsert:_v.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield wd(this.fetch,f.toString(),m,{headers:y});return{data:{path:u,fullPath:b.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Pe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,s){return Z(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const u=yield fn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new Vr("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}update(t,s,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}copy(t,s,r){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,s,r){return Z(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),u=yield fn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,s,r){return Z(this,void 0,void 0,function*(){try{const o=yield fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}download(t,s){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),c=u?`?${u}`:"",f=this._getFinalPath(t),m=()=>Or(this.fetch,`${this.url}/${o}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new dj(m,this.shouldThrowOnError)}info(t){return Z(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Or(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:bd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}exists(t){return Z(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield cj(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r)&&r instanceof Vo){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),o=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&o.push(u);const f=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${p}`)}}}remove(t){return Z(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}list(t,s,r){return Z(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},fj),s),{prefix:t||""});return{data:yield fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}listV2(t,s){return Z(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const lw="2.87.1",ow={"X-Client-Info":`storage-js/${lw}`};class pj{constructor(t,s={},r,o){this.shouldThrowOnError=!1;const u=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ow),s),this.fetch=lf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield Or(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createBucket(t){return Z(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}updateBucket(t,s){return Z(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Rr=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gj(n,t,s){const r=new URL(t,n);if(s)for(const[o,u]of Object.entries(s))u!==void 0&&r.searchParams.set(o,u);return r.toString()}async function yj(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function vj(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:o,body:u,headers:c}){const f=gj(n.baseUrl,r,o),m=await yj(n.auth),p=await t(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...m,...c},body:u?JSON.stringify(u):void 0}),y=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),w=b&&y?JSON.parse(y):y;if(!p.ok){const x=b?w:void 0,_=x?.error;throw new Rr(_?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:_?.type,icebergCode:_?.code,details:x})}return{status:p.status,headers:p.headers,data:w}}}}function wo(n){return n.join("")}var bj=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:wo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wo(n.namespace)}`}),!0}catch(t){if(t instanceof Rr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof Rr&&s.status===409)return;throw s}}};function Ys(n){return n.join("")}var wj=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ys(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ys(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ys(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ys(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ys(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ys(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof Rr&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof Rr&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},Sj=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=vj({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new bj(this.client,t),this.tableOps=new wj(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}};class uw{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ow),s),this.fetch=lf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const s=new URLSearchParams;t?.limit!==void 0&&s.set("limit",t.limit.toString()),t?.offset!==void 0&&s.set("offset",t.offset.toString()),t?.sortColumn&&s.set("sortColumn",t.sortColumn),t?.sortOrder&&s.set("sortOrder",t.sortOrder),t?.search&&s.set("search",t.search);const r=s.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Or(this.fetch,o,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}from(t){if(!lj(t))throw new Vr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Sj({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Z(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(u,c){const f=u[c];return typeof f!="function"?f:(...m)=>Z(this,void 0,void 0,function*(){try{return{data:yield f.apply(u,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}})}})}}const uf={"X-Client-Info":`storage-js/${lw}`,"Content-Type":"application/json"};class cf extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Oo extends cf{constructor(t,s,r){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cw extends cf{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var Sd;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Sd||(Sd={}));const su=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),xj=()=>Response,hw=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_j=n=>Array.from(new Float32Array(n)),Ej=(n,t)=>{if(t!==void 0&&n.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${n.float32.length}`)},Ev=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Tj=(n,t,s)=>Z(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const o=n.status||500,u=n;if(typeof u.json=="function")u.json().then(c=>{const f=c?.statusCode||c?.code||o+"";t(new Oo(Ev(c),o,f))}).catch(()=>{const c=o+"",f=u.statusText||`HTTP ${o} error`;t(new Oo(f,o,c))});else{const c=o+"",f=u.statusText||`HTTP ${o} error`;t(new Oo(f,o,c))}}else t(new cw(Ev(n),n))}),jj=(n,t,s,r)=>{const o={method:n,headers:t?.headers||{}};return r?(hw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),s)):o};function Aj(n,t,s,r,o,u){return Z(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(s,jj(t,r,o,u)).then(m=>{if(!m.ok)throw m;if(r?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>Tj(m,f,r))})})}function Ht(n,t,s,r,o){return Z(this,void 0,void 0,function*(){return Aj(n,"POST",t,r,o,s)})}class dw{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uf),s),this.fetch=su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}getIndex(t,s){return Z(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listIndexes(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return Z(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}class fw{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uf),s),this.fetch=su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}getVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}listVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ht(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}queryVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}deleteVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}}class mw{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uf),s),this.fetch=su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}listBuckets(){return Z(this,arguments,void 0,function*(t={}){try{return{data:yield Ht(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}}class pw extends mw{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new gw(this.url,this.headers,t,this.fetch)}createBucket(t){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Z(this,void 0,void 0,function*(){return s.createBucket.call(this,t)})}getBucket(t){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Z(this,void 0,void 0,function*(){return s.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Z(this,arguments,void 0,function*(s={}){return t.listBuckets.call(this,s)})}deleteBucket(t){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Z(this,void 0,void 0,function*(){return s.deleteBucket.call(this,t)})}}class gw extends dw{constructor(t,s,r,o){super(t,s,o),this.vectorBucketName=r}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new yw(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class yw extends fw{constructor(t,s,r,o,u){super(t,s,u),this.vectorBucketName=r,this.indexName=o}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Cj extends pj{constructor(t,s={},r,o){super(t,s,r,o)}from(t){return new mj(this.url,this.headers,t,this.fetch)}get vectors(){return new pw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uw(this.url+"/iceberg",this.headers,this.fetch)}}const Oj=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:uw,StorageApiError:iw,StorageClient:Cj,StorageError:Vr,StorageUnknownError:Vo,StorageVectorsApiError:Oo,StorageVectorsClient:pw,StorageVectorsError:cf,get StorageVectorsErrorCode(){return Sd},StorageVectorsUnknownError:cw,VectorBucketApi:mw,VectorBucketScope:gw,VectorDataApi:fw,VectorIndexApi:dw,VectorIndexScope:yw,isPlainObject:hw,isStorageError:Pe,isStorageVectorsError:Rt,normalizeToFloat32:_j,resolveFetch:su,resolveResponse:xj,validateVectorDimension:Ej},Symbol.toStringTag,{value:"Module"})),Rj=Lr(Oj);var $h={},gr={},Tv;function Nj(){return Tv||(Tv=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.version=void 0,gr.version="2.87.1"),gr}var jv;function Dj(){return jv||(jv=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_REALTIME_OPTIONS=n.DEFAULT_AUTH_OPTIONS=n.DEFAULT_DB_OPTIONS=n.DEFAULT_GLOBAL_OPTIONS=n.DEFAULT_HEADERS=void 0;const t=Nj();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",n.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${t.version}`},n.DEFAULT_GLOBAL_OPTIONS={headers:n.DEFAULT_HEADERS},n.DEFAULT_DB_OPTIONS={schema:"public"},n.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n.DEFAULT_REALTIME_OPTIONS={}})($h)),$h}var Hh={},Av;function Mj(){return Av||(Av=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithAuth=n.resolveHeadersConstructor=n.resolveFetch=void 0;const t=o=>o?(...u)=>o(...u):(...u)=>fetch(...u);n.resolveFetch=t;const s=()=>Headers;n.resolveHeadersConstructor=s;const r=(o,u,c)=>{const f=(0,n.resolveFetch)(c),m=(0,n.resolveHeadersConstructor)();return async(p,y)=>{var b;const w=(b=await u())!==null&&b!==void 0?b:o;let x=new m(y?.headers);return x.has("apikey")||x.set("apikey",o),x.has("Authorization")||x.set("Authorization",`Bearer ${w}`),f(p,Object.assign(Object.assign({},y),{headers:x}))}};n.fetchWithAuth=r})(Hh)),Hh}var $n={},Cv;function kj(){if(Cv)return $n;Cv=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.isBrowser=void 0,$n.uuid=n,$n.ensureTrailingSlash=t,$n.applySettingDefaults=r,$n.validateSupabaseUrl=o;function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var c=Math.random()*16|0,f=u=="x"?c:c&3|8;return f.toString(16)})}function t(u){return u.endsWith("/")?u:u+"/"}const s=()=>typeof window<"u";$n.isBrowser=s;function r(u,c){var f,m;const{db:p,auth:y,realtime:b,global:w}=u,{db:x,auth:_,realtime:A,global:T}=c,E={db:Object.assign(Object.assign({},x),p),auth:Object.assign(Object.assign({},_),y),realtime:Object.assign(Object.assign({},A),b),storage:{},global:Object.assign(Object.assign(Object.assign({},T),w),{headers:Object.assign(Object.assign({},(f=T?.headers)!==null&&f!==void 0?f:{}),(m=w?.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return u.accessToken?E.accessToken=u.accessToken:delete E.accessToken,E}function o(u){const c=u?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return $n}var yr={};const vw="2.87.1",Qs=30*1e3,xd=3,Gh=xd*Qs,Uj="http://localhost:9999",Lj="supabase.auth.token",zj={"X-Client-Info":`gotrue-js/${vw}`},_d="X-Supabase-Api-Version",bw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pj=600*1e3;let oi=class extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}};function ne(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}let ww=class extends oi{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}};function Sw(n){return ne(n)&&n.name==="AuthApiError"}let Ea=class extends oi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}},Fn=class extends oi{constructor(t,s,r,o){super(t,r,o),this.name=s,this.status=r}},Ot=class extends Fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xw(n){return ne(n)&&n.name==="AuthSessionMissingError"}let Za=class extends Fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wr=class extends Fn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Sr=class extends Fn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _w(n){return ne(n)&&n.name==="AuthImplicitGrantRedirectError"}let Ed=class extends Fn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},qo=class extends Fn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}};function Ro(n){return ne(n)&&n.name==="AuthRetryableFetchError"}let Td=class extends Fn{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}};function Vj(n){return ne(n)&&n.name==="AuthWeakPasswordError"}let $o=class extends Fn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ov=` 	
\r=`.split(""),qj=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Ov.length;t+=1)n[Ov[t].charCodeAt(0)]=-2;for(let t=0;t<Ho.length;t+=1)n[Ho[t].charCodeAt(0)]=t;return n})();function Rv(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(Ho[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(Ho[r]),t.queuedBits-=6}}function Ew(n,t,s){const r=qj[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Nv(n){const t=[],s=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{Gj(c,r,s)};for(let c=0;c<n.length;c+=1)Ew(n.charCodeAt(c),o,u);return t.join("")}function $j(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Hj(n,t){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}$j(r,t)}}function Gj(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ii(n){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)Ew(n.charCodeAt(o),s,r);return new Uint8Array(t)}function Ij(n){const t=[];return Hj(n,s=>t.push(s)),new Uint8Array(t)}function ss(n){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>Rv(o,s,r)),Rv(null,s,r),t.join("")}function Kj(n){return Math.round(Date.now()/1e3)+n}function Yj(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},Tw=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function Fj(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return s.searchParams.forEach((r,o)=>{t[o]=r}),t}const jw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Xj=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zs=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},Xa=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},dt=async(n,t)=>{await n.removeItem(t)};class iu{constructor(){this.promise=new iu.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}iu.promiseConstructor=Promise;function Ih(n){const t=n.split(".");if(t.length!==3)throw new $o("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Bj.test(t[r]))throw new $o("JWT not in base64url format");return{header:JSON.parse(Nv(t[0])),payload:JSON.parse(Nv(t[1])),signature:ii(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jj(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Qj(n,t){return new Promise((r,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!t(u,null,c)){r(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function Zj(n){return("0"+n.toString(16)).substr(-2)}function Wj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let o="";for(let u=0;u<56;u++)o+=s.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,Zj).join("")}async function eA(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(r);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function tA(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await eA(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fs(n,t,s=!1){const r=Wj();let o=r;s&&(o+="/PASSWORD_RECOVERY"),await Zs(n,`${t}-code-verifier`,o);const u=await tA(r);return[u,r===u?"plain":"s256"]}const nA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aA(n){const t=n.headers.get(_d);if(!t||!t.match(nA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sA(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function iA(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xs(n){if(!rA.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kh(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lA(n,t){return new Proxy(n,{get:(s,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const u=r.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,r,o)}})}function Dv(n){return JSON.parse(JSON.stringify(n))}const Wa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),oA=[502,503,504];async function Mv(n){var t;if(!Xj(n))throw new qo(Wa(n),0);if(oA.includes(n.status))throw new qo(Wa(n),n.status);let s;try{s=await n.json()}catch(u){throw new Ea(Wa(u),u)}let r;const o=aA(n);if(o&&o.getTime()>=bw["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Td(Wa(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ot}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Td(Wa(s),n.status,s.weak_password.reasons);throw new ww(Wa(s),n.status||500,r)}const uA=(n,t,s,r)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),s))};async function re(n,t,s,r){var o;const u=Object.assign({},r?.headers);u[_d]||(u[_d]=bw["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const c=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await cA(n,t,s+f,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function cA(n,t,s,r,o,u){const c=uA(t,r,o,u);let f;try{f=await n(s,Object.assign({},c))}catch(m){throw console.error(m),new qo(Wa(m),0)}if(f.ok||await Mv(f),r?.noResolveJson)return f;try{return await f.json()}catch(m){await Mv(m)}}function hn(n){var t;let s=null;fA(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Kj(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:r},error:null}}function kv(n){const t=hn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ta(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function hA(n){return{data:n,error:null}}function dA(n){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:u}=n,c=pi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:u},m=Object.assign({},c);return{data:{properties:f,user:m},error:null}}function Uv(n){return n}function fA(n){return n.access_token&&n.refresh_token&&n.expires_in}const No=["global","local","others"];let hf=class{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=jw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=No[0]){if(No.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${No.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ta})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=pi(t,["options"]),o=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:dA,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,o,u,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},y=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Uv});if(y.error)throw y.error;const b=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(_=>{const A=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(_.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ne(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Xs(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Xs(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ta})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Xs(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ta})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Xs(t.userId);try{const{data:s,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:r}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Xs(t.userId),Xs(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,r,o,u,c,f,m;try{const p={nextPage:null,lastPage:0,total:0},y=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Uv});if(y.error)throw y.error;const b=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(_=>{const A=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(_.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ne(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}};function Lv(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const es={debug:!!(globalThis&&Tw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class df extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Aw=class extends df{};class mA extends df{}async function Cw(n,t,s){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await s()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Aw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(es.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const zv={};async function pA(n,t,s){var r;const o=(r=zv[n])!==null&&r!==void 0?r:Promise.resolve(),u=Promise.race([o.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new mA(`Acquring process lock with name "${n}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await s());return zv[n]=u.catch(async c=>{if(c&&c.isAcquireTimeout)return await o,null;throw c}),await u}function gA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ow(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function yA(n){return parseInt(n,16)}function vA(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function bA(n){var t;const{chainId:s,domain:r,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:m,resources:p,scheme:y,uri:b,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=Ow(n.address),_=y?`${y}://${r}`:r,A=n.statement?`${n.statement}
`:"",T=`${_} wants you to sign in with your Ethereum account:
${x}

${A}`;let E=`URI: ${b}
Version: ${w}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),f&&(E+=`
Not Before: ${f.toISOString()}`),m&&(E+=`
Request ID: ${m}`),p){let R=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);R+=`
- ${C}`}E+=R}return`${T}
${E}`}class et extends Error{constructor({message:t,code:s,cause:r,name:o}){var u;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(u=o??(r instanceof Error?r.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Go extends et{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function wA({error:n,options:t}){var s,r,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=u.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new et({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Rw(c)){if(u.rp.id!==c)return new et({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function SA({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new et({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Rw(r)){if(s.rpId!==r)return new et({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class xA{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _A=new xA;function EA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:r}=n,o=pi(n,["challenge","user","excludeCredentials"]),u=ii(t).buffer,c=Object.assign(Object.assign({},s),{id:ii(s.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:c});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];f.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:ii(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function TA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,r=pi(n,["challenge","allowCredentials"]),o=ii(t).buffer,u=Object.assign(Object.assign({},r),{challenge:o});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const f=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ii(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function jA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:ss(new Uint8Array(n.response.attestationObject)),clientDataJSON:ss(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ss(new Uint8Array(o.authenticatorData)),clientDataJSON:ss(new Uint8Array(o.clientDataJSON)),signature:ss(new Uint8Array(o.signature)),userHandle:o.userHandle?ss(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Bv(){var n,t;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CA(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Go("Browser returned unexpected credential type",t)}:{data:null,error:new Go("Empty credential response",t)}}catch(t){return{data:null,error:wA({error:t,options:n})}}}async function OA(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Go("Browser returned unexpected credential type",t)}:{data:null,error:new Go("Empty credential response",t)}}catch(t){return{data:null,error:SA({error:t,options:n})}}}const RA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Io(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))r[u]=c;else if(s(c))r[u]=c;else if(t(c)){const f=r[u];t(f)?r[u]=Io(f,c):r[u]=Io(c)}else r[u]=c}return r}function DA(n,t){return Io(RA,n,t||{})}function MA(n,t){return Io(NA,n,t||{})}class kA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:r,signal:o},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!c)return{data:null,error:f};const m=o??_A.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=DA(c.webauthn.credential_options.publicKey,u?.create),{data:y,error:b}=await CA({publicKey:p,signal:m});return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=MA(c.webauthn.credential_options.publicKey,u?.request),{data:y,error:b}=await OA(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:m}));return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new Ea("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new oi("rpId is required for WebAuthn authentication")};try{if(!Bv())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:r},signal:o},{request:u});if(!c)return{data:null,error:f};const{webauthn:m}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:r,credential_response:m.credential_response}})}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new Ea("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new oi("rpId is required for WebAuthn registration")};try{if(!Bv())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:m,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:o},{create:u});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new Ea("Unexpected error in register",c)}}}}gA();const UA={url:Uj,storageKey:Lj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pv(n,t,s){return await s()}const Js={};let ff=class jd{get jwks(){var t,s;return(s=(t=Js[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Js[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{cachedAt:t})}constructor(t){var s,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},UA),t);if(this.storageKey=u.storageKey,this.instanceID=(s=jd.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,jd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ft()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new hf({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=jw(u.fetch),this.lock=u.lock||Pv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&ft()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Cw:this.lock=Pv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Tw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},r="none";if(ft()&&(s=Fj(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:u}=await this._getSessionFromURL(s,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),_w(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new Ea("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,o;try{const u=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:hn}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,r,o;try{let u;if("email"in t){const{email:y,password:b,options:w}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Fs(this.storage,this.storageKey)),u=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:b,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:_},xform:hn})}else if("phone"in t){const{phone:y,password:b,options:w}=t;u=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:hn})}else throw new wr("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:f}=t;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kv})}else if("phone"in t){const{phone:u,password:c,options:f}=t;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kv})}else throw new wr("You must provide either an email or phone number and a password");const{data:r,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const u=new Za;return this._returnResult({data:{user:null,session:null},error:u})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,r,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,r,o,u,c,f,m,p,y,b,w;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:A,wallet:T,statement:E,options:R}=t;let C;if(ft())if(typeof T=="object")C=T;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")C=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const z=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href),G=await C.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Ow(G[0]);let K=(r=R?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!K){const ie=await C.request({method:"eth_chainId"});K=yA(ie)}const X={domain:z.host,address:P,statement:E,uri:z.href,version:"1",chainId:K,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=R?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=bA(X),_=await C.request({method:"personal_sign",params:[vA(x),P]})}try{const{data:A,error:T}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:hn});if(T)throw T;if(!A||!A.session||!A.user){const E=new Za;return this._returnResult({data:{user:null,session:null},error:E})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:T})}catch(A){if(ne(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(t){var s,r,o,u,c,f,m,p,y,b,w,x;let _,A;if("message"in t)_=t.message,A=t.signature;else{const{chain:T,wallet:E,statement:R,options:C}=t;let z;if(ft())if(typeof E=="object")z=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))z=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const G=new URL((s=C?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in z&&z.signIn){const P=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),R?{statement:R}:null));let K;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")K=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)K=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)_=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),A=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${G.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(o=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=C?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((b=(y=C?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...C.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const P=await z.signMessage(new TextEncoder().encode(_),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=P}}try{const{data:T,error:E}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ss(A)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:hn});if(E)throw E;if(!T||!T.session||!T.user){const R=new Za;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:E})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const s=await Xa(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(s??"").split("/");try{const{data:u,error:c}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:hn});if(await dt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new Za;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:r,token:o,access_token:u,nonce:c}=t,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:hn}),{data:m,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const y=new Za;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,r,o,u,c;try{if("email"in t){const{email:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Fs(this.storage,this.storageKey));const{error:b}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:f,options:m}=t,{data:p,error:y}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new wr("You must provide either an email or phone number.")}catch(f){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,r;try{let o,u;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:f}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:hn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var s,r,o,u,c;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Fs(this.storage,this.storageKey));const p=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:hA});return!((u=p.data)===null||u===void 0)&&u.url&&ft()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Ot;const{error:o}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:u}=t,{error:c}=await re(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:r,type:o,options:u}=t,{data:c,error:f}=await re(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new wr("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Xa(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Kh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=lA(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async s=>{var r,o,u;const{data:c,error:f}=s;if(f)throw f;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Ta})})}catch(s){if(ne(s))return xw(s)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:o,error:u}=r;if(u)throw u;if(!o.session)throw new Ot;const c=o.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await Fs(this.storage,this.storageKey));const{data:p,error:y}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:c.access_token,xform:Ta});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ot;const s=Date.now()/1e3;let r=s,o=!0,u=null;const{payload:c}=Ih(t.access_token);if(c.exp&&(r=c.exp,o=r<=s),o){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:c,error:f}=s;if(f)throw f;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ot;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!ft())throw new Sr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Sr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ed("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:f,expires_at:m,token_type:p}=t;if(!u||!f||!c||!p)throw new Sr("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(f);let w=y+b;m&&(w=parseInt(m));const x=w-y;x*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const _=w-b;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:A,error:T}=await this._getUser(u);if(T)throw T;const E={provider_token:r,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:w,refresh_token:c,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:o,error:u}=s;if(u)return this._returnResult({error:u});const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(Sw(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Yj(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,o;try{const{data:{session:u},error:c}=s;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Fs(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:r,error:o}=await this._useSession(async u=>{var c,f,m,p,y;const{data:b,error:w}=u;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return ft()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var r;try{const{error:o,data:{session:u}}=s;if(o)throw o;const{options:c,provider:f,token:m,access_token:p,nonce:y}=t,b=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=u?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:m,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hn}),{data:w,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Za}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await dt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,o;const{data:u,error:c}=s;if(c)throw c;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Qj(async o=>(o>0&&await Jj(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&Ro(u)&&Date.now()+c-r<Qs})}catch(r){if(this._debug(s,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),ft()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Xa(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Zs(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:Kh()}else if(o&&!o.user&&!o.user){const c=await Xa(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await dt(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,o)):o.user=Kh()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const u=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Gh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Gh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Ro(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new iu;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new Ot;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),ne(u)){const c={data:null,error:u};return Ro(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(m){u.push(m)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const u=Dv(o);await Zs(this.storage,this.storageKey,u)}else{const o=Dv(s);await Zs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qs}ms, refresh threshold is ${xd} ticks`),o<=xd&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof df)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const o=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,c]=await Fs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);o.push(u.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:o,error:u}=s;return u?this._returnResult({data:null,error:u}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,o;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await re(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?jA(t.webauthn.credential_response):AA(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:EA(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:TA(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ih(r.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;return o?this._returnResult({data:null,error:o}):r?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Ot});const c=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&ft()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Ot});const c=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&ft()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;return o?this._returnResult({data:null,error:o}):r?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(f=>f.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(f=>f.kid===t),r&&this.jwks_cached_at+Pj>o)return r;const{data:u,error:c}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,r=u.keys.find(f=>f.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});r=x.session.access_token}const{header:o,payload:u,signature:c,raw:{header:f,payload:m}}=Ih(r);s?.allowExpired||sA(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:u,header:o,signature:c},error:null}}const y=iA(o.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,c,Ij(`${f}.${m}`)))throw new $o("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}};ff.nextInstanceID={};const LA=hf,zA=ff,BA=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:LA,AuthApiError:ww,AuthClient:zA,AuthError:oi,AuthImplicitGrantRedirectError:Sr,AuthInvalidCredentialsError:wr,AuthInvalidJwtError:$o,AuthInvalidTokenResponseError:Za,AuthPKCEGrantCodeExchangeError:Ed,AuthRetryableFetchError:qo,AuthSessionMissingError:Ot,AuthUnknownError:Ea,AuthWeakPasswordError:Td,CustomAuthError:Fn,GoTrueAdminApi:hf,GoTrueClient:ff,NavigatorLockAcquireTimeoutError:Aw,SIGN_OUT_SCOPES:No,isAuthApiError:Sw,isAuthError:ne,isAuthImplicitGrantRedirectError:_w,isAuthRetryableFetchError:Ro,isAuthSessionMissingError:xw,isAuthWeakPasswordError:Vj,lockInternals:es,navigatorLock:Cw,processLock:pA},Symbol.toStringTag,{value:"Module"})),Nw=Lr(BA);var Vv;function PA(){if(Vv)return yr;Vv=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.SupabaseAuthClient=void 0;const n=Nw;let t=class extends n.AuthClient{constructor(r){super(r)}};return yr.SupabaseAuthClient=t,yr}var qv;function $v(){if(qv)return ho;qv=1,Object.defineProperty(ho,"__esModule",{value:!0});const n=Gb,t=Jb(),s=sw,r=Rj,o=Dj(),u=Mj(),c=kj(),f=PA();class m{constructor(y,b,w){var x,_,A;this.supabaseUrl=y,this.supabaseKey=b;const T=(0,c.validateSupabaseUrl)(y);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);const E=`sb-${T.hostname.split(".")[0]}-auth-token`,R={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:E}),global:o.DEFAULT_GLOBAL_OPTIONS},C=(0,c.applySettingDefaults)(w??{},R);this.storageKey=(x=C.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(_=C.global.headers)!==null&&_!==void 0?_:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(z,G)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(G)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((A=C.auth)!==null&&A!==void 0?A:{},this.headers,C.global.fetch),this.fetch=(0,u.fetchWithAuth)(b,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new t.PostgrestClient(new URL("rest/v1",T).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,w?.storage),C.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,b={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,b,w)}channel(y,b={config:{}}){return this.realtime.channel(y,b)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,b;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(b=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:x,userStorage:_,storageKey:A,flowType:T,lock:E,debug:R,throwOnError:C},z,G){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),z),storageKey:A,autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:x,userStorage:_,flowType:T,lock:E,debug:R,throwOnError:C,fetch:G,hasCustomAuthorizationHeader:Object.keys(this.headers).some(K=>K.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,w)=>{this._handleTokenChanged(b,"CLIENT",w?.access_token)})}_handleTokenChanged(y,b,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ho.default=m,ho}var Hv;function VA(){return Hv||(Hv=1,(function(n){var t=qn&&qn.__createBinding||(Object.create?(function(y,b,w,x){x===void 0&&(x=w);var _=Object.getOwnPropertyDescriptor(b,w);(!_||("get"in _?!b.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return b[w]}}),Object.defineProperty(y,x,_)}):(function(y,b,w,x){x===void 0&&(x=w),y[x]=b[w]})),s=qn&&qn.__exportStar||function(y,b){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(b,w)&&t(b,y,w)},r=qn&&qn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(n,"__esModule",{value:!0}),n.createClient=n.SupabaseClient=n.FunctionRegion=n.FunctionsError=n.FunctionsRelayError=n.FunctionsFetchError=n.FunctionsHttpError=n.PostgrestError=void 0;const o=r($v());s(Nw,n);var u=Jb();Object.defineProperty(n,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var c=Gb;Object.defineProperty(n,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(n,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(n,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(n,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(n,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),s(sw,n);var f=$v();Object.defineProperty(n,"SupabaseClient",{enumerable:!0,get:function(){return r(f).default}});const m=(y,b,w)=>new o.default(y,b,w);n.createClient=m;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const b=y.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(qn)),qn}var Dw=VA();const Mw=ab(Dw),qA=Z1({__proto__:null,default:Mw},[Dw]),{PostgrestError:LM,FunctionsHttpError:zM,FunctionsFetchError:BM,FunctionsRelayError:PM,FunctionsError:VM,FunctionRegion:qM,SupabaseClient:$M,createClient:$A,GoTrueAdminApi:HM,GoTrueClient:GM,AuthAdminApi:IM,AuthClient:KM,navigatorLock:YM,NavigatorLockAcquireTimeoutError:FM,lockInternals:XM,processLock:JM,SIGN_OUT_SCOPES:QM,AuthError:ZM,AuthApiError:WM,AuthUnknownError:ek,CustomAuthError:tk,AuthSessionMissingError:nk,AuthInvalidTokenResponseError:ak,AuthInvalidCredentialsError:sk,AuthImplicitGrantRedirectError:ik,AuthPKCEGrantCodeExchangeError:rk,AuthRetryableFetchError:lk,AuthWeakPasswordError:ok,AuthInvalidJwtError:uk,isAuthError:ck,isAuthApiError:hk,isAuthSessionMissingError:dk,isAuthImplicitGrantRedirectError:fk,isAuthRetryableFetchError:mk,isAuthWeakPasswordError:pk,RealtimePresence:gk,RealtimeChannel:yk,RealtimeClient:vk,REALTIME_LISTEN_TYPES:bk,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:wk,REALTIME_PRESENCE_LISTEN_EVENTS:Sk,REALTIME_SUBSCRIBE_STATES:xk,REALTIME_CHANNEL_STATES:_k}=Mw||qA,HA="https://offzvrdbvdncnnzjxwah.supabase.co",GA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9mZnp2cmRidmRuY25uemp4d2FoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2ODg5OTIsImV4cCI6MjA4MTI2NDk5Mn0.QCxO_R1So-AEJ7LEY0gUAApMc1i_z_Yz6afdPKXJbYg",xe=$A(HA,GA),kw=j.createContext(),Xn=()=>j.useContext(kw),IA=({children:n})=>{const[t,s]=j.useState(null),[r,o]=j.useState(null),[u,c]=j.useState(null),[f,m]=j.useState(!0);j.useEffect(()=>{(async()=>{const{data:{session:T}}=await xe.auth.getSession();T?.user&&(await y(T.user)||(await xe.auth.signOut(),s(null))),m(!1)})();const{data:{subscription:A}}=xe.auth.onAuthStateChange(async(T,E)=>{E?.user?(T==="SIGNED_IN"||T==="TOKEN_REFRESHED"||T==="INITIAL_SESSION")&&await y(E.user):T==="SIGNED_OUT"&&(s(null),o(null),c(null)),T==="INITIAL_SESSION"&&m(!1)});return()=>A.unsubscribe()},[]);const p=async _=>{try{const{count:A,error:T}=await xe.from("users").select("*",{count:"exact",head:!0});if(T)throw T;const{data:E}=await xe.from("users").select("id").eq("role","admin").limit(1),R=!E||E.length===0?"admin":"student",{error:C}=await xe.from("users").insert({id:_.id,email:_.email,name:_.user_metadata?.name||" recovered_user",role:R,status:"active",created_at:new Date().toISOString()});if(C)throw C;return!0}catch(A){return console.error("Auto-fix profile failed:",A),!1}},y=async _=>{try{const{data:A,error:T}=await xe.from("users").select("*").eq("id",_.id).single();if(T){if(T.code==="42P01")throw new Error("Critical Error: The database tables have not been created. Please run the setup SQL script in Supabase.");if(T.code==="42501")throw new Error("Permission Denied: RLS policies are blocking access. Please run the RLS setup script.");if(T.code!=="PGRST116")throw T}if(A)return o(A.role),c(A),s(_),A;if(console.warn("Profile missing. Attempting to auto-create..."),await p(_)){const{data:R,error:C}=await xe.from("users").select("*").eq("id",_.id).single();if(C)throw C;if(R)return o(R.role),c(R),s(_),R}return null}catch(A){throw console.error("Error fetching user data:",A),A}},x={currentUser:t,userRole:r,userData:u,login:async(_,A)=>{const{data:T,error:E}=await xe.auth.signInWithPassword({email:_,password:A});if(E)throw E;if(T.user&&!await y(T.user))throw await xe.auth.signOut(),new Error("Login successful, but your user profile could not be found. This may be due to missing Row Level Security (RLS) policies in your Supabase database.");return T},logout:async()=>{const{error:_}=await xe.auth.signOut();if(_)throw _},loading:f};return g.jsx(kw.Provider,{value:x,children:!f&&n})},Uw=j.createContext({});function KA(n){const t=j.useRef(null);return t.current===null&&(t.current=n()),t.current}const mf=typeof window<"u",YA=mf?j.useLayoutEffect:j.useEffect,pf=j.createContext(null);function gf(n,t){n.indexOf(t)===-1&&n.push(t)}function yf(n,t){const s=n.indexOf(t);s>-1&&n.splice(s,1)}const In=(n,t,s)=>s>t?t:s<n?n:s;let vf=()=>{};const Kn={},Lw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function zw(n){return typeof n=="object"&&n!==null}const Bw=n=>/^0[^.\s]+$/u.test(n);function bf(n){let t;return()=>(t===void 0&&(t=n()),t)}const nn=n=>n,FA=(n,t)=>s=>t(n(s)),$r=(...n)=>n.reduce(FA),Nr=(n,t,s)=>{const r=t-n;return r===0?1:(s-n)/r};class wf{constructor(){this.subscriptions=[]}add(t){return gf(this.subscriptions,t),()=>yf(this.subscriptions,t)}notify(t,s,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wn=n=>n*1e3,tn=n=>n/1e3;function Pw(n,t){return t?n*(1e3/t):0}const Vw=(n,t,s)=>(((1-3*s+3*t)*n+(3*s-6*t))*n+3*t)*n,XA=1e-7,JA=12;function QA(n,t,s,r,o){let u,c,f=0;do c=t+(s-t)/2,u=Vw(c,r,o)-n,u>0?s=c:t=c;while(Math.abs(u)>XA&&++f<JA);return c}function Hr(n,t,s,r){if(n===t&&s===r)return nn;const o=u=>QA(u,0,1,n,s);return u=>u===0||u===1?u:Vw(o(u),t,r)}const qw=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,$w=n=>t=>1-n(1-t),Hw=Hr(.33,1.53,.69,.99),Sf=$w(Hw),Gw=qw(Sf),Iw=n=>(n*=2)<1?.5*Sf(n):.5*(2-Math.pow(2,-10*(n-1))),xf=n=>1-Math.sin(Math.acos(n)),Kw=$w(xf),Yw=qw(xf),ZA=Hr(.42,0,1,1),WA=Hr(0,0,.58,1),Fw=Hr(.42,0,.58,1),e2=n=>Array.isArray(n)&&typeof n[0]!="number",Xw=n=>Array.isArray(n)&&typeof n[0]=="number",t2={linear:nn,easeIn:ZA,easeInOut:Fw,easeOut:WA,circIn:xf,circInOut:Yw,circOut:Kw,backIn:Sf,backInOut:Gw,backOut:Hw,anticipate:Iw},n2=n=>typeof n=="string",Gv=n=>{if(Xw(n)){vf(n.length===4);const[t,s,r,o]=n;return Hr(t,s,r,o)}else if(n2(n))return t2[n];return n},So=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function a2(n,t){let s=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),n()),y(f)}const p={schedule:(y,b=!1,w=!1)=>{const _=w&&o?s:r;return b&&c.add(y),_.has(y)||_.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,o){u=!0;return}o=!0,[s,r]=[r,s],s.forEach(m),s.clear(),o=!1,u&&(u=!1,p.process(y))}};return p}const s2=40;function Jw(n,t){let s=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,c=So.reduce((C,z)=>(C[z]=a2(u),C),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:b,preRender:w,render:x,postRender:_}=c,A=()=>{const C=Kn.useManualTiming?o.timestamp:performance.now();s=!1,Kn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(C-o.timestamp,s2),1)),o.timestamp=C,o.isProcessing=!0,f.process(o),m.process(o),p.process(o),y.process(o),b.process(o),w.process(o),x.process(o),_.process(o),o.isProcessing=!1,s&&t&&(r=!1,n(A))},T=()=>{s=!0,r=!0,o.isProcessing||n(A)};return{schedule:So.reduce((C,z)=>{const G=c[z];return C[z]=(P,K=!1,X=!1)=>(s||T(),G.schedule(P,K,X)),C},{}),cancel:C=>{for(let z=0;z<So.length;z++)c[So[z]].cancel(C)},state:o,steps:c}}const{schedule:Ve,cancel:ja,state:mt,steps:Yh}=Jw(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let Do;function i2(){Do=void 0}const Nt={now:()=>(Do===void 0&&Nt.set(mt.isProcessing||Kn.useManualTiming?mt.timestamp:performance.now()),Do),set:n=>{Do=n,queueMicrotask(i2)}},Qw=n=>t=>typeof t=="string"&&t.startsWith(n),Zw=Qw("--"),r2=Qw("var(--"),_f=n=>r2(n)?l2.test(n.split("/*")[0].trim()):!1,l2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yi={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Dr={...yi,transform:n=>In(0,1,n)},xo={...yi,default:1},_r=n=>Math.round(n*1e5)/1e5,Ef=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o2(n){return n==null}const u2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tf=(n,t)=>s=>!!(typeof s=="string"&&u2.test(s)&&s.startsWith(n)||t&&!o2(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ww=(n,t,s)=>r=>{if(typeof r!="string")return r;const[o,u,c,f]=r.match(Ef);return{[n]:parseFloat(o),[t]:parseFloat(u),[s]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},c2=n=>In(0,255,n),Fh={...yi,transform:n=>Math.round(c2(n))},is={test:Tf("rgb","red"),parse:Ww("red","green","blue"),transform:({red:n,green:t,blue:s,alpha:r=1})=>"rgba("+Fh.transform(n)+", "+Fh.transform(t)+", "+Fh.transform(s)+", "+_r(Dr.transform(r))+")"};function h2(n){let t="",s="",r="",o="";return n.length>5?(t=n.substring(1,3),s=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),s=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,s+=s,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ad={test:Tf("#"),parse:h2,transform:is.transform},Gr=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),_a=Gr("deg"),Sn=Gr("%"),oe=Gr("px"),d2=Gr("vh"),f2=Gr("vw"),Iv={...Sn,parse:n=>Sn.parse(n)/100,transform:n=>Sn.transform(n*100)},Ws={test:Tf("hsl","hue"),parse:Ww("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(n)+", "+Sn.transform(_r(t))+", "+Sn.transform(_r(s))+", "+_r(Dr.transform(r))+")"},tt={test:n=>is.test(n)||Ad.test(n)||Ws.test(n),parse:n=>is.test(n)?is.parse(n):Ws.test(n)?Ws.parse(n):Ad.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?is.transform(n):Ws.transform(n),getAnimatableNone:n=>{const t=tt.parse(n);return t.alpha=0,tt.transform(t)}},m2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p2(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ef)?.length||0)+(n.match(m2)?.length||0)>0}const eS="number",tS="color",g2="var",y2="var(",Kv="${}",v2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mr(n){const t=n.toString(),s=[],r={color:[],number:[],var:[]},o=[];let u=0;const f=t.replace(v2,m=>(tt.test(m)?(r.color.push(u),o.push(tS),s.push(tt.parse(m))):m.startsWith(y2)?(r.var.push(u),o.push(g2),s.push(m)):(r.number.push(u),o.push(eS),s.push(parseFloat(m))),++u,Kv)).split(Kv);return{values:s,split:f,indexes:r,types:o}}function nS(n){return Mr(n).values}function aS(n){const{split:t,types:s}=Mr(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const f=s[c];f===eS?u+=_r(o[c]):f===tS?u+=tt.transform(o[c]):u+=o[c]}return u}}const b2=n=>typeof n=="number"?0:tt.test(n)?tt.getAnimatableNone(n):n;function w2(n){const t=nS(n);return aS(n)(t.map(b2))}const Aa={test:p2,parse:nS,createTransformer:aS,getAnimatableNone:w2};function Xh(n,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(t-n)*6*s:s<1/2?t:s<2/3?n+(t-n)*(2/3-s)*6:n}function S2({hue:n,saturation:t,lightness:s,alpha:r}){n/=360,t/=100,s/=100;let o=0,u=0,c=0;if(!t)o=u=c=s;else{const f=s<.5?s*(1+t):s+t-s*t,m=2*s-f;o=Xh(m,f,n+1/3),u=Xh(m,f,n),c=Xh(m,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Ko(n,t){return s=>s>0?t:n}const $e=(n,t,s)=>n+(t-n)*s,Jh=(n,t,s)=>{const r=n*n,o=s*(t*t-r)+r;return o<0?0:Math.sqrt(o)},x2=[Ad,is,Ws],_2=n=>x2.find(t=>t.test(n));function Yv(n){const t=_2(n);if(!t)return!1;let s=t.parse(n);return t===Ws&&(s=S2(s)),s}const Fv=(n,t)=>{const s=Yv(n),r=Yv(t);if(!s||!r)return Ko(n,t);const o={...s};return u=>(o.red=Jh(s.red,r.red,u),o.green=Jh(s.green,r.green,u),o.blue=Jh(s.blue,r.blue,u),o.alpha=$e(s.alpha,r.alpha,u),is.transform(o))},Cd=new Set(["none","hidden"]);function E2(n,t){return Cd.has(n)?s=>s<=0?n:t:s=>s>=1?t:n}function T2(n,t){return s=>$e(n,t,s)}function jf(n){return typeof n=="number"?T2:typeof n=="string"?_f(n)?Ko:tt.test(n)?Fv:C2:Array.isArray(n)?sS:typeof n=="object"?tt.test(n)?Fv:j2:Ko}function sS(n,t){const s=[...n],r=s.length,o=n.map((u,c)=>jf(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)s[c]=o[c](u);return s}}function j2(n,t){const s={...n,...t},r={};for(const o in s)n[o]!==void 0&&t[o]!==void 0&&(r[o]=jf(n[o])(n[o],t[o]));return o=>{for(const u in r)s[u]=r[u](o);return s}}function A2(n,t){const s=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],f=n.values[c]??0;s[o]=f,r[u]++}return s}const C2=(n,t)=>{const s=Aa.createTransformer(t),r=Mr(n),o=Mr(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Cd.has(n)&&!o.values.length||Cd.has(t)&&!r.values.length?E2(n,t):$r(sS(A2(r,o),o.values),s):Ko(n,t)};function iS(n,t,s){return typeof n=="number"&&typeof t=="number"&&typeof s=="number"?$e(n,t,s):jf(n)(n,t)}const O2=n=>{const t=({timestamp:s})=>n(s);return{start:(s=!0)=>Ve.update(t,s),stop:()=>ja(t),now:()=>mt.isProcessing?mt.timestamp:Nt.now()}},rS=(n,t,s=10)=>{let r="";const o=Math.max(Math.round(t/s),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yo=2e4;function Af(n){let t=0;const s=50;let r=n.next(t);for(;!r.done&&t<Yo;)t+=s,r=n.next(t);return t>=Yo?1/0:t}function R2(n,t=100,s){const r=s({...n,keyframes:[0,t]}),o=Math.min(Af(r),Yo);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:tn(o)}}const N2=5;function lS(n,t,s){const r=Math.max(t-N2,0);return Pw(s-n(r),t-r)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qh=.001;function D2({duration:n=Ie.duration,bounce:t=Ie.bounce,velocity:s=Ie.velocity,mass:r=Ie.mass}){let o,u,c=1-t;c=In(Ie.minDamping,Ie.maxDamping,c),n=In(Ie.minDuration,Ie.maxDuration,tn(n)),c<1?(o=p=>{const y=p*c,b=y*n,w=y-s,x=Od(p,c),_=Math.exp(-b);return Qh-w/x*_},u=p=>{const b=p*c*n,w=b*s+s,x=Math.pow(c,2)*Math.pow(p,2)*n,_=Math.exp(-b),A=Od(Math.pow(p,2),c);return(-o(p)+Qh>0?-1:1)*((w-x)*_)/A}):(o=p=>{const y=Math.exp(-p*n),b=(p-s)*n+1;return-Qh+y*b},u=p=>{const y=Math.exp(-p*n),b=(s-p)*(n*n);return y*b});const f=5/n,m=k2(o,u,f);if(n=wn(n),isNaN(m))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:n};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:n}}}const M2=12;function k2(n,t,s){let r=s;for(let o=1;o<M2;o++)r=r-n(r)/t(r);return r}function Od(n,t){return n*Math.sqrt(1-t*t)}const U2=["duration","bounce"],L2=["stiffness","damping","mass"];function Xv(n,t){return t.some(s=>n[s]!==void 0)}function z2(n){let t={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...n};if(!Xv(n,L2)&&Xv(n,U2))if(n.visualDuration){const s=n.visualDuration,r=2*Math.PI/(s*1.2),o=r*r,u=2*In(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ie.mass,stiffness:o,damping:u}}else{const s=D2(n);t={...t,...s,mass:Ie.mass},t.isResolvedFromDuration=!0}return t}function Fo(n=Ie.visualDuration,t=Ie.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=s;const u=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:p,mass:y,duration:b,velocity:w,isResolvedFromDuration:x}=z2({...s,velocity:-tn(s.velocity||0)}),_=w||0,A=p/(2*Math.sqrt(m*y)),T=c-u,E=tn(Math.sqrt(m/y)),R=Math.abs(T)<5;r||(r=R?Ie.restSpeed.granular:Ie.restSpeed.default),o||(o=R?Ie.restDelta.granular:Ie.restDelta.default);let C;if(A<1){const G=Od(E,A);C=P=>{const K=Math.exp(-A*E*P);return c-K*((_+A*E*T)/G*Math.sin(G*P)+T*Math.cos(G*P))}}else if(A===1)C=G=>c-Math.exp(-E*G)*(T+(_+E*T)*G);else{const G=E*Math.sqrt(A*A-1);C=P=>{const K=Math.exp(-A*E*P),X=Math.min(G*P,300);return c-K*((_+A*E*T)*Math.sinh(X)+G*T*Math.cosh(X))/G}}const z={calculatedDuration:x&&b||null,next:G=>{const P=C(G);if(x)f.done=G>=b;else{let K=G===0?_:0;A<1&&(K=G===0?wn(_):lS(C,G,P));const X=Math.abs(K)<=r,ie=Math.abs(c-P)<=o;f.done=X&&ie}return f.value=f.done?c:P,f},toString:()=>{const G=Math.min(Af(z),Yo),P=rS(K=>z.next(G*K).value,G,30);return G+"ms "+P},toTransition:()=>{}};return z}Fo.applyToOptions=n=>{const t=R2(n,100,Fo);return n.ease=t.ease,n.duration=wn(t.duration),n.type="keyframes",n};function Rd({keyframes:n,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const b=n[0],w={done:!1,value:b},x=X=>f!==void 0&&X<f||m!==void 0&&X>m,_=X=>f===void 0?m:m===void 0||Math.abs(f-X)<Math.abs(m-X)?f:m;let A=s*t;const T=b+A,E=c===void 0?T:c(T);E!==T&&(A=E-b);const R=X=>-A*Math.exp(-X/r),C=X=>E+R(X),z=X=>{const ie=R(X),fe=C(X);w.done=Math.abs(ie)<=p,w.value=w.done?E:fe};let G,P;const K=X=>{x(w.value)&&(G=X,P=Fo({keyframes:[w.value,_(w.value)],velocity:lS(C,X,w.value),damping:o,stiffness:u,restDelta:p,restSpeed:y}))};return K(0),{calculatedDuration:null,next:X=>{let ie=!1;return!P&&G===void 0&&(ie=!0,z(X),K(X)),G!==void 0&&X>=G?P.next(X-G):(!ie&&z(X),w)}}}function B2(n,t,s){const r=[],o=s||Kn.mix||iS,u=n.length-1;for(let c=0;c<u;c++){let f=o(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||nn:t;f=$r(m,f)}r.push(f)}return r}function P2(n,t,{clamp:s=!0,ease:r,mixer:o}={}){const u=n.length;if(vf(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=B2(t,r,o),m=f.length,p=y=>{if(c&&y<n[0])return t[0];let b=0;if(m>1)for(;b<n.length-2&&!(y<n[b+1]);b++);const w=Nr(n[b],n[b+1],y);return f[b](w)};return s?y=>p(In(n[0],n[u-1],y)):p}function V2(n,t){const s=n[n.length-1];for(let r=1;r<=t;r++){const o=Nr(0,t,r);n.push($e(s,1,o))}}function q2(n){const t=[0];return V2(t,n.length-1),t}function $2(n,t){return n.map(s=>s*t)}function H2(n,t){return n.map(()=>t||Fw).splice(0,n.length-1)}function Er({duration:n=300,keyframes:t,times:s,ease:r="easeInOut"}){const o=e2(r)?r.map(Gv):Gv(r),u={done:!1,value:t[0]},c=$2(s&&s.length===t.length?s:q2(t),n),f=P2(c,t,{ease:Array.isArray(o)?o:H2(t,o)});return{calculatedDuration:n,next:m=>(u.value=f(m),u.done=m>=n,u)}}const G2=n=>n!==null;function Cf(n,{repeat:t,repeatType:s="loop"},r,o=1){const u=n.filter(G2),f=o<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const I2={decay:Rd,inertia:Rd,tween:Er,keyframes:Er,spring:Fo};function oS(n){typeof n.type=="string"&&(n.type=I2[n.type])}class Of{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const K2=n=>n/100;class Rf extends Of{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Nt.now()&&this.tick(Nt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;oS(t);const{type:s=Er,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:f}=t;const m=s||Er;m!==Er&&typeof f[0]!="number"&&(this.mixKeyframes=$r(K2,iS(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Af(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:b,repeatType:w,repeatDelay:x,type:_,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const E=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?E<0:E>o;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,z=r;if(b){const X=Math.min(this.currentTime,o)/f;let ie=Math.floor(X),fe=X%1;!fe&&X>=1&&(fe=1),fe===1&&ie--,ie=Math.min(ie,b+1),!!(ie%2)&&(w==="reverse"?(fe=1-fe,x&&(fe-=x/f)):w==="mirror"&&(z=c)),C=In(0,1,fe)*f}const G=R?{done:!1,value:y[0]}:z.next(C);u&&(G.value=u(G.value));let{done:P}=G;!R&&m!==null&&(P=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return K&&_!==Rd&&(G.value=Cf(y,this.options,T,this.speed)),A&&A(G.value),K&&this.finish(),G}then(t,s){return this.finished.then(t,s)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(this.currentTime)}set time(t){t=wn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=O2,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Y2(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const rs=n=>n*180/Math.PI,Nd=n=>{const t=rs(Math.atan2(n[1],n[0]));return Dd(t)},F2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Nd,rotateZ:Nd,skewX:n=>rs(Math.atan(n[1])),skewY:n=>rs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Dd=n=>(n=n%360,n<0&&(n+=360),n),Jv=Nd,Qv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Zv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),X2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qv,scaleY:Zv,scale:n=>(Qv(n)+Zv(n))/2,rotateX:n=>Dd(rs(Math.atan2(n[6],n[5]))),rotateY:n=>Dd(rs(Math.atan2(-n[2],n[0]))),rotateZ:Jv,rotate:Jv,skewX:n=>rs(Math.atan(n[4])),skewY:n=>rs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Md(n){return n.includes("scale")?1:0}function kd(n,t){if(!n||n==="none")return Md(t);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(s)r=X2,o=s;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=F2,o=f}if(!o)return Md(t);const u=r[t],c=o[1].split(",").map(Q2);return typeof u=="function"?u(c):c[u]}const J2=(n,t)=>{const{transform:s="none"}=getComputedStyle(n);return kd(s,t)};function Q2(n){return parseFloat(n.trim())}const vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(vi),Wv=n=>n===yi||n===oe,Z2=new Set(["x","y","z"]),W2=vi.filter(n=>!Z2.has(n));function eC(n){const t=[];return W2.forEach(s=>{const r=n.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const ls={width:({x:n},{paddingLeft:t="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(t)-parseFloat(s),height:({y:n},{paddingTop:t="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(t)-parseFloat(s),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>kd(t,"x"),y:(n,{transform:t})=>kd(t,"y")};ls.translateX=ls.x;ls.translateY=ls.y;const os=new Set;let Ud=!1,Ld=!1,zd=!1;function uS(){if(Ld){const n=Array.from(os).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),s=new Map;t.forEach(r=>{const o=eC(r);o.length&&(s.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=s.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ld=!1,Ud=!1,os.forEach(n=>n.complete(zd)),os.clear()}function cS(){os.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ld=!0)})}function tC(){zd=!0,cS(),uS(),zd=!1}class Nf{constructor(t,s,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(os.add(this),Ud||(Ud=!0,Ve.read(cS),Ve.resolveKeyframes(uS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&s){const f=r.readValue(s,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}Y2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),os.delete(this)}cancel(){this.state==="scheduled"&&(os.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nC=n=>n.startsWith("--");function aC(n,t,s){nC(t)?n.style.setProperty(t,s):n.style[t]=s}const sC=bf(()=>window.ScrollTimeline!==void 0),iC={};function rC(n,t){const s=bf(n);return()=>iC[t]??s()}const hS=rC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xr=([n,t,s,r])=>`cubic-bezier(${n}, ${t}, ${s}, ${r})`,e0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xr([0,.65,.55,1]),circOut:xr([.55,0,1,.45]),backIn:xr([.31,.01,.66,-.59]),backOut:xr([.33,1.53,.69,.99])};function dS(n,t){if(n)return typeof n=="function"?hS()?rS(n,t):"ease-out":Xw(n)?xr(n):Array.isArray(n)?n.map(s=>dS(s,t)||e0.easeOut):e0[n]}function lC(n,t,s,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:s};m&&(y.offset=m);const b=dS(f,o);Array.isArray(b)&&(y.easing=b);const w={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),n.animate(y,w)}function fS(n){return typeof n=="function"&&"applyToOptions"in n}function oC({type:n,...t}){return fS(n)&&hS()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uC extends Of{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,vf(typeof t.type!="string");const p=oC(t);this.animation=lC(s,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Cf(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):aC(s,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&sC()?(this.animation.timeline=t,nn):s(this)}}const mS={anticipate:Iw,backInOut:Gw,circInOut:Yw};function cC(n){return n in mS}function hC(n){typeof n.ease=="string"&&cC(n.ease)&&(n.ease=mS[n.ease])}const t0=10;class dC extends uC{constructor(t){hC(t),oS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new Rf({...c,autoplay:!1}),m=wn(this.finishedTime??this.time);s.setWithVelocity(f.sample(m-t0).value,f.sample(m).value,t0),f.stop()}}const n0=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Aa.test(n)||n==="0")&&!n.startsWith("url("));function fC(n){const t=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==t)return!0}function mC(n,t,s,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=n0(o,t),f=n0(u,t);return!c||!f?!1:fC(n)||(s==="spring"||fS(s))&&r}function Bd(n){n.duration=0,n.type="keyframes"}const pC=new Set(["opacity","clipPath","filter","transform"]),gC=bf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yC(n){const{motionValue:t,name:s,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return gC()&&s&&pC.has(s)&&(s!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const vC=40;class bC extends Of{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nt.now();const w={autoplay:t,delay:s,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:p,element:y,...b},x=y?.KeyframeResolver||Nf;this.keyframeResolver=new x(f,(_,A,T)=>this.onKeyframesResolved(_,A,w,!T),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Nt.now(),mC(t,u,c,f)||((Kn.instantAnimations||!m)&&y?.(Cf(t,r,s)),t[0]=t[t.length-1],Bd(r),r.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>vC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},x=!p&&yC(w)?new dC({...w,element:w.motionValue.owner.current}):new Rf(w);x.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SC(n){const t=wC.exec(n);if(!t)return[,];const[,s,r,o]=t;return[`--${s??r}`,o]}function pS(n,t,s=1){const[r,o]=SC(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return Lw(c)?parseFloat(c):c}return _f(o)?pS(o,t,s+1):o}function Df(n,t){return n?.[t]??n?.default??n}const gS=new Set(["width","height","top","left","right","bottom",...vi]),xC={test:n=>n==="auto",parse:n=>n},yS=n=>t=>t.test(n),vS=[yi,oe,Sn,_a,f2,d2,xC],a0=n=>vS.find(yS(n));function _C(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Bw(n):!0}const EC=new Set(["brightness","contrast","saturate","opacity"]);function TC(n){const[t,s]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=s.match(Ef)||[];if(!r)return n;const o=s.replace(r,"");let u=EC.has(t)?1:0;return r!==s&&(u*=100),t+"("+u+o+")"}const jC=/\b([a-z-]*)\(.*?\)/gu,Pd={...Aa,getAnimatableNone:n=>{const t=n.match(jC);return t?t.map(TC).join(" "):n}},s0={...yi,transform:Math.round},AC={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:xo,scaleX:xo,scaleY:xo,scaleZ:xo,skew:_a,skewX:_a,skewY:_a,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Dr,originX:Iv,originY:Iv,originZ:oe},Mf={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...AC,zIndex:s0,fillOpacity:Dr,strokeOpacity:Dr,numOctaves:s0},CC={...Mf,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:Pd,WebkitFilter:Pd},bS=n=>CC[n];function wS(n,t){let s=bS(n);return s!==Pd&&(s=Aa),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const OC=new Set(["auto","none","0"]);function RC(n,t,s){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!OC.has(u)&&Mr(u).values.length&&(o=n[r]),r++}if(o&&s)for(const u of t)n[u]=wS(s,o)}class NC extends Nf{constructor(t,s,r,o,u){super(t,s,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),_f(p))){const y=pS(p,s.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gS.has(r)||t.length!==2)return;const[o,u]=t,c=a0(o),f=a0(u);if(c!==f)if(Wv(c)&&Wv(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ls[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||_C(t[o]))&&r.push(o);r.length&&RC(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ls[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ls[s](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function DC(n,t,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=s?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const SS=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function MC(n){return zw(n)&&"offsetHeight"in n}const i0=30,kC=n=>!isNaN(parseFloat(n));class UC{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Nt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Nt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new wf);const r=this.events[t].add(s);return t==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>i0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,i0);return Pw(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ui(n,t){return new UC(n,t)}const{schedule:kf}=Jw(queueMicrotask,!1),dn={x:!1,y:!1};function xS(){return dn.x||dn.y}function LC(n){return n==="x"||n==="y"?dn[n]?null:(dn[n]=!0,()=>{dn[n]=!1}):dn.x||dn.y?null:(dn.x=dn.y=!0,()=>{dn.x=dn.y=!1})}function _S(n,t){const s=DC(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[s,o,()=>r.abort()]}function r0(n){return!(n.pointerType==="touch"||xS())}function zC(n,t,s={}){const[r,o,u]=_S(n,s),c=f=>{if(!r0(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=b=>{r0(b)&&(p(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return r.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const ES=(n,t)=>t?n===t?!0:ES(n,t.parentElement):!1,Uf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,BC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PC(n){return BC.has(n.tagName)||n.tabIndex!==-1}const Mo=new WeakSet;function l0(n){return t=>{t.key==="Enter"&&n(t)}}function Zh(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VC=(n,t)=>{const s=n.currentTarget;if(!s)return;const r=l0(()=>{if(Mo.has(s))return;Zh(s,"down");const o=l0(()=>{Zh(s,"up")}),u=()=>Zh(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function o0(n){return Uf(n)&&!xS()}function qC(n,t,s={}){const[r,o,u]=_S(n,s),c=f=>{const m=f.currentTarget;if(!o0(f))return;Mo.add(m);const p=t(m,f),y=(x,_)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Mo.has(m)&&Mo.delete(m),o0(x)&&typeof p=="function"&&p(x,{success:_})},b=x=>{y(x,m===window||m===document||s.useGlobalTarget||ES(m,x.target))},w=x=>{y(x,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",w,o)};return r.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),MC(f)&&(f.addEventListener("focus",p=>VC(p,o)),!PC(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function TS(n){return zw(n)&&"ownerSVGElement"in n}function $C(n){return TS(n)&&n.tagName==="svg"}const vt=n=>!!(n&&n.getVelocity),HC=[...vS,tt,Aa],GC=n=>HC.find(yS(n)),jS=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function IC(n=!0){const t=j.useContext(pf);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:o}=t,u=j.useId();j.useEffect(()=>{if(n)return o(u)},[n]);const c=j.useCallback(()=>n&&r&&r(u),[u,r,n]);return!s&&r?[!1,c]:[!0]}const AS=j.createContext({strict:!1}),u0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ci={};for(const n in u0)ci[n]={isEnabled:t=>u0[n].some(s=>!!t[s])};function KC(n){for(const t in n)ci[t]={...ci[t],...n[t]}}const YC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xo(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||YC.has(n)}let CS=n=>!Xo(n);function FC(n){typeof n=="function"&&(CS=t=>t.startsWith("on")?!Xo(t):n(t))}try{FC(require("@emotion/is-prop-valid").default)}catch{}function XC(n,t,s){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(CS(o)||s===!0&&Xo(o)||!t&&!Xo(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const ru=j.createContext({});function lu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function kr(n){return typeof n=="string"||Array.isArray(n)}const Lf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zf=["initial",...Lf];function ou(n){return lu(n.animate)||zf.some(t=>kr(n[t]))}function OS(n){return!!(ou(n)||n.variants)}function JC(n,t){if(ou(n)){const{initial:s,animate:r}=n;return{initial:s===!1||kr(s)?s:void 0,animate:kr(r)?r:void 0}}return n.inherit!==!1?t:{}}function QC(n){const{initial:t,animate:s}=JC(n,j.useContext(ru));return j.useMemo(()=>({initial:t,animate:s}),[c0(t),c0(s)])}function c0(n){return Array.isArray(n)?n.join(" "):n}function h0(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const vr={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(oe.test(n))n=parseFloat(n);else return n;const s=h0(n,t.target.x),r=h0(n,t.target.y);return`${s}% ${r}%`}},ZC={correct:(n,{treeScale:t,projectionDelta:s})=>{const r=n,o=Aa.parse(n);if(o.length>5)return r;const u=Aa.createTransformer(n),c=typeof o[0]!="number"?1:0,f=s.x.scale*t.x,m=s.y.scale*t.y;o[0+c]/=f,o[1+c]/=m;const p=$e(f,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},Vd={borderRadius:{...vr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomLeftRadius:vr,borderBottomRightRadius:vr,boxShadow:ZC};function RS(n,{layout:t,layoutId:s}){return bi.has(n)||n.startsWith("origin")||(t||s!==void 0)&&(!!Vd[n]||n==="opacity")}const WC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eO=vi.length;function tO(n,t,s){let r="",o=!0;for(let u=0;u<eO;u++){const c=vi[u],f=n[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||s){const p=SS(f,Mf[c]);if(!m){o=!1;const y=WC[c]||c;r+=`${y}(${p}) `}s&&(t[c]=p)}}return r=r.trim(),s?r=s(t,o?"":r):o&&(r="none"),r}function Bf(n,t,s){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,f=!1;for(const m in t){const p=t[m];if(bi.has(m)){c=!0;continue}else if(Zw(m)){o[m]=p;continue}else{const y=SS(p,Mf[m]);m.startsWith("origin")?(f=!0,u[m]=y):r[m]=y}}if(t.transform||(c||s?r.transform=tO(t,n.transform,s):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=u;r.transformOrigin=`${m} ${p} ${y}`}}const Pf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NS(n,t,s){for(const r in t)!vt(t[r])&&!RS(r,s)&&(n[r]=t[r])}function nO({transformTemplate:n},t){return j.useMemo(()=>{const s=Pf();return Bf(s,t,n),Object.assign({},s.vars,s.style)},[t])}function aO(n,t){const s=n.style||{},r={};return NS(r,s,n),Object.assign(r,nO(n,t)),r}function sO(n,t){const s={},r=aO(n,t);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=r,s}const iO={offset:"stroke-dashoffset",array:"stroke-dasharray"},rO={offset:"strokeDashoffset",array:"strokeDasharray"};function lO(n,t,s=1,r=0,o=!0){n.pathLength=1;const u=o?iO:rO;n[u.offset]=oe.transform(-r);const c=oe.transform(t),f=oe.transform(s);n[u.array]=`${c} ${f}`}function DS(n,{attrX:t,attrY:s,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},m,p,y){if(Bf(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:w}=n;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),r!==void 0&&(b.scale=r),o!==void 0&&lO(b,o,u,c,!1)}const MS=()=>({...Pf(),attrs:{}}),kS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function oO(n,t,s,r){const o=j.useMemo(()=>{const u=MS();return DS(u,t,kS(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};NS(u,n.style,n),o.style={...u,...o.style}}return o}const uO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vf(n){return typeof n!="string"||n.includes("-")?!1:!!(uO.indexOf(n)>-1||/[A-Z]/u.test(n))}function cO(n,t,s,{latestValues:r},o,u=!1){const f=(Vf(n)?oO:sO)(t,r,o,n),m=XC(t,typeof n=="string",u),p=n!==j.Fragment?{...m,...f,ref:s}:{},{children:y}=t,b=j.useMemo(()=>vt(y)?y.get():y,[y]);return j.createElement(n,{...p,children:b})}function d0(n){const t=[{},{}];return n?.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function qf(n,t,s,r){if(typeof t=="function"){const[o,u]=d0(r);t=t(s!==void 0?s:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=d0(r);t=t(s!==void 0?s:n.custom,o,u)}return t}function ko(n){return vt(n)?n.get():n}function hO({scrapeMotionValuesFromProps:n,createRenderState:t},s,r,o){return{latestValues:dO(s,r,o,n),renderState:t()}}function dO(n,t,s,r){const o={},u=r(n,{});for(const w in u)o[w]=ko(u[w]);let{initial:c,animate:f}=n;const m=ou(n),p=OS(n);t&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=s?s.initial===!1:!1;y=y||c===!1;const b=y?f:c;if(b&&typeof b!="boolean"&&!lu(b)){const w=Array.isArray(b)?b:[b];for(let x=0;x<w.length;x++){const _=qf(n,w[x]);if(_){const{transitionEnd:A,transition:T,...E}=_;for(const R in E){let C=E[R];if(Array.isArray(C)){const z=y?C.length-1:0;C=C[z]}C!==null&&(o[R]=C)}for(const R in A)o[R]=A[R]}}}return o}const US=n=>(t,s)=>{const r=j.useContext(ru),o=j.useContext(pf),u=()=>hO(n,t,r,o);return s?u():KA(u)};function $f(n,t,s){const{style:r}=n,o={};for(const u in r)(vt(r[u])||t.style&&vt(t.style[u])||RS(u,n)||s?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const fO=US({scrapeMotionValuesFromProps:$f,createRenderState:Pf});function LS(n,t,s){const r=$f(n,t,s);for(const o in n)if(vt(n[o])||vt(t[o])){const u=vi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const mO=US({scrapeMotionValuesFromProps:LS,createRenderState:MS}),pO=Symbol.for("motionComponentSymbol");function ei(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function gO(n,t,s){return j.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):ei(s)&&(s.current=r))},[t])}const Hf=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yO="framerAppearId",zS="data-"+Hf(yO),BS=j.createContext({});function vO(n,t,s,r,o){const{visualElement:u}=j.useContext(ru),c=j.useContext(AS),f=j.useContext(pf),m=j.useContext(jS).reducedMotion,p=j.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(n,{visualState:t,parent:u,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,b=j.useContext(BS);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&bO(p.current,s,o,b);const w=j.useRef(!1);j.useInsertionEffect(()=>{y&&w.current&&y.update(s,f)});const x=s[zS],_=j.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return YA(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),_.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),_.current=!1),y.enteringChildren=void 0)}),y}function bO(n,t,s,r){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new s(n.latestValues,t["data-framer-portal-id"]?void 0:PS(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&ei(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function PS(n){if(n)return n.options.allowProjection!==!1?n.projection:PS(n.parent)}function Wh(n,{forwardMotionProps:t=!1}={},s,r){s&&KC(s);const o=Vf(n)?mO:fO;function u(f,m){let p;const y={...j.useContext(jS),...f,layoutId:wO(f)},{isStatic:b}=y,w=QC(f),x=o(f,b);if(!b&&mf){SO();const _=xO(y);p=_.MeasureLayout,w.visualElement=vO(n,x,y,r,_.ProjectionNode)}return g.jsxs(ru.Provider,{value:w,children:[p&&w.visualElement?g.jsx(p,{visualElement:w.visualElement,...y}):null,cO(n,f,gO(x,w.visualElement,m),x,b,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=j.forwardRef(u);return c[pO]=n,c}function wO({layoutId:n}){const t=j.useContext(Uw).id;return t&&n!==void 0?t+"-"+n:n}function SO(n,t){j.useContext(AS).strict}function xO(n){const{drag:t,layout:s}=ci;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t?.isEnabled(n)||s?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _O(n,t){if(typeof Proxy>"u")return Wh;const s=new Map,r=(u,c)=>Wh(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(s.has(c)||s.set(c,Wh(c,void 0,n,t)),s.get(c))})}function VS({top:n,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:n,max:r}}}function EO({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function TO(n,t){if(!t)return n;const s=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function ed(n){return n===void 0||n===1}function qd({scale:n,scaleX:t,scaleY:s}){return!ed(n)||!ed(t)||!ed(s)}function ts(n){return qd(n)||qS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function qS(n){return f0(n.x)||f0(n.y)}function f0(n){return n&&n!=="0%"}function Jo(n,t,s){const r=n-s,o=t*r;return s+o}function m0(n,t,s,r,o){return o!==void 0&&(n=Jo(n,o,r)),Jo(n,s,r)+t}function $d(n,t=0,s=1,r,o){n.min=m0(n.min,t,s,r,o),n.max=m0(n.max,t,s,r,o)}function $S(n,{x:t,y:s}){$d(n.x,t.translate,t.scale,t.originPoint),$d(n.y,s.translate,s.scale,s.originPoint)}const p0=.999999999999,g0=1.0000000000001;function jO(n,t,s,r=!1){const o=s.length;if(!o)return;t.x=t.y=1;let u,c;for(let f=0;f<o;f++){u=s[f],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ni(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,$S(n,c)),r&&ts(u.latestValues)&&ni(n,u.latestValues))}t.x<g0&&t.x>p0&&(t.x=1),t.y<g0&&t.y>p0&&(t.y=1)}function ti(n,t){n.min=n.min+t,n.max=n.max+t}function y0(n,t,s,r,o=.5){const u=$e(n.min,n.max,o);$d(n,t,s,u,r)}function ni(n,t){y0(n.x,t.x,t.scaleX,t.scale,t.originX),y0(n.y,t.y,t.scaleY,t.scale,t.originY)}function HS(n,t){return VS(TO(n.getBoundingClientRect(),t))}function AO(n,t,s){const r=HS(n,s),{scroll:o}=t;return o&&(ti(r.x,o.offset.x),ti(r.y,o.offset.y)),r}const v0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ai=()=>({x:v0(),y:v0()}),b0=()=>({min:0,max:0}),at=()=>({x:b0(),y:b0()}),Hd={current:null},GS={current:!1};function CO(){if(GS.current=!0,!!mf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hd.current=n.matches;n.addEventListener("change",t),t()}else Hd.current=!1}const OO=new WeakMap;function RO(n,t,s){for(const r in t){const o=t[r],u=s[r];if(vt(o))n.addValue(r,o);else if(vt(u))n.addValue(r,ui(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,ui(c!==void 0?c:o,{owner:n}))}}for(const r in s)t[r]===void 0&&n.removeValue(r);return t}const w0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NO{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Nt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ve.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=ou(s),this.isVariantNode=OS(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in b){const x=b[w];m[w]!==void 0&&vt(x)&&x.set(m[w])}}mount(t){this.current=t,OO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),GS.current||CO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ja(this.notifyUpdate),ja(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=bi.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ci){const s=ci[t];if(!s)continue;const{isEnabled:r,Feature:o}=s;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<w0.length;r++){const o=w0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=RO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=ui(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lw(r)||Bw(r))?r=parseFloat(r):!GC(r)&&Aa.test(s)&&(r=wS(t,s)),this.setBaseTarget(t,vt(r)?r.get():r)),vt(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const u=qf(this.props,s,this.presenceContext?.custom);u&&(r=u[t])}if(s&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!vt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new wf),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){kf.render(this.render)}}class IS extends NO{constructor(){super(...arguments),this.KeyframeResolver=NC}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function KS(n,{style:t,vars:s},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in s)u.setProperty(c,s[c])}function DO(n){return window.getComputedStyle(n)}class MO extends IS{constructor(){super(...arguments),this.type="html",this.renderInstance=KS}readValueFromInstance(t,s){if(bi.has(s))return this.projection?.isProjecting?Md(s):J2(t,s);{const r=DO(t),o=(Zw(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return HS(t,s)}build(t,s,r){Bf(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return $f(t,s,r)}}const YS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kO(n,t,s,r){KS(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(YS.has(o)?o:Hf(o),t.attrs[o])}class UO extends IS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(bi.has(s)){const r=bS(s);return r&&r.default||0}return s=YS.has(s)?s:Hf(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return LS(t,s,r)}build(t,s,r){DS(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,o){kO(t,s,r,o)}mount(t){this.isSVGTag=kS(t.tagName),super.mount(t)}}const LO=(n,t)=>Vf(n)?new UO(t):new MO(t,{allowProjection:n!==j.Fragment});function ri(n,t,s){const r=n.getProps();return qf(r,t,s!==void 0?s:r.custom,n)}const Gd=n=>Array.isArray(n);function zO(n,t,s){n.hasValue(t)?n.getValue(t).set(s):n.addValue(t,ui(s))}function BO(n){return Gd(n)?n[n.length-1]||0:n}function PO(n,t){const s=ri(n,t);let{transitionEnd:r={},transition:o={},...u}=s||{};u={...u,...r};for(const c in u){const f=BO(u[c]);zO(n,c,f)}}function VO(n){return!!(vt(n)&&n.add)}function Id(n,t){const s=n.getValue("willChange");if(VO(s))return s.add(t);if(!s&&Kn.WillChange){const r=new Kn.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function FS(n){return n.props[zS]}const qO=n=>n!==null;function $O(n,{repeat:t,repeatType:s="loop"},r){const o=n.filter(qO),u=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[u]}const HO={type:"spring",stiffness:500,damping:25,restSpeed:10},GO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),IO={type:"keyframes",duration:.8},KO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YO=(n,{keyframes:t})=>t.length>2?IO:bi.has(n)?n.startsWith("scale")?GO(t[1]):HO:KO;function FO({when:n,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Gf=(n,t,s,r={},o,u)=>c=>{const f=Df(r,n)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-wn(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:w=>{t.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:u?void 0:o};FO(f)||Object.assign(y,YO(n,y)),y.duration&&(y.duration=wn(y.duration)),y.repeatDelay&&(y.repeatDelay=wn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Bd(y),y.delay===0&&(b=!0)),(Kn.instantAnimations||Kn.skipAnimations)&&(b=!0,Bd(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,b&&!u&&t.get()!==void 0){const w=$O(y.keyframes,f);if(w!==void 0){Ve.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new Rf(y):new bC(y)};function XO({protectedKeys:n,needsAnimating:t},s){const r=n.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function XS(n,t,{delay:s=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(u=r);const m=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const y in f){const b=n.getValue(y,n.latestValues[y]??null),w=f[y];if(w===void 0||p&&XO(p,y))continue;const x={delay:s,...Df(u||{},y)},_=b.get();if(_!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===_&&!x.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const E=FS(n);if(E){const R=window.MotionHandoffAnimation(E,y,Ve);R!==null&&(x.startTime=R,A=!0)}}Id(n,y),b.start(Gf(y,b,w,n.shouldReduceMotion&&gS.has(y)?{type:!1}:x,n,A));const T=b.animation;T&&m.push(T)}return c&&Promise.all(m).then(()=>{Ve.update(()=>{c&&PO(n,c)})}),m}function JS(n,t,s,r=0,o=1){const u=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=n.size,f=(c-1)*r;return typeof s=="function"?s(u,c):o===1?u*r:f-u*r}function Kd(n,t,s={}){const r=ri(n,t,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(o=s.transitionOverride);const u=r?()=>Promise.all(XS(n,r,s)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:b}=o;return JO(n,t,m,p,y,b,s)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,p]=f==="beforeChildren"?[u,c]:[c,u];return m().then(()=>p())}else return Promise.all([u(),c(s.delay)])}function JO(n,t,s=0,r=0,o=0,u=1,c){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(Kd(m,t,{...c,delay:s+(typeof r=="function"?0:r)+JS(n.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function QO(n,t,s={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Kd(n,u,s));r=Promise.all(o)}else if(typeof t=="string")r=Kd(n,t,s);else{const o=typeof t=="function"?ri(n,t,s.custom):t;r=Promise.all(XS(n,o,s))}return r.then(()=>{n.notify("AnimationComplete",t)})}function QS(n,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==n.length)return!1;for(let r=0;r<s;r++)if(t[r]!==n[r])return!1;return!0}const ZO=zf.length;function ZS(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?ZS(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const t={};for(let s=0;s<ZO;s++){const r=zf[s],o=n.props[r];(kr(o)||o===!1)&&(t[r]=o)}return t}const WO=[...Lf].reverse(),eR=Lf.length;function tR(n){return t=>Promise.all(t.map(({animation:s,options:r})=>QO(n,s,r)))}function nR(n){let t=tR(n),s=S0(),r=!0;const o=m=>(p,y)=>{const b=ri(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:x,..._}=b;p={...p,..._,...x}}return p};function u(m){t=m(n)}function c(m){const{props:p}=n,y=ZS(n.parent)||{},b=[],w=new Set;let x={},_=1/0;for(let T=0;T<eR;T++){const E=WO[T],R=s[E],C=p[E]!==void 0?p[E]:y[E],z=kr(C),G=E===m?R.isActive:null;G===!1&&(_=T);let P=C===y[E]&&C!==p[E]&&z;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),R.protectedKeys={...x},!R.isActive&&G===null||!C&&!R.prevProp||lu(C)||typeof C=="boolean")continue;const K=aR(R.prevProp,C);let X=K||E===m&&R.isActive&&!P&&z||T>_&&z,ie=!1;const fe=Array.isArray(C)?C:[C];let De=fe.reduce(o(E),{});G===!1&&(De={});const{prevResolvedValues:ke={}}=R,rn={...ke,...De},rt=Y=>{X=!0,w.has(Y)&&(ie=!0,w.delete(Y)),R.needsAnimating[Y]=!0;const ee=n.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in rn){const ee=De[Y],pe=ke[Y];if(x.hasOwnProperty(Y))continue;let F=!1;Gd(ee)&&Gd(pe)?F=!QS(ee,pe):F=ee!==pe,F?ee!=null?rt(Y):w.add(Y):ee!==void 0&&w.has(Y)?rt(Y):R.protectedKeys[Y]=!0}R.prevProp=C,R.prevResolvedValues=De,R.isActive&&(x={...x,...De}),r&&n.blockInitialAnimation&&(X=!1);const pt=P&&K;X&&(!pt||ie)&&b.push(...fe.map(Y=>{const ee={type:E};if(typeof Y=="string"&&r&&!pt&&n.manuallyAnimateOnMount&&n.parent){const{parent:pe}=n,F=ri(pe,Y);if(pe.enteringChildren&&F){const{delayChildren:N}=F.transition||{};ee.delay=JS(pe.enteringChildren,n,N)}}return{animation:Y,options:ee}}))}if(w.size){const T={};if(typeof p.initial!="boolean"){const E=ri(n,Array.isArray(p.initial)?p.initial[0]:p.initial);E&&E.transition&&(T.transition=E.transition)}w.forEach(E=>{const R=n.getBaseTarget(E),C=n.getValue(E);C&&(C.liveStyle=!0),T[E]=R??null}),b.push({animation:T})}let A=!!b.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(b):Promise.resolve()}function f(m,p){if(s[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),s[m].isActive=p;const y=c(m);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=S0()}}}function aR(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!QS(t,n):!1}function Ja(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S0(){return{animate:Ja(!0),whileInView:Ja(),whileHover:Ja(),whileTap:Ja(),whileDrag:Ja(),whileFocus:Ja(),exit:Ja()}}class Ca{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sR extends Ca{constructor(t){super(t),t.animationState||(t.animationState=nR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iR=0;class rR extends Ca{constructor(){super(...arguments),this.id=iR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lR={animation:{Feature:sR},exit:{Feature:rR}};function Ur(n,t,s,r={passive:!0}){return n.addEventListener(t,s,r),()=>n.removeEventListener(t,s)}function Ir(n){return{point:{x:n.pageX,y:n.pageY}}}const oR=n=>t=>Uf(t)&&n(t,Ir(t));function Tr(n,t,s,r){return Ur(n,t,oR(s),r)}const WS=1e-4,uR=1-WS,cR=1+WS,ex=.01,hR=0-ex,dR=0+ex;function St(n){return n.max-n.min}function fR(n,t,s){return Math.abs(n-t)<=s}function x0(n,t,s,r=.5){n.origin=r,n.originPoint=$e(t.min,t.max,n.origin),n.scale=St(s)/St(t),n.translate=$e(s.min,s.max,n.origin)-n.originPoint,(n.scale>=uR&&n.scale<=cR||isNaN(n.scale))&&(n.scale=1),(n.translate>=hR&&n.translate<=dR||isNaN(n.translate))&&(n.translate=0)}function jr(n,t,s,r){x0(n.x,t.x,s.x,r?r.originX:void 0),x0(n.y,t.y,s.y,r?r.originY:void 0)}function _0(n,t,s){n.min=s.min+t.min,n.max=n.min+St(t)}function mR(n,t,s){_0(n.x,t.x,s.x),_0(n.y,t.y,s.y)}function E0(n,t,s){n.min=t.min-s.min,n.max=n.min+St(t)}function Qo(n,t,s){E0(n.x,t.x,s.x),E0(n.y,t.y,s.y)}function en(n){return[n("x"),n("y")]}const tx=({current:n})=>n?n.ownerDocument.defaultView:null,T0=(n,t)=>Math.abs(n-t);function pR(n,t){const s=T0(n.x,t.x),r=T0(n.y,t.y);return Math.sqrt(s**2+r**2)}class nx{constructor(t,s,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=nd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=pR(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:A}=w,{timestamp:T}=mt;this.history.push({...A,timestamp:T});const{onStart:E,onMove:R}=this.handlers;x||(E&&E(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=td(x,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=nd(w.type==="pointercancel"?this.lastMoveEventInfo:td(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(w,E),A&&A(w,E)},!Uf(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const f=Ir(t),m=td(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=mt;this.history=[{...p,timestamp:y}];const{onSessionStart:b}=s;b&&b(t,nd(m,this.history)),this.removeListeners=$r(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ja(this.updatePoint)}}function td(n,t){return t?{point:t(n.point)}:n}function j0(n,t){return{x:n.x-t.x,y:n.y-t.y}}function nd({point:n},t){return{point:n,delta:j0(n,ax(t)),offset:j0(n,gR(t)),velocity:yR(t,.1)}}function gR(n){return n[0]}function ax(n){return n[n.length-1]}function yR(n,t){if(n.length<2)return{x:0,y:0};let s=n.length-1,r=null;const o=ax(n);for(;s>=0&&(r=n[s],!(o.timestamp-r.timestamp>wn(t)));)s--;if(!r)return{x:0,y:0};const u=tn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function vR(n,{min:t,max:s},r){return t!==void 0&&n<t?n=r?$e(t,n,r.min):Math.max(n,t):s!==void 0&&n>s&&(n=r?$e(s,n,r.max):Math.min(n,s)),n}function A0(n,t,s){return{min:t!==void 0?n.min+t:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function bR(n,{top:t,left:s,bottom:r,right:o}){return{x:A0(n.x,s,o),y:A0(n.y,t,r)}}function C0(n,t){let s=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([s,r]=[r,s]),{min:s,max:r}}function wR(n,t){return{x:C0(n.x,t.x),y:C0(n.y,t.y)}}function SR(n,t){let s=.5;const r=St(n),o=St(t);return o>r?s=Nr(t.min,t.max-r,n.min):r>o&&(s=Nr(n.min,n.max-o,t.min)),In(0,1,s)}function xR(n,t){const s={};return t.min!==void 0&&(s.min=t.min-n.min),t.max!==void 0&&(s.max=t.max-n.min),s}const Yd=.35;function _R(n=Yd){return n===!1?n=0:n===!0&&(n=Yd),{x:O0(n,"left","right"),y:O0(n,"top","bottom")}}function O0(n,t,s){return{min:R0(n,t),max:R0(n,s)}}function R0(n,t){return typeof n=="number"?n:n[t]||0}const ER=new WeakMap;class TR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ir(b).point)},c=(b,w)=>{const{drag:x,dragPropagation:_,onDragStart:A}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LC(x),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(E=>{let R=this.getAxisMotionValue(E).get()||0;if(Sn.test(R)){const{projection:C}=this.visualElement;if(C&&C.layout){const z=C.layout.layoutBox[E];z&&(R=St(z)*(parseFloat(R)/100))}}this.originPoint[E]=R}),A&&Ve.postRender(()=>A(b,w)),Id(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},f=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:A,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=w;if(_&&this.currentDirection===null){this.currentDirection=jR(E),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,E),this.updateAxis("y",w.point,E),this.visualElement.render(),T&&T(b,w)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>en(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new nx(t,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:tx(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,o=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Ve.postRender(()=>f(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:o}=this.getProps();if(!r||!_o(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=vR(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ei(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bR(r.layoutBox,t):this.constraints=!1,this.elastic=_R(s),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&en(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=xR(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ei(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=AO(r,o.root,this.visualElement.getTransformPagePoint());let c=wR(o.layout.layoutBox,u);if(s){const f=s(EO(c));this.hasMutatedConstraints=!!f,f&&(c=VS(f))}return c}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=en(y=>{if(!_o(y,s,this.currentDirection))return;let b=m&&m[y]||{};c&&(b={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,_={type:"inertia",velocity:r?t[y]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(y,_)});return Promise.all(p).then(f)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Id(this.visualElement,t),r.start(Gf(t,r,0,s,this.visualElement,!1))}stopAnimation(){en(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){en(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[s];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){en(s=>{const{drag:r}=this.getProps();if(!_o(s,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(s);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[s];u.set(t[s]-$e(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!ei(s)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};en(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();o[c]=SR({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(c=>{if(!_o(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set($e(m,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;ER.set(this.visualElement,this);const t=this.visualElement.current,s=Tr(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();ei(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ve.read(r);const c=Ur(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(en(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),s(),u(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Yd,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function _o(n,t,s){return(t===!0||t===n)&&(s===null||s===n)}function jR(n,t=10){let s=null;return Math.abs(n.y)>t?s="y":Math.abs(n.x)>t&&(s="x"),s}class AR extends Ca{constructor(t){super(t),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new TR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const N0=n=>(t,s)=>{n&&Ve.postRender(()=>n(t,s))};class CR extends Ca{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(t){this.session=new nx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:N0(t),onStart:N0(s),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ve.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ad=!1;class OR extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(s.group&&s.group.add(u),r&&r.register&&o&&r.register(u),ad&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Uo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,ad=!0,o||t.layoutDependency!==s||s===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ve.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:o}=t;ad=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sx(n){const[t,s]=IC(),r=j.useContext(Uw);return g.jsx(OR,{...n,layoutGroup:r,switchLayoutGroup:j.useContext(BS),isPresent:t,safeToRemove:s})}function RR(n,t,s){const r=vt(n)?n:ui(n);return r.start(Gf("",r,t,s)),r.animation}const NR=(n,t)=>n.depth-t.depth;class DR{constructor(){this.children=[],this.isDirty=!1}add(t){gf(this.children,t),this.isDirty=!0}remove(t){yf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NR),this.isDirty=!1,this.children.forEach(t)}}function MR(n,t){const s=Nt.now(),r=({timestamp:o})=>{const u=o-s;u>=t&&(ja(r),n(u-t))};return Ve.setup(r,!0),()=>ja(r)}const ix=["TopLeft","TopRight","BottomLeft","BottomRight"],kR=ix.length,D0=n=>typeof n=="string"?parseFloat(n):n,M0=n=>typeof n=="number"||oe.test(n);function UR(n,t,s,r,o,u){o?(n.opacity=$e(0,s.opacity??1,LR(r)),n.opacityExit=$e(t.opacity??1,0,zR(r))):u&&(n.opacity=$e(t.opacity??1,s.opacity??1,r));for(let c=0;c<kR;c++){const f=`border${ix[c]}Radius`;let m=k0(t,f),p=k0(s,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||M0(m)===M0(p)?(n[f]=Math.max($e(D0(m),D0(p),r),0),(Sn.test(p)||Sn.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||s.rotate)&&(n.rotate=$e(t.rotate||0,s.rotate||0,r))}function k0(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const LR=rx(0,.5,Kw),zR=rx(.5,.95,nn);function rx(n,t,s){return r=>r<n?0:r>t?1:s(Nr(n,t,r))}function U0(n,t){n.min=t.min,n.max=t.max}function cn(n,t){U0(n.x,t.x),U0(n.y,t.y)}function L0(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function z0(n,t,s,r,o){return n-=t,n=Jo(n,1/s,r),o!==void 0&&(n=Jo(n,1/o,r)),n}function BR(n,t=0,s=1,r=.5,o,u=n,c=n){if(Sn.test(t)&&(t=parseFloat(t),t=$e(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=$e(u.min,u.max,r);n===u&&(f-=t),n.min=z0(n.min,t,s,f,o),n.max=z0(n.max,t,s,f,o)}function B0(n,t,[s,r,o],u,c){BR(n,t[s],t[r],t[o],t.scale,u,c)}const PR=["x","scaleX","originX"],VR=["y","scaleY","originY"];function P0(n,t,s,r){B0(n.x,t,PR,s?s.x:void 0,r?r.x:void 0),B0(n.y,t,VR,s?s.y:void 0,r?r.y:void 0)}function V0(n){return n.translate===0&&n.scale===1}function lx(n){return V0(n.x)&&V0(n.y)}function q0(n,t){return n.min===t.min&&n.max===t.max}function qR(n,t){return q0(n.x,t.x)&&q0(n.y,t.y)}function $0(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function ox(n,t){return $0(n.x,t.x)&&$0(n.y,t.y)}function H0(n){return St(n.x)/St(n.y)}function G0(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class $R{constructor(){this.members=[]}add(t){gf(this.members,t),t.scheduleRender()}remove(t){if(yf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let r;for(let o=s;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HR(n,t,s){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=s?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:w,skewX:x,skewY:_}=s;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),b&&(r+=`rotateX(${b}deg) `),w&&(r+=`rotateY(${w}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const sd=["","X","Y","Z"],GR=1e3;let IR=0;function id(n,t,s,r){const{latestValues:o}=t;o[n]&&(s[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function ux(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const s=FS(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Ve,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&ux(r)}function cx({attachResizeListener:n,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},f=t?.()){this.id=IR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FR),this.nodes.forEach(ZR),this.nodes.forEach(WR),this.nodes.forEach(XR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new DR)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new wf),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=TS(c)&&!$C(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y,b=0;const w=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{b=window.innerWidth}),n(c,()=>{const x=window.innerWidth;x!==b&&(b=x,this.root.updateBlockedByResize=!0,y&&y(),y=MR(w,250),Uo.hasAnimatedSinceResize&&(Uo.hasAnimatedSinceResize=!1,this.nodes.forEach(Y0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||sN,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=p.getProps(),E=!this.targetLayout||!ox(this.targetLayout,x),R=!b&&w;if(this.options.layoutRoot||this.resumeFrom||R||b&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Df(_,"layout"),onPlay:A,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(y,R)}else b||Y0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ux(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QR),this.nodes.forEach(KR),this.nodes.forEach(YR)):this.nodes.forEach(K0),this.clearAllSnapshots();const f=Nt.now();mt.delta=In(0,1e3/60,f-mt.timestamp),mt.timestamp=f,mt.isProcessing=!0,Yh.update.process(mt),Yh.preRender.process(mt),Yh.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JR),this.sharedNodes.forEach(tN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!lx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ts(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),iN(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return at();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rN))){const{scroll:p}=this.root;p&&(ti(f.x,p.offset.x),ti(f.y,p.offset.y))}return f}removeElementScroll(c){const f=at();if(cn(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:b}=p;p!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&cn(f,c),ti(f.x,y.offset.x),ti(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=at();cn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ni(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ts(y.latestValues)&&ni(m,y.latestValues)}return ts(this.latestValues)&&ni(m,this.latestValues),m}removeTransform(c){const f=at();cn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ts(p.latestValues))continue;qd(p.latestValues)&&p.updateSnapshot();const y=at(),b=p.measurePageBox();cn(y,b),P0(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ts(this.latestValues)&&P0(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=mt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),$S(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qd(this.parent.latestValues)||qS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Qo(this.relativeTargetOrigin,f,m),cn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;cn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;jO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=at());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L0(this.prevProjectionDelta.x,this.projectionDelta.x),L0(this.prevProjectionDelta.y,this.projectionDelta.y)),jr(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!G0(this.projectionDelta.x,this.prevProjectionDelta.x)||!G0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ai(),this.projectionDelta=ai(),this.projectionDeltaWithTransform=ai()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},b=ai();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=at(),x=m?m.source:void 0,_=this.layout?this.layout.source:void 0,A=x!==_,T=this.getStack(),E=!T||T.members.length<=1,R=!!(A&&!E&&this.options.crossfade===!0&&!this.path.some(aN));this.animationProgress=0;let C;this.mixTargetDelta=z=>{const G=z/1e3;F0(b.x,c.x,G),F0(b.y,c.y,G),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qo(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nN(this.relativeTarget,this.relativeTargetOrigin,w,G),C&&qR(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=at()),cn(C,this.relativeTarget)),A&&(this.animationValues=y,UR(y,p,this.latestValues,G,R,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Uo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ui(0)),this.currentAnimation=RR(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&hx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||at();const b=St(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const w=St(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}cn(f,m),ni(f,y),jr(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new $R),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&id("z",c,p,this.animationValues);for(let y=0;y<sd.length;y++)id(`rotate${sd[y]}`,c,p,this.animationValues),id(`skew${sd[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ko(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ko(f?.pointerEvents)||""),this.hasProjected&&!ts(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=HR(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),c.transform=b;const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Vd){if(y[_]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:E}=Vd[_],R=b==="none"?y[_]:A(y[_],p);if(T){const C=T.length;for(let z=0;z<C;z++)c[T[z]]=R}else E?this.options.visualElement.renderState.vars[_]=R:c[_]=R}this.options.layoutId&&(c.pointerEvents=p===this?ko(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(I0),this.root.sharedNodes.clear()}}}function KR(n){n.updateLayout()}function YR(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?en(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],w=St(b);b.min=s[y].min,b.max=b.min+w}):hx(o,t.layoutBox,s)&&en(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],w=St(s[y]);b.max=b.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const c=ai();jr(c,s,t.layoutBox);const f=ai();u?jr(f,n.applyTransform(r,!0),t.measuredBox):jr(f,s,t.layoutBox);const m=!lx(c);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:w}=y;if(b&&w){const x=at();Qo(x,t.layoutBox,b.layoutBox);const _=at();Qo(_,s,w.layoutBox),ox(x,_)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=x,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function FR(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function XR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function JR(n){n.clearSnapshot()}function I0(n){n.clearMeasurements()}function K0(n){n.isLayoutDirty=!1}function QR(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Y0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ZR(n){n.resolveTargetDelta()}function WR(n){n.calcProjection()}function eN(n){n.resetSkewAndRotation()}function tN(n){n.removeLeadSnapshot()}function F0(n,t,s){n.translate=$e(t.translate,0,s),n.scale=$e(t.scale,1,s),n.origin=t.origin,n.originPoint=t.originPoint}function X0(n,t,s,r){n.min=$e(t.min,s.min,r),n.max=$e(t.max,s.max,r)}function nN(n,t,s,r){X0(n.x,t.x,s.x,r),X0(n.y,t.y,s.y,r)}function aN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const sN={duration:.45,ease:[.4,0,.1,1]},J0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Q0=J0("applewebkit/")&&!J0("chrome/")?Math.round:nn;function Z0(n){n.min=Q0(n.min),n.max=Q0(n.max)}function iN(n){Z0(n.x),Z0(n.y)}function hx(n,t,s){return n==="position"||n==="preserve-aspect"&&!fR(H0(t),H0(s),.2)}function rN(n){return n!==n.root&&n.scroll?.wasRoot}const lN=cx({attachResizeListener:(n,t)=>Ur(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rd={current:void 0},dx=cx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rd.current){const n=new lN({});n.mount(window),n.setOptions({layoutScroll:!0}),rd.current=n}return rd.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),oN={pan:{Feature:CR},drag:{Feature:AR,ProjectionNode:dx,MeasureLayout:sx}};function W0(n,t,s){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,u=r[o];u&&Ve.postRender(()=>u(t,Ir(t)))}class uN extends Ca{mount(){const{current:t}=this.node;t&&(this.unmount=zC(t,(s,r)=>(W0(this.node,r,"Start"),o=>W0(this.node,o,"End"))))}unmount(){}}class cN extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$r(Ur(this.node.current,"focus",()=>this.onFocus()),Ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eb(n,t,s){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),u=r[o];u&&Ve.postRender(()=>u(t,Ir(t)))}class hN extends Ca{mount(){const{current:t}=this.node;t&&(this.unmount=qC(t,(s,r)=>(eb(this.node,r,"Start"),(o,{success:u})=>eb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fd=new WeakMap,ld=new WeakMap,dN=n=>{const t=Fd.get(n.target);t&&t(n)},fN=n=>{n.forEach(dN)};function mN({root:n,...t}){const s=n||document;ld.has(s)||ld.set(s,{});const r=ld.get(s),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(fN,{root:n,...t})),r[o]}function pN(n,t,s){const r=mN(t);return Fd.set(n,s),r.observe(n),()=>{Fd.delete(n),r.unobserve(n)}}const gN={some:0,all:1};class yN extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:o="some",once:u}=t,c={root:s?s.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:gN[o]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),w=p?y:b;w&&w(m)};return pN(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(vN(t,s))&&this.startObserver()}unmount(){}}function vN({viewport:n={}},{viewport:t={}}={}){return s=>n[s]!==t[s]}const bN={inView:{Feature:yN},tap:{Feature:hN},focus:{Feature:cN},hover:{Feature:uN}},wN={layout:{ProjectionNode:dx,MeasureLayout:sx}},SN={...lR,...bN,...oN,...wN},Xd=_O(SN,LO);const xN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_N=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,r)=>r?r.toUpperCase():s.toLowerCase()),tb=n=>{const t=_N(n);return t.charAt(0).toUpperCase()+t.slice(1)},fx=(...n)=>n.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim(),EN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jN=j.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...f},m)=>j.createElement("svg",{ref:m,...TN,width:t,height:t,stroke:n,strokeWidth:r?Number(s)*24/Number(t):s,className:fx("lucide",o),...!u&&!EN(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>j.createElement(p,y)),...Array.isArray(u)?u:[u]]));const me=(n,t)=>{const s=j.forwardRef(({className:r,...o},u)=>j.createElement(jN,{ref:u,iconNode:t,className:fx(`lucide-${xN(tb(n))}`,`lucide-${n}`,r),...o}));return s.displayName=tb(n),s};const AN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],CN=me("activity",AN);const ON=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mx=me("arrow-left",ON);const RN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],NN=me("award",RN);const DN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],MN=me("book-open",DN);const kN=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],px=me("book",kN);const UN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gx=me("briefcase",UN);const LN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zo=me("calendar",LN);const zN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],yx=me("chart-no-axes-column",zN);const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PN=me("circle-alert",BN);const VN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vx=me("circle-check-big",VN);const qN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],$N=me("circle-plus",qN);const HN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],GN=me("clipboard-list",HN);const IN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KN=me("clock",IN);const YN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FN=me("database",YN);const XN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],bx=me("dollar-sign",XN);const JN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QN=me("file-text",JN);const ZN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],WN=me("globe",ZN);const eD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],tD=me("graduation-cap",eD);const nD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aD=me("house",nD);const sD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],wx=me("key",sD);const iD=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Sx=me("library",iD);const rD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wo=me("lock",rD);const lD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oD=me("log-out",lD);const uD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xx=me("mail",uD);const cD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hD=me("menu",cD);const dD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],If=me("message-square",dD);const fD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Kf=me("server",fD);const mD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uu=me("settings",mD);const pD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_x=me("shield",pD);const gD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],yD=me("smartphone",gD);const vD=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bD=me("square-check-big",vD);const wD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yf=me("square-pen",wD);const SD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ff=me("trash-2",SD);const xD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_D=me("triangle-alert",xD);const ED=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ex=me("user-plus",ED);const TD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xf=me("user",TD);const jD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Tx=me("users",jD);const AD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CD=me("x",AD);const OD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RD=me("zap",OD),ND=()=>{const n=[{role:"System Admin",path:"/login/admin",icon:g.jsx(_x,{size:40}),desc:"System Configuration & Monitoring"},{role:"Management",path:"/login/management",icon:g.jsx(gx,{size:40}),desc:"School Administration & Reports"},{role:"Teacher",path:"/login/teacher",icon:g.jsx(Xf,{size:40}),desc:"Classroom & Student Management"},{role:"Student",path:"/login/student",icon:g.jsx(tD,{size:40}),desc:"Learning, Grades & Attendance"}];return g.jsxs("div",{className:"landing-container",children:[g.jsxs("div",{className:"bg-decor-wrapper",children:[g.jsx("div",{className:"bg-blob blob-1"}),g.jsx("div",{className:"bg-blob blob-2"})]}),g.jsxs(Xd.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},className:"hero-section",children:[g.jsx("h1",{className:"hero-title",children:"Nexus SMS"}),g.jsx("p",{className:"hero-subtitle",children:"The next-generation School Management System designed for speed, security, and simplicity."})]}),g.jsx("div",{className:"portals-grid",children:n.map((t,s)=>g.jsx(Xd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1,duration:.5},className:"portal-card-wrapper",children:g.jsx(Cr,{to:t.path,className:"portal-link group",children:g.jsxs("div",{className:"glass-panel portal-card",children:[g.jsx("div",{className:`icon-wrapper gradient-${s}`,children:g.jsx("div",{className:"icon",children:t.icon})}),g.jsx("h2",{className:"portal-title",children:t.role}),g.jsx("p",{className:"portal-desc",children:t.desc}),g.jsx("div",{className:"portal-action",children:g.jsx("span",{className:"btn-link",children:"Login Portal "})})]})})},t.role))}),g.jsxs("footer",{className:"landing-footer flex flex-col items-center gap-2",children:[g.jsx("p",{children:" 2024 Nexus School Management System"}),g.jsx(Cr,{to:"/setup",style:{opacity:.3,fontSize:"0.8rem",textDecoration:"none",color:"inherit"},children:"Initialize System"})]})]})},Eo=({role:n})=>{const[t,s]=j.useState(""),[r,o]=j.useState(""),[u,c]=j.useState(""),[f,m]=j.useState(!1),{login:p}=Xn(),y=mi(),b=async _=>{_.preventDefault(),m(!0),c("");try{await p(t,r),y(`/dashboard/${n}`)}catch(A){c(A.message||"Failed to log in. Please check your credentials."),console.error("Login Error:",A)}m(!1)},w={admin:"System Admin",management:"School Management",teacher:"Teacher Portal",student:"Student Portal"},x={admin:"admin-glow",management:"management-glow",teacher:"teacher-glow",student:"student-glow"};return g.jsx("div",{className:"login-container",children:g.jsxs(Xd.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"login-card glass-panel",children:[g.jsxs("button",{className:"back-btn",onClick:()=>y("/"),children:[g.jsx(mx,{size:20})," Back"]}),g.jsxs("div",{className:`login-header ${x[n]}`,children:[g.jsx("h1",{children:w[n]}),g.jsx("p",{children:"Login to your dashboard"})]}),u&&g.jsx("div",{className:"error-msg",children:u}),g.jsxs("form",{onSubmit:b,className:"login-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Email Address"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(xx,{className:"input-icon",size:18}),g.jsx("input",{type:"email",className:"input-field",value:t,onChange:_=>s(_.target.value),required:!0,placeholder:"name@school.com"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Password"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Wo,{className:"input-icon",size:18}),g.jsx("input",{type:"password",className:"input-field",value:r,onChange:_=>o(_.target.value),required:!0,placeholder:""})]})]}),g.jsx("button",{type:"submit",className:"btn btn-primary login-btn",disabled:f,children:f?"Logging in...":"Access Dashboard"})]}),g.jsx("div",{className:"login-footer",children:g.jsx("p",{children:"Forgot password? Contact IT Support."})})]})})},DD=async()=>{try{const{data:n,error:t}=await xe.from("users").select("id").eq("role","admin").limit(1);if(t)throw t;return n&&n.length>0}catch(n){return console.error("Error checking system initialization: ",n),!1}},MD=async(n,t,s)=>{try{const{data:r,error:o}=await xe.auth.signUp({email:n,password:t,options:{data:{name:s,role:"admin"}}});if(o)throw o;const{error:u}=await xe.from("users").insert({id:r.user.id,email:n,name:s,role:"admin",status:"active",created_at:new Date().toISOString()});if(u)throw u;return r.user}catch(r){throw console.error("Error creating system admin: ",r),r}},kD=()=>{const[n,t]=j.useState(!0),[s,r]=j.useState(!1),[o,u]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[c,f]=j.useState(""),[m,p]=j.useState(!1),y=mi();j.useEffect(()=>{(async()=>{await DD()&&r(!0),t(!1)})()},[]);const b=async w=>{if(w.preventDefault(),f(""),o.password!==o.confirmPassword){f("Passwords do not match");return}if(o.password.length<6){f("Password should be at least 6 characters");return}p(!0);try{await MD(o.email,o.password,o.name),alert("System Administrator Created Successfully! Redirecting to Login..."),y("/login/admin")}catch(x){f(x.message.replace("Firebase: ",""))}p(!1)};return n?g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),g.jsx("p",{children:"Checking System Status..."})]}):s?g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4",children:g.jsxs("div",{className:"glass-panel p-8 rounded-2xl max-w-md w-full text-center",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"p-4 rounded-full bg-green-500/20 text-green-400",children:g.jsx(vx,{size:48})})}),g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"System Initialized"}),g.jsx("p",{className:"text-gray-400 mb-8",children:"A System Administrator has already been configured. For security reasons, this setup page is now disabled."}),g.jsx("button",{onClick:()=>y("/"),className:"btn btn-primary w-full",children:"Return to Home"})]})}):g.jsx("div",{className:"login-container",children:g.jsxs("div",{className:"login-card glass-panel relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-50%] right-[-50%] w-full h-full bg-blue-500/10 blur-[100px] rounded-full pointer-events-none"}),g.jsxs("div",{className:"text-center mb-8 relative z-10",children:[g.jsx("div",{className:"inline-flex p-3 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg shadow-blue-500/30 mb-4 text-white",children:g.jsx(Kf,{size:32})}),g.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"System Setup"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"Create the root Administrator account for Nexus SMS."})]}),c&&g.jsx("div",{className:"error-msg",children:c}),g.jsxs("form",{onSubmit:b,className:"login-form relative z-10",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Admin Name"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Xf,{className:"input-icon",size:18}),g.jsx("input",{className:"input-field",value:o.name,onChange:w=>u({...o,name:w.target.value}),required:!0,placeholder:"System Administrator"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Email Address"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(xx,{className:"input-icon",size:18}),g.jsx("input",{type:"email",className:"input-field",value:o.email,onChange:w=>u({...o,email:w.target.value}),required:!0,placeholder:"admin@school.com"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Password"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Wo,{className:"input-icon",size:18}),g.jsx("input",{type:"password",className:"input-field",value:o.password,onChange:w=>u({...o,password:w.target.value}),required:!0,placeholder:""})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Confirm"}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx(Wo,{className:"input-icon",size:18}),g.jsx("input",{type:"password",className:"input-field",value:o.confirmPassword,onChange:w=>u({...o,confirmPassword:w.target.value}),required:!0,placeholder:""})]})]})]}),g.jsx("button",{type:"submit",className:"btn btn-primary w-full mt-4",disabled:m,children:m?"Configuring System...":"Initialize System"})]})]})})},cu=({role:n,title:t,menuItems:s})=>{const[r,o]=j.useState(!1),[u,c]=j.useState(window.innerWidth<=768),f=mi(),m=Yn(),p=s.some(w=>m.pathname===w.path&&!w.end);nE.useEffect(()=>{const w=()=>{c(window.innerWidth<=768),window.innerWidth>768&&o(!1)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const y=w=>{f(w),o(!1)},b=()=>{const w=m.pathname.split("/").slice(0,3).join("/");f(w)};return u&&p?g.jsx("div",{className:"mobile-back-header",children:g.jsxs("button",{onClick:b,className:"back-button",children:[g.jsx(mx,{size:20}),g.jsx("span",{children:"Back"})]})}):u?g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"mobile-menu-toggle",onClick:()=>o(!r),"aria-label":"Toggle menu",children:g.jsx(hD,{size:24})}),r&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"mobile-overlay",onClick:()=>o(!1)}),g.jsxs("div",{className:"mobile-sidebar",children:[g.jsxs("div",{className:"mobile-sidebar-header",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"sidebar-title",children:t}),g.jsx("p",{className:"sidebar-role",children:n})]}),g.jsx("button",{onClick:()=>o(!1),className:"mobile-close-btn","aria-label":"Close menu",children:g.jsx(CD,{size:24})})]}),g.jsx("nav",{className:"sidebar-nav",children:s.map((w,x)=>g.jsxs("button",{onClick:()=>y(w.path),className:`nav-item ${m.pathname===w.path?"active":""}`,children:[g.jsx("span",{className:"nav-icon",children:w.icon}),g.jsx("span",{className:"nav-label",children:w.label})]},x))})]})]})]}):g.jsxs("aside",{className:"sidebar",children:[g.jsxs("div",{className:"sidebar-header",children:[g.jsx("h2",{className:"sidebar-title",children:t}),g.jsx("p",{className:"sidebar-role",children:n})]}),g.jsx("nav",{className:"sidebar-nav",children:s.map((w,x)=>g.jsxs("button",{onClick:()=>y(w.path),className:`nav-item ${m.pathname===w.path?"active":""}`,children:[g.jsx("span",{className:"nav-icon",children:w.icon}),g.jsx("span",{className:"nav-label",children:w.label})]},x))})]})},hu=()=>{const{currentUser:n,userData:t,logout:s}=Xn(),r=mi(),o=async()=>{console.log("Logout button clicked");try{console.log("Calling logout function..."),await s(),console.log("Logout successful, navigating to home..."),r("/")}catch(f){console.error("Logout error:",f),alert("Failed to logout: "+f.message)}},u=t?.name||n?.email?.split("@")[0]||"User",c=t?.role||"Member";return g.jsxs("div",{className:"dashboard-header",children:[g.jsxs("div",{className:"header-welcome",children:[g.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),g.jsxs("p",{className:"text-sm text-gray-400",children:["Welcome back, ",u]})]}),g.jsxs("div",{className:"header-actions",children:[g.jsxs("div",{className:"user-profile-card",children:[g.jsx("div",{className:"user-avatar",children:g.jsx(Xf,{size:20})}),g.jsxs("div",{className:"user-info",children:[g.jsx("div",{className:"user-name",children:u}),g.jsx("div",{className:"user-role",children:c})]})]}),g.jsxs("button",{onClick:o,className:"logout-button",title:"Logout from system",type:"button",children:[g.jsx(oD,{size:18}),g.jsx("span",{children:"Logout"})]})]})]})},UD=async(n,t)=>{try{const{data:s,error:r}=await xe.from("schools").insert([{name:n.name,address:n.address,contact:n.contact,created_at:new Date().toISOString()}]).select().single();if(r)throw r;const o=s.id,{data:u,error:c}=await xe.auth.signUp({email:n.principalEmail,password:t});if(c)throw c;const f=u.user;if(f){const{error:m}=await xe.from("users").insert([{id:f.id,email:n.principalEmail,role:"management",school_id:o,name:`Principal - ${n.name}`,created_at:new Date().toISOString()}]);if(m)throw m}return o}catch(s){throw console.error("Error creating school and user: ",s),s}},LD=async()=>{try{const{data:n,error:t}=await xe.from("users").select("*");if(t)throw t;return n}catch(n){throw console.error("Error getting users: ",n),n}},du=async n=>{try{const{error:t}=await xe.from("users").delete().eq("id",n);if(t)throw t;const{error:s}=await xe.from("students").delete().eq("id",n);return console.warn("User deleted from profile table. Complete Auth deletion requires server-side admin privileges."),{success:!0}}catch(t){throw console.error("Delete error:",t),t}},jx=async(n,t)=>{try{const{error:s}=await xe.from("users").update({...t,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s}catch(s){throw console.error("Update error:",s),s}},Ax=async(n,t)=>{try{let s=xe.from("users").select("*").eq("role","student");const{data:r,error:o}=await s;if(o)throw o;return r}catch(s){throw console.error("Get students error:",s),s}},zD=async(n,t,s,r,o,u,c)=>{try{const m={id:`${n}_${s}_${r}`,student_id:n,student_name:t,subject:s,exam_type:r,marks:o,teacher_id:u,teacher_name:c,updated_at:new Date().toISOString()},{error:p}=await xe.from("grades").upsert(m);if(p)throw p}catch(f){throw console.error("Save grade error:",f),f}},Cx=async n=>{try{const{data:t,error:s}=await xe.from("grades").select("*").eq("student_id",n);if(s)throw s;return t}catch(t){throw console.error("Get grades error:",t),t}},BD=async n=>{try{const{error:t}=await xe.from("grades").delete().eq("id",n);if(t)throw t}catch(t){throw console.error("Delete grade error:",t),t}},PD=async(n,t)=>{try{const{error:s}=await xe.from("grades").update({marks:t,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s}catch(s){throw console.error("Update grade error:",s),s}},VD=async()=>{try{const{data:n,error:t}=await xe.from("users").select("*").eq("role","teacher");if(t)throw t;return n}catch(n){throw console.error("Get staff error:",n),n}},Dt=n=>{console.error("Full Error:",n);const t=n.code,s=n.message;return t==="auth/email-already-in-use"?"This email address is already registered.":t==="auth/invalid-email"?"Please enter a valid email address.":t==="auth/weak-password"?"Password is too weak. Please use at least 6 characters.":t==="auth/user-not-found"?"No account found with this email.":t==="auth/wrong-password"?"Incorrect password. Please try again.":t==="permission-denied"?"You do not have permission to perform this action.":s.replace("Firebase: ","")},qD=({user:n})=>g.jsxs("div",{children:[g.jsxs("h2",{className:"page-title",children:["System Status - ",n?.name||"Administrator"]}),g.jsxs("div",{className:"card-grid",children:[g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"System Uptime"}),g.jsx("p",{className:"stat-value text-green-400",children:"99.9%"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Services Operational"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Active Schools"}),g.jsx("p",{className:"stat-value",children:"1"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Tenants Loaded"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Security Logs"}),g.jsx("p",{className:"stat-value text-yellow-400",children:"0"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Critical Alerts"})]})]})]}),$D=()=>{const[n,t]=j.useState({name:"",address:"",contact:"",principalEmail:"",password:""}),[s,r]=j.useState(!1),o=async u=>{u.preventDefault(),r(!0);try{await UD(n,n.password),alert("School created successfully! Management user created."),t({name:"",address:"",contact:"",principalEmail:"",password:""})}catch(c){console.error(c),alert(Dt(c))}r(!1)};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"School Management"}),g.jsxs("div",{className:"glass-panel p-8 rounded-xl max-w-2xl",children:[g.jsx("h3",{className:"text-xl font-bold mb-6",children:"Create New School Instance"}),g.jsxs("form",{onSubmit:o,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"School Name"}),g.jsx("input",{className:"input-field",value:n.name,onChange:u=>t({...n,name:u.target.value}),required:!0})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Address"}),g.jsx("input",{className:"input-field",value:n.address,onChange:u=>t({...n,address:u.target.value}),required:!0})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Contact Number"}),g.jsx("input",{className:"input-field",value:n.contact,onChange:u=>t({...n,contact:u.target.value}),required:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Principal/Management Email"}),g.jsx("input",{type:"email",className:"input-field",value:n.principalEmail,onChange:u=>t({...n,principalEmail:u.target.value}),required:!0,placeholder:"principal@school.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Management Password"}),g.jsx("input",{type:"password",className:"input-field",value:n.password,onChange:u=>t({...n,password:u.target.value}),required:!0,placeholder:"Values123!"})]})]}),g.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?"Processing...":"Create School & Assign Manager"})]})]})]})},HD=()=>{const[n,t]=j.useState([]);j.useEffect(()=>{(async()=>{try{const o=await LD();t(o)}catch(o){console.error(o)}})()},[]);const s=async r=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await du(r),t(n.filter(o=>o.id!==r))}catch(o){alert(Dt(o))}};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"Global User Audit"}),g.jsx("div",{className:"glass-panel p-6 rounded-xl",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"User ID"}),g.jsx("th",{children:"Role"}),g.jsx("th",{children:"Email"}),g.jsx("th",{children:"Created"}),g.jsx("th",{children:"Actions"})]})}),g.jsx("tbody",{children:n.map(r=>g.jsxs("tr",{children:[g.jsx("td",{className:"font-mono text-xs text-gray-500",children:r.id}),g.jsx("td",{children:g.jsx("span",{className:`status-badge ${r.role==="admin"?"status-active":"status-pending"}`,children:r.role.toUpperCase()})}),g.jsx("td",{children:r.email}),g.jsx("td",{children:r.createdAt?new Date(r.createdAt.seconds*1e3).toLocaleDateString():"N/A"}),g.jsx("td",{children:g.jsx("button",{onClick:()=>s(r.id),className:"text-red-400 hover:text-red-300 text-xs uppercase font-bold tracking-wider",children:"Delete"})})]},r.id))})]})})]})},Sa=({title:n})=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-gray-500",children:[g.jsx(Kf,{size:48,opacity:.5}),g.jsx("h2",{className:"text-2xl font-bold mt-4 mb-2",children:n}),g.jsx("p",{children:"System module active and monitoring."})]}),GD=()=>{const{userData:n}=Xn(),t=[{label:"System Overview",path:"/dashboard/admin",icon:g.jsx(_x,{size:20}),end:!0},{label:"Manage Schools",path:"/dashboard/admin/schools",icon:g.jsx($N,{size:20})},{label:"User Directory",path:"/dashboard/admin/users",icon:g.jsx(Tx,{size:20})},{label:"Database",path:"/dashboard/admin/database",icon:g.jsx(FN,{size:20})},{label:"Server Status",path:"/dashboard/admin/status",icon:g.jsx(Kf,{size:20})},{label:"Mobile App",path:"/dashboard/admin/mobile",icon:g.jsx(yD,{size:20})},{label:"Web Config",path:"/dashboard/admin/web",icon:g.jsx(WN,{size:20})},{label:"System Logs",path:"/dashboard/admin/logs",icon:g.jsx(QN,{size:20})},{label:"Security",path:"/dashboard/admin/security",icon:g.jsx(Wo,{size:20})},{label:"Alerts",path:"/dashboard/admin/alerts",icon:g.jsx(_D,{size:20})},{label:"Settings",path:"/dashboard/admin/settings",icon:g.jsx(uu,{size:20})}];return g.jsxs("div",{className:"dashboard-container",children:[g.jsx(cu,{role:"System Administrator",title:"Nexus Admin",menuItems:t}),g.jsxs("div",{className:"main-content",children:[g.jsx(hu,{}),g.jsxs(Pr,{children:[g.jsx(le,{path:"/",element:g.jsx(qD,{user:n})}),g.jsx(le,{path:"/schools",element:g.jsx($D,{})}),g.jsx(le,{path:"/users",element:g.jsx(HD,{})}),g.jsx(le,{path:"/database",element:g.jsx(Sa,{title:"Database Management"})}),g.jsx(le,{path:"/status",element:g.jsx(Sa,{title:"Server Health Status"})}),g.jsx(le,{path:"/mobile",element:g.jsx(Sa,{title:"Mobile App Configuration"})}),g.jsx(le,{path:"/web",element:g.jsx(Sa,{title:"Web Portal Configuration"})}),g.jsx(le,{path:"/logs",element:g.jsx(Sa,{title:"System Logs & Audits"})}),g.jsx(le,{path:"/security",element:g.jsx(Sa,{title:"Security Protocols"})}),g.jsx(le,{path:"/alerts",element:g.jsx(Sa,{title:"System Alerts"})}),g.jsx(le,{path:"/settings",element:g.jsx(Sa,{title:"Global Settings"})})]})]})]})},ID=async n=>{try{const{email:t,password:s,name:r,subject:o}=n,{data:u,error:c}=await xe.auth.signUp({email:t,password:s,options:{data:{name:r,role:"teacher"}}});if(c)throw c;const f=u.user.id,{error:m}=await xe.from("users").insert({id:f,email:t,name:r,role:"teacher",subject:o,created_at:new Date().toISOString()});if(m)throw m;return f}catch(t){throw console.error("Error adding staff: ",t),t}},KD=async n=>{const{data:t,error:s}=await xe.from("students").select("*").eq("status","pending");if(s)throw s;return t||[]},YD=async n=>{const{error:t}=await xe.from("students").update({status:"active"}).eq("id",n);if(t)throw t},FD=({user:n})=>g.jsxs("div",{children:[g.jsxs("h2",{className:"page-title",children:["Welcome, ",n?.name||"Principal"]}),g.jsxs("div",{className:"card-grid",children:[g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Total Students"}),g.jsx("p",{className:"stat-value",children:"0"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Enrolled & Active"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Total Staff"}),g.jsx("p",{className:"stat-value",children:"0"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Teachers & Admin"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Collections"}),g.jsx("p",{className:"stat-value text-green-400",children:"$0"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Fees Collected (Month)"})]})]})]}),XD=()=>{const[n,t]=j.useState([]),[s,r]=j.useState(!0),[o,u]=j.useState(null),[c,f]=j.useState({name:"",email:"",subject:""}),[m,p]=j.useState(!1),[y,b]=j.useState(null);j.useEffect(()=>{w()},[]);const w=async()=>{try{const R=await VD();t(R)}catch(R){console.error(R)}r(!1)},x=R=>{u(R.id),f({name:R.name,email:R.email,subject:R.subject||""})},_=async R=>{try{await jx(R,c),t(n.map(C=>C.id===R?{...C,...c}:C)),u(null),alert(" Staff details updated successfully!")}catch(C){alert(" "+Dt(C))}},A=()=>{u(null),f({name:"",email:"",subject:""})},T=async(R,C)=>{console.log("=== DELETE BUTTON CLICKED ==="),console.log("Staff ID:",R),console.log("Staff Name:",C);try{console.log("Starting deletion process..."),await du(R),console.log("Firebase deletion successful"),t(z=>{const G=z.filter(P=>P.id!==R);return console.log("UI updated. Remaining staff:",G.length),G}),alert(" "+C+" has been removed successfully!"),console.log("=== DELETE COMPLETED ===")}catch(z){console.error("=== DELETE ERROR ===",z),alert(" Error: "+Dt(z))}},E=R=>{b(R),p(!0)};return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"page-title",children:"Staff Directory"}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Total Staff: ",g.jsx("span",{className:"text-white font-bold",children:n.length})]})]}),g.jsx("div",{className:"glass-panel p-6 rounded-xl",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Name"}),g.jsx("th",{children:"Email"}),g.jsx("th",{children:"Subject/Role"}),g.jsx("th",{className:"text-center",children:"Actions"})]})}),g.jsx("tbody",{children:n.length>0?n.map(R=>g.jsx("tr",{children:o===R.id?g.jsxs(g.Fragment,{children:[g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:c.name,onChange:C=>f({...c,name:C.target.value})})}),g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:c.email,onChange:C=>f({...c,email:C.target.value})})}),g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:c.subject,onChange:C=>f({...c,subject:C.target.value})})}),g.jsx("td",{children:g.jsxs("div",{className:"edit-actions justify-center",children:[g.jsx("button",{onClick:()=>_(R.id),className:"btn-save",type:"button",children:"Save"}),g.jsx("button",{onClick:A,className:"btn-cancel",type:"button",children:"Cancel"})]})})]}):g.jsxs(g.Fragment,{children:[g.jsx("td",{children:g.jsx("div",{className:"font-medium",children:R.name})}),g.jsx("td",{className:"text-sm text-gray-400",children:R.email}),g.jsx("td",{children:g.jsx("span",{className:"inline-block px-2 py-1 bg-blue-500/10 text-blue-400 rounded text-sm",children:R.subject||"N/A"})}),g.jsx("td",{children:g.jsxs("div",{className:"action-buttons justify-center",children:[g.jsx("button",{onClick:()=>x(R),className:"action-btn action-btn-edit",title:"Edit staff details",type:"button",children:g.jsx(Yf,{size:16})}),g.jsx("button",{onClick:()=>E(R.id),className:"action-btn action-btn-password",title:"Change password",type:"button",children:g.jsx(wx,{size:16})}),g.jsx("button",{onClick:()=>T(R.id,R.name),className:"action-btn action-btn-delete",title:"Remove staff",type:"button",children:g.jsx(Ff,{size:16})})]})})]})},R.id)):g.jsx("tr",{children:g.jsx("td",{colSpan:"4",className:"text-center py-6 text-gray-500",children:"No staff members found. (0)"})})})]})}),m&&g.jsx(JD,{staffId:y,onClose:()=>{p(!1),b(null)}})]})},JD=({staffId:n,onClose:t})=>{const[s,r]=j.useState(""),[o,u]=j.useState(""),[c,f]=j.useState(!1),m=async p=>{if(p.preventDefault(),s!==o){alert(" Passwords do not match!");return}if(s.length<6){alert(" Password must be at least 6 characters long!");return}f(!0);try{alert(" Password change requires backend implementation with Firebase Admin SDK or Cloud Functions. Please contact system administrator."),t()}catch(y){alert(Dt(y))}f(!1)};return g.jsx("div",{className:"modal-overlay",onClick:t,children:g.jsxs("div",{className:"modal-content glass-panel p-8 rounded-xl max-w-md",onClick:p=>p.stopPropagation(),children:[g.jsx("h3",{className:"text-xl font-bold mb-6",children:"Change Staff Password"}),g.jsxs("form",{onSubmit:m,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"New Password"}),g.jsx("input",{type:"password",className:"input-field",value:s,onChange:p=>r(p.target.value),required:!0,minLength:6,placeholder:"Enter new password"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Confirm Password"}),g.jsx("input",{type:"password",className:"input-field",value:o,onChange:p=>u(p.target.value),required:!0,minLength:6,placeholder:"Confirm new password"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:c,children:c?"Updating...":"Update Password"}),g.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary flex-1",children:"Cancel"})]})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Note: Password changes require Firebase Admin SDK implementation for production use."})]})})},QD=()=>{const[n,t]=j.useState({name:"",email:"",subject:"",password:""}),[s,r]=j.useState(!1),o=async u=>{u.preventDefault(),r(!0);try{await ID(n),alert(` Staff ${n.name} added successfully.`),t({name:"",email:"",subject:"",password:""})}catch(c){alert(" "+Dt(c))}r(!1)};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"Add New Staff"}),g.jsx("div",{className:"glass-panel p-8 rounded-xl max-w-2xl",children:g.jsxs("form",{onSubmit:o,children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Full Name"}),g.jsx("input",{className:"input-field",value:n.name,onChange:u=>t({...n,name:u.target.value}),required:!0,placeholder:"e.g. John Smith"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Subject"}),g.jsx("input",{className:"input-field",value:n.subject,onChange:u=>t({...n,subject:u.target.value}),required:!0,placeholder:"e.g. Mathematics"})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Email Address"}),g.jsx("input",{type:"email",className:"input-field",value:n.email,onChange:u=>t({...n,email:u.target.value}),required:!0,placeholder:"staff@school.com"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Temporary Password"}),g.jsx("input",{className:"input-field",value:n.password,onChange:u=>t({...n,password:u.target.value}),required:!0,placeholder:""})]}),g.jsx("button",{className:"btn btn-primary w-full",disabled:s,children:s?"Processing...":"Create Account"})]})})]})},ZD=()=>{const[n,t]=j.useState([]),[s,r]=j.useState(!0),o="TODO_LINK_SCHOOL_ID";j.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await KD(o);t(m)}catch{}r(!1)},c=async m=>{try{await YD(m),t(n.filter(p=>p.id!==m)),alert(" Student Enrollment Approved")}catch(p){alert(" "+Dt(p))}},f=async m=>{try{await du(m),t(n.filter(p=>p.id!==m))}catch(p){alert(Dt(p))}};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"Pending Enrollments"}),g.jsx("div",{className:"glass-panel p-6 rounded-xl",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Name"}),g.jsx("th",{children:"Grade"}),g.jsx("th",{children:"Date"}),g.jsx("th",{children:"Actions"})]})}),g.jsx("tbody",{children:n.length>0?n.map(m=>g.jsxs("tr",{children:[g.jsxs("td",{children:[g.jsx("div",{className:"font-bold",children:m.name}),g.jsx("div",{className:"text-xs text-gray-500",children:m.email})]}),g.jsx("td",{children:m.grade}),g.jsx("td",{children:m.createdAt?new Date(m.createdAt.seconds*1e3).toLocaleDateString():"N/A"}),g.jsxs("td",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>c(m.id),className:"btn btn-primary text-xs py-1 px-3",children:"Approve"}),g.jsx("button",{onClick:()=>f(m.id),className:"btn btn-secondary text-xs py-1 px-3 text-red-400 border-red-900/30 hover:bg-red-900/20",children:"Reject"})]})]},m.id)):g.jsx("tr",{children:g.jsx("td",{colSpan:"4",className:"text-center py-6 text-gray-500",children:"No pending requests found. (0)"})})})]})})]})},Qa=({title:n})=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-gray-500",children:[g.jsx("div",{className:"p-4 rounded-full bg-white/5 mb-4",children:g.jsx(uu,{size:48,opacity:.5})}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:n}),g.jsx("p",{children:"This module is currently correctly configured and ready for data entry."}),g.jsx("p",{className:"text-sm mt-2",children:"Status: Active (0 Entries)"})]}),WD=()=>{const{userData:n}=Xn(),t=[{label:"Overview",path:"/dashboard/management",icon:g.jsx(yx,{size:20}),end:!0},{label:"Staff List",path:"/dashboard/management/staff-list",icon:g.jsx(gx,{size:20})},{label:"Add Staff",path:"/dashboard/management/staff",icon:g.jsx(Ex,{size:20})},{label:"Enrollments",path:"/dashboard/management/enrollments",icon:g.jsx(bD,{size:20})},{label:"Attendance",path:"/dashboard/management/attendance",icon:g.jsx(Zo,{size:20})},{label:"Timetable",path:"/dashboard/management/timetable",icon:g.jsx(Zo,{size:20})},{label:"Fees",path:"/dashboard/management/fees",icon:g.jsx(bx,{size:20})},{label:"Examinations",path:"/dashboard/management/exams",icon:g.jsx(px,{size:20})},{label:"Library",path:"/dashboard/management/library",icon:g.jsx(Sx,{size:20})},{label:"Messages",path:"/dashboard/management/messages",icon:g.jsx(If,{size:20})},{label:"Settings",path:"/dashboard/management/settings",icon:g.jsx(uu,{size:20})}];return g.jsxs("div",{className:"dashboard-container",children:[g.jsx(cu,{role:"Principal / Management",title:"Nexus School",menuItems:t}),g.jsxs("div",{className:"main-content",children:[g.jsx(hu,{}),g.jsxs(Pr,{children:[g.jsx(le,{path:"/",element:g.jsx(FD,{user:n})}),g.jsx(le,{path:"/staff-list",element:g.jsx(XD,{})}),g.jsx(le,{path:"/staff",element:g.jsx(QD,{})}),g.jsx(le,{path:"/enrollments",element:g.jsx(ZD,{})}),g.jsx(le,{path:"/attendance",element:g.jsx(Qa,{title:"Attendance Records"})}),g.jsx(le,{path:"/timetable",element:g.jsx(Qa,{title:"Class Timetables"})}),g.jsx(le,{path:"/fees",element:g.jsx(Qa,{title:"Fee Management"})}),g.jsx(le,{path:"/exams",element:g.jsx(Qa,{title:"Examination Center"})}),g.jsx(le,{path:"/library",element:g.jsx(Qa,{title:"Library & Resources"})}),g.jsx(le,{path:"/messages",element:g.jsx(Qa,{title:"Communications"})}),g.jsx(le,{path:"/settings",element:g.jsx(Qa,{title:"School Configuration"})})]})]})]})},eM=async n=>{try{const{email:t,password:s,name:r,rollNumber:o,grade:u}=n,{data:c,error:f}=await xe.auth.signUp({email:t,password:s,options:{data:{name:r,role:"student"}}});if(f)throw f;const m=c.user.id,{error:p}=await xe.from("users").insert({id:m,email:t,name:r,role:"student",roll_number:o,grade:u||"N/A",status:"active",created_at:new Date().toISOString()});if(p)throw p;const{error:y}=await xe.from("students").insert({id:m,name:r,email:t,roll_number:o,grade:u||"N/A",status:"pending",created_at:new Date().toISOString()});if(y)throw y;return m}catch(t){throw console.error("Error adding student: ",t),t}},tM=({user:n})=>g.jsxs("div",{children:[g.jsxs("h2",{className:"page-title",children:["Welcome, ",n?.name||"Teacher"]}),g.jsxs("div",{className:"card-grid",children:[g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"My Students"}),g.jsx("p",{className:"stat-value",children:"0"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Total Enrolled"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Pending Tasks"}),g.jsx("p",{className:"stat-value",children:"0"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Grading & Attendance"})]})]})]}),nM=()=>{const[n,t]=j.useState([]),[s,r]=j.useState([]),[o,u]=j.useState(""),[c,f]=j.useState([]),[m,p]=j.useState(null),[y,b]=j.useState({name:"",email:"",grade:"",rollNumber:""}),[w,x]=j.useState(!1),[_,A]=j.useState(null);j.useEffect(()=>{T()},[]),j.useEffect(()=>{r(o?n.filter(P=>P.grade===o):n)},[o,n]);const T=async()=>{try{const P=await Ax();t(P),r(P);const K=[...new Set(P.map(X=>X.grade).filter(Boolean))];f(K.sort())}catch(P){console.error(P)}},E=P=>{p(P.id),b({name:P.name,email:P.email,grade:P.grade||"",rollNumber:P.rollNumber||""})},R=async P=>{try{await jx(P,y),t(n.map(K=>K.id===P?{...K,...y}:K)),p(null),alert(" Student details updated successfully!")}catch(K){alert(" "+Dt(K))}},C=()=>{p(null),b({name:"",email:"",grade:"",rollNumber:""})},z=async(P,K)=>{console.log("Delete student:",P,K);try{await du(P),t(X=>X.filter(ie=>ie.id!==P)),alert(" "+K+" has been removed successfully!")}catch(X){console.error("Delete error:",X),alert(" Error: "+Dt(X))}},G=P=>{A(P),x(!0)};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"View Students"}),g.jsx("div",{className:"glass-panel p-4 rounded-xl mb-6",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("label",{className:"text-gray-400 font-medium",children:"Filter by Class:"}),g.jsxs("select",{className:"input-field max-w-xs",value:o,onChange:P=>u(P.target.value),children:[g.jsx("option",{value:"",children:"All Classes"}),c.map(P=>g.jsx("option",{value:P,children:P},P))]}),g.jsxs("span",{className:"text-sm text-gray-400",children:["Showing: ",g.jsx("span",{className:"text-white font-bold",children:s.length})," students"]})]})}),g.jsx("div",{className:"glass-panel p-6 rounded-xl",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Roll No"}),g.jsx("th",{children:"Name"}),g.jsx("th",{children:"Email"}),g.jsx("th",{children:"Class"}),g.jsx("th",{className:"text-center",children:"Actions"})]})}),g.jsx("tbody",{children:s.length>0?s.map(P=>g.jsx("tr",{children:m===P.id?g.jsxs(g.Fragment,{children:[g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:y.rollNumber,onChange:K=>b({...y,rollNumber:K.target.value})})}),g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:y.name,onChange:K=>b({...y,name:K.target.value})})}),g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:y.email,onChange:K=>b({...y,email:K.target.value})})}),g.jsx("td",{children:g.jsx("input",{className:"input-field py-1 px-2 text-sm",value:y.grade,onChange:K=>b({...y,grade:K.target.value})})}),g.jsx("td",{children:g.jsxs("div",{className:"edit-actions justify-center",children:[g.jsx("button",{onClick:()=>R(P.id),className:"btn-save",type:"button",children:"Save"}),g.jsx("button",{onClick:C,className:"btn-cancel",type:"button",children:"Cancel"})]})})]}):g.jsxs(g.Fragment,{children:[g.jsx("td",{children:P.rollNumber||"N/A"}),g.jsx("td",{className:"font-medium",children:P.name}),g.jsx("td",{className:"text-sm text-gray-400",children:P.email}),g.jsx("td",{children:g.jsx("span",{className:"inline-block px-2 py-1 bg-blue-500/10 text-blue-400 rounded text-sm",children:P.grade})}),g.jsx("td",{children:g.jsxs("div",{className:"action-buttons justify-center",children:[g.jsx("button",{onClick:()=>E(P),className:"action-btn action-btn-edit",title:"Edit student",type:"button",children:g.jsx(Yf,{size:16})}),g.jsx("button",{onClick:()=>G(P.id),className:"action-btn action-btn-password",title:"Change password",type:"button",children:g.jsx(wx,{size:16})}),g.jsx("button",{onClick:()=>z(P.id,P.name),className:"action-btn action-btn-delete",title:"Remove student",type:"button",children:g.jsx(Ff,{size:16})})]})})]})},P.id)):g.jsx("tr",{children:g.jsx("td",{colSpan:"5",className:"text-center py-6 text-gray-500",children:"No students found."})})})]})}),w&&g.jsx(aM,{studentId:_,onClose:()=>{x(!1),A(null)}})]})},aM=({studentId:n,onClose:t})=>{const[s,r]=j.useState(""),[o,u]=j.useState(""),[c,f]=j.useState(!1),m=async p=>{if(p.preventDefault(),s!==o){alert(" Passwords do not match!");return}if(s.length<6){alert(" Password must be at least 6 characters long!");return}f(!0),alert(" Password change requires backend implementation with Firebase Admin SDK."),t(),f(!1)};return g.jsx("div",{className:"modal-overlay",onClick:t,children:g.jsxs("div",{className:"modal-content glass-panel p-8 rounded-xl max-w-md",onClick:p=>p.stopPropagation(),children:[g.jsx("h3",{className:"text-xl font-bold mb-6",children:"Change Student Password"}),g.jsxs("form",{onSubmit:m,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"New Password"}),g.jsx("input",{type:"password",className:"input-field",value:s,onChange:p=>r(p.target.value),required:!0,minLength:6})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Confirm Password"}),g.jsx("input",{type:"password",className:"input-field",value:o,onChange:p=>u(p.target.value),required:!0,minLength:6})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:c,children:c?"Updating...":"Update Password"}),g.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary flex-1",children:"Cancel"})]})]})]})})},sM=({user:n})=>{const{currentUser:t}=Xn(),[s,r]=j.useState([]),[o,u]=j.useState([]),[c,f]=j.useState(""),[m,p]=j.useState([]),[y,b]=j.useState(""),[w,x]=j.useState("internal1"),[_,A]=j.useState(""),[T,E]=j.useState("30"),[R,C]=j.useState(n?.subject||"General"),[z,G]=j.useState(!1),[P,K]=j.useState([]),[X,ie]=j.useState(null),[fe,De]=j.useState(""),ke=[{value:"internal1",label:"Internal Exam 1",maxMarks:30},{value:"internal2",label:"Internal Exam 2",maxMarks:30},{value:"internal3",label:"Internal Exam 3",maxMarks:30},{value:"internal4",label:"Internal Exam 4",maxMarks:30},{value:"internal5",label:"Internal Exam 5",maxMarks:30},{value:"final",label:"Final Exam",maxMarks:80}];j.useEffect(()=>{rn(),n?.subject&&C(n.subject)},[n]),j.useEffect(()=>{p(c?s.filter(F=>F.grade===c):[]),b("")},[c,s]),j.useEffect(()=>{y?rt():K([])},[y]),j.useEffect(()=>{const F=ke.find(N=>N.value===w);F&&E(F.maxMarks.toString())},[w]);const rn=async()=>{const F=await Ax();r(F);const N=[...new Set(F.map(V=>V.grade).filter(Boolean))];u(N.sort())},rt=async()=>{try{const F=await Cx(y);K(F.filter(N=>N.subject===R))}catch(F){console.error(F)}},pt=()=>{const F=ke.find(N=>N.value===w);return F?F.maxMarks:100},$=async F=>{if(F.preventDefault(),console.log("=== SAVE GRADE CLICKED ==="),console.log("Selected Student:",y),console.log("Selected Class:",c),console.log("Exam Type:",w),console.log("Marks:",_),console.log("Subject:",R),console.log("User:",n),!y)return console.log("ERROR: No student selected"),alert("Please select a student");const N=pt();if(console.log("Max Marks for this exam:",N),parseInt(_)>N)return console.log("ERROR: Marks exceed maximum"),alert(` Marks cannot exceed ${N} for this exam!`);G(!0);try{const V=s.find(J=>J.id===y);console.log("Student Object:",V),console.log("Calling saveGrade with:",{studentId:y,studentName:V.name,subject:R,examType:w,marks:_,teacherId:t.uid,teacherName:n.name}),await zD(y,V.name,R,w,_,t.uid,n.name),console.log("Grade saved successfully!"),alert(" Grade saved successfully!"),A(""),rt()}catch(V){console.error("ERROR saving grade:",V),alert(" Error: "+Dt(V))}G(!1),console.log("=== SAVE GRADE COMPLETED ===")},Y=F=>{ie(F.id),De(F.marks)},ee=async F=>{const N=P.find(Q=>Q.id===F),V=ke.find(Q=>Q.value===N.examType),J=V?V.maxMarks:100;if(parseInt(fe)>J)return alert(` Marks cannot exceed ${J} for this exam!`);try{await PD(F,fe),ie(null),rt(),alert(" Grade updated successfully!")}catch(Q){alert(Dt(Q))}},pe=async F=>{try{await BD(F),rt(),alert(" Grade deleted successfully!")}catch(N){alert(Dt(N))}};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"Record Grades"}),g.jsxs("p",{className:"text-gray-400 mb-6",children:["Subject: ",g.jsx("strong",{className:"text-white",children:R})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"glass-panel p-8 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:"Add/Update Marks"}),g.jsxs("form",{onSubmit:$,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Select Class"}),g.jsxs("select",{className:"input-field",value:c,onChange:F=>f(F.target.value),required:!0,children:[g.jsx("option",{value:"",children:"-- Choose Class --"}),o.map(F=>g.jsx("option",{value:F,children:F},F))]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Select Student"}),g.jsxs("select",{className:"input-field",value:y,onChange:F=>b(F.target.value),required:!0,disabled:!c,children:[g.jsx("option",{value:"",children:"-- Choose Student --"}),m.map(F=>g.jsxs("option",{value:F.id,children:[F.name," (",F.rollNumber,")"]},F.id))]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Exam Type"}),g.jsx("select",{className:"input-field",value:w,onChange:F=>x(F.target.value),required:!0,children:ke.map(F=>g.jsx("option",{value:F.value,children:F.label},F.value))})]}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("label",{className:"block text-gray-400 mb-2",children:["Maximum Marks (Out of)",g.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"You can change this"})]}),g.jsx("input",{type:"number",className:"input-field",value:T,onChange:F=>E(F.target.value),required:!0,min:"1",max:"200",placeholder:"e.g. 30, 50, 80"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("label",{className:"block text-gray-400 mb-2",children:["Marks Obtained (Out of ",T||"?",")"]}),g.jsx("input",{type:"number",className:"input-field",value:_,onChange:F=>A(F.target.value),required:!0,min:"0",max:T})]}),g.jsx("button",{className:"btn btn-primary w-full",disabled:z,children:z?"Saving...":"Save Grade"})]})]}),g.jsxs("div",{className:"glass-panel p-6 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:"Existing Grades"}),y?g.jsx("div",{className:"space-y-2",children:P.length>0?P.map(F=>{const N=ke.find(V=>V.value===F.examType);return g.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg border border-white/10",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-bold text-white",children:N?.label}),X===F.id?g.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.jsx("input",{type:"number",className:"input-field py-1 px-2 text-sm w-24",value:fe,onChange:V=>De(V.target.value),min:"0",max:N?.maxMarks}),g.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",N?.maxMarks]}),g.jsx("button",{onClick:()=>ee(F.id),className:"btn-save text-xs px-2 py-1",children:"Save"}),g.jsx("button",{onClick:()=>ie(null),className:"btn-cancel text-xs px-2 py-1",children:"Cancel"})]}):g.jsxs("div",{className:"text-sm text-gray-400",children:["Marks: ",F.marks,"/",N?.maxMarks]})]}),X!==F.id&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>Y(F),className:"action-btn action-btn-edit",title:"Edit marks",children:g.jsx(Yf,{size:14})}),g.jsx("button",{onClick:()=>pe(F.id),className:"action-btn action-btn-delete",title:"Delete grade",children:g.jsx(Ff,{size:14})})]})]},F.id)}):g.jsx("p",{className:"text-gray-500 text-center py-4",children:"No grades recorded yet."})}):g.jsx("p",{className:"text-gray-500 text-center py-4",children:"Select a class and student to view grades."})]})]})]})},iM=()=>{const[n,t]=j.useState({name:"",email:"",rollNumber:"",password:"",grade:""}),[s,r]=j.useState(!1),o=async u=>{u.preventDefault(),r(!0);try{await eM(n),alert(` Student ${n.name} added! Status: Pending Approval.`),t({name:"",email:"",rollNumber:"",password:"",grade:""})}catch(c){console.error(c),alert(Dt(c))}r(!1)};return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"Student Onboarding"}),g.jsxs("div",{className:"glass-panel p-8 rounded-xl max-w-2xl",children:[g.jsx("h3",{className:"mb-4 font-bold text-lg",children:"Add New Student to Class"}),g.jsxs("form",{onSubmit:o,children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Student Name"}),g.jsx("input",{className:"input-field",value:n.name,onChange:u=>t({...n,name:u.target.value}),required:!0,placeholder:"Full Name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Grade / Class"}),g.jsx("input",{className:"input-field",value:n.grade,onChange:u=>t({...n,grade:u.target.value}),required:!0,placeholder:"e.g. 10A"})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Student/Parent Email"}),g.jsx("input",{className:"input-field",type:"email",value:n.email,onChange:u=>t({...n,email:u.target.value}),required:!0,placeholder:"student@example.com"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Roll Number"}),g.jsx("input",{className:"input-field",value:n.rollNumber,onChange:u=>t({...n,rollNumber:u.target.value}),required:!0,placeholder:"e.g. 104"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Temp Password"}),g.jsx("input",{className:"input-field",value:n.password,onChange:u=>t({...n,password:u.target.value}),required:!0,placeholder:"Required for login"})]})]}),g.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?"Processing...":"Add Student & Generate Login"})]})]})]})},nb=({title:n})=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-gray-500",children:[g.jsx("div",{className:"p-4 rounded-full bg-white/5 mb-4",children:g.jsx(GN,{size:48,opacity:.5})}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:n}),g.jsx("p",{children:"This module is available for teacher input."})]}),rM=()=>{const{userData:n}=Xn(),t=[{label:"Overview",path:"/dashboard/teacher",icon:g.jsx(yx,{size:20}),end:!0},{label:"View Students",path:"/dashboard/teacher/students",icon:g.jsx(Tx,{size:20})},{label:"Add Student",path:"/dashboard/teacher/add-student",icon:g.jsx(Ex,{size:20})},{label:"Record Grades",path:"/dashboard/teacher/grades",icon:g.jsx(MN,{size:20})},{label:"Daily Attendance",path:"/dashboard/teacher/attendance",icon:g.jsx(Zo,{size:20})},{label:"Messages",path:"/dashboard/teacher/messages",icon:g.jsx(If,{size:20})}];return g.jsxs("div",{className:"dashboard-container",children:[g.jsx(cu,{role:"Teacher",title:"Teacher Portal",menuItems:t}),g.jsxs("div",{className:"main-content",children:[g.jsx(hu,{}),g.jsxs(Pr,{children:[g.jsx(le,{path:"/",element:g.jsx(tM,{user:n})}),g.jsx(le,{path:"/students",element:g.jsx(nM,{})}),g.jsx(le,{path:"/add-student",element:g.jsx(iM,{})}),g.jsx(le,{path:"/grades",element:g.jsx(sM,{user:n})}),g.jsx(le,{path:"/attendance",element:g.jsx(nb,{title:"Attendance Register"})}),g.jsx(le,{path:"/messages",element:g.jsx(nb,{title:"Parent Communications"})})]})]})]})},lM=({user:n})=>g.jsxs("div",{children:[g.jsxs("h2",{className:"page-title",children:["Welcome, ",n?.name||"Student"]}),g.jsxs("div",{className:"card-grid",children:[g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"My Class"}),g.jsx("p",{className:"stat-value text-blue-400",children:n?.grade||"N/A"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Section A"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Attendance"}),g.jsx("p",{className:"stat-value text-green-400",children:"0%"}),g.jsx("span",{className:"text-sm text-gray-400",children:"Present Days"})]}),g.jsxs("div",{className:"glass-panel dashboard-card",children:[g.jsx("h3",{className:"card-title",children:"Next Exam"}),g.jsx("p",{className:"stat-value text-purple-400",children:"-"}),g.jsx("span",{className:"text-sm text-gray-400",children:"No Assessment Scheduled"})]})]})]}),oM=()=>{const{currentUser:n,userData:t}=Xn(),[s,r]=j.useState([]),[o,u]=j.useState({}),[c,f]=j.useState("internal1"),[m,p]=j.useState("2025-26"),[y,b]=j.useState(window.innerWidth<=768),w=[{value:"internal1",label:"Internal Exam 1",icon:"",max:30},{value:"internal2",label:"Internal Exam 2",icon:"",max:30},{value:"internal3",label:"Internal Exam 3",icon:"",max:30},{value:"internal4",label:"Internal Exam 4",icon:"",max:30},{value:"internal5",label:"Internal Exam 5",icon:"",max:30},{value:"final",label:"Final Exam",icon:"",max:80}],x=["2026-27","2025-26","2024-25","2023-24","2022-23"];j.useEffect(()=>{const E=()=>b(window.innerWidth<=768);return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),j.useEffect(()=>{n&&_()},[n]);const _=async()=>{try{if(!n){console.log(" No current user found");return}const E=n.uid;console.log("=== LOADING STUDENT GRADES ==="),console.log("Student ID:",E);const R=await Cx(E);console.log(" Grades fetched:",R),r(R);const C=R.reduce((z,G)=>(z[G.subject]||(z[G.subject]={subject:G.subject,teacherName:G.teacherName,internal1:null,internal2:null,internal3:null,internal4:null,internal5:null,final:null}),z[G.subject][G.examType]=G.marks,z),{});console.log(" Grouped grades:",C),u(C)}catch(E){console.error(" Error loading grades:",E)}},A=E=>{const R=[E.internal1,E.internal2,E.internal3,E.internal4,E.internal5].filter(fe=>fe!==null).map(fe=>parseInt(fe)),C=R.reduce((fe,De)=>fe+De,0),z=E.final?parseInt(E.final):0,G=C+z,P=R.length*30,K=E.final?80:0,X=P+K;if(X===0)return{obtained:"N/A",max:"N/A",percentage:"N/A"};const ie=Math.round(G/X*100);return{obtained:G,max:X,percentage:ie}},T=E=>E==="N/A"?"N/A":E>=90?"A+":E>=80?"A":E>=70?"B+":E>=60?"B":E>=50?"C":E>=40?"D":"F";if(y){const E=x.indexOf(m),R=E<x.length-1,C=E>0;return g.jsxs("div",{className:"mobile-report-card",children:[g.jsxs("div",{className:"report-header-mobile",children:[g.jsx("h2",{className:"page-title",children:"My Report Card"}),g.jsxs("div",{className:"academic-year-selector",children:[g.jsx("button",{className:"year-nav-btn",onClick:()=>{R&&p(x[E+1])},disabled:!R,children:""}),g.jsxs("div",{className:"current-year-display",children:[g.jsx("span",{className:"year-label",children:""}),g.jsx("span",{className:"year-text",children:m})]}),g.jsx("button",{className:"year-nav-btn",onClick:()=>{C&&p(x[E-1])},disabled:!C,children:""})]})]}),m!=="2025-26"&&g.jsxs("div",{className:"academic-year-notice",children:[g.jsx("p",{children:m>"2025-26"?` Viewing upcoming academic year: ${m}`:` Viewing previous academic year: ${m}`}),g.jsx("p",{className:"text-sm",children:m>"2025-26"?"Results will be available once exams are conducted.":"Showing historical results from past academic year."})]}),g.jsx("div",{className:"exam-selector-grid",children:w.map(z=>g.jsxs("button",{className:`exam-selector-card ${c===z.value?"active":""}`,onClick:()=>f(z.value),children:[g.jsx("span",{className:"exam-icon",children:z.icon}),g.jsx("span",{className:"exam-label",children:z.label})]},z.value))}),g.jsx("div",{className:"subject-cards-container",children:Object.values(o).length>0?Object.values(o).map((z,G)=>{const P=A(z),K=T(P.percentage);return g.jsxs("div",{className:"subject-card-mobile",children:[g.jsxs("div",{className:"subject-card-header",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"subject-name",children:z.subject}),g.jsxs("p",{className:"teacher-name",children:[" ",z.teacherName||"N/A"]})]}),g.jsxs("div",{className:"subject-grade-badge",children:[g.jsx("span",{className:`grade-letter ${P.percentage>=50?"pass":"fail"}`,children:K}),g.jsx("span",{className:"grade-percentage",children:P.percentage!=="N/A"?`${P.percentage}%`:"N/A"})]})]}),g.jsx("div",{className:"marks-list",children:g.jsxs("div",{className:"mark-item single",children:[g.jsx("span",{className:"mark-label",children:w.find(X=>X.value===c)?.label}),g.jsx("span",{className:"mark-value",children:z[c]?`${z[c]}/${w.find(X=>X.value===c)?.max}`:"Not Recorded"})]})})]},G)}):g.jsx("div",{className:"no-grades-mobile",children:g.jsx("p",{children:" No grades recorded yet."})})})]})}return g.jsxs("div",{children:[g.jsx("h2",{className:"page-title",children:"My Report Card"}),g.jsx("div",{className:"glass-panel p-6 rounded-xl overflow-x-auto",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Subject"}),g.jsx("th",{children:"Teacher"}),g.jsx("th",{children:"INT 1"}),g.jsx("th",{children:"INT 2"}),g.jsx("th",{children:"INT 3"}),g.jsx("th",{children:"INT 4"}),g.jsx("th",{children:"INT 5"}),g.jsx("th",{children:"FINAL"}),g.jsx("th",{children:"Total"}),g.jsx("th",{children:"%"}),g.jsx("th",{children:"Grade"})]})}),g.jsx("tbody",{children:Object.values(o).length>0?Object.values(o).map((E,R)=>{const C=A(E),z=T(C.percentage);return g.jsxs("tr",{children:[g.jsx("td",{className:"font-bold",children:E.subject}),g.jsx("td",{className:"text-sm",children:E.teacherName||"N/A"}),g.jsx("td",{className:"text-center",children:E.internal1?`${E.internal1}/30`:"-"}),g.jsx("td",{className:"text-center",children:E.internal2?`${E.internal2}/30`:"-"}),g.jsx("td",{className:"text-center",children:E.internal3?`${E.internal3}/30`:"-"}),g.jsx("td",{className:"text-center",children:E.internal4?`${E.internal4}/30`:"-"}),g.jsx("td",{className:"text-center",children:E.internal5?`${E.internal5}/30`:"-"}),g.jsx("td",{className:"text-center font-bold",children:E.final?`${E.final}/80`:"-"}),g.jsx("td",{className:"text-center font-bold text-blue-400",children:C.obtained!=="N/A"?`${C.obtained}/${C.max}`:"N/A"}),g.jsx("td",{className:"text-center font-bold text-green-400",children:C.percentage!=="N/A"?`${C.percentage}%`:"N/A"}),g.jsx("td",{className:"text-center",children:g.jsx("span",{className:`status-badge ${C.percentage>=50?"status-active":"status-inactive"}`,children:z})})]},R)}):g.jsx("tr",{children:g.jsx("td",{colSpan:"11",className:"text-center py-6 text-gray-500",children:"No grades recorded yet."})})})]})})]})},xa=({title:n})=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-gray-500",children:[g.jsx("div",{className:"p-4 rounded-full bg-white/5 mb-4",children:g.jsx(RD,{size:48,opacity:.5})}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:n}),g.jsx("p",{children:"This module is enabled for student view."})]}),uM=()=>{const{userData:n}=Xn(),t=[{label:"Overview",path:"/dashboard/student",icon:g.jsx(vx,{size:20}),end:!0},{label:"Report Card",path:"/dashboard/student/grades",icon:g.jsx(NN,{size:20})},{label:"Timetable",path:"/dashboard/student/timetable",icon:g.jsx(Zo,{size:20})},{label:"Subjects",path:"/dashboard/student/subjects",icon:g.jsx(px,{size:20})},{label:"Attendance",path:"/dashboard/student/attendance",icon:g.jsx(KN,{size:20})},{label:"Fees",path:"/dashboard/student/fees",icon:g.jsx(bx,{size:20})},{label:"Library",path:"/dashboard/student/library",icon:g.jsx(Sx,{size:20})},{label:"Messages",path:"/dashboard/student/messages",icon:g.jsx(If,{size:20})},{label:"Activities",path:"/dashboard/student/activities",icon:g.jsx(CN,{size:20})},{label:"Settings",path:"/dashboard/student/settings",icon:g.jsx(uu,{size:20})}];return g.jsxs("div",{className:"dashboard-container",children:[g.jsx(cu,{role:"Student",title:"Student Portal",menuItems:t}),g.jsxs("div",{className:"main-content",children:[g.jsx(hu,{}),g.jsxs(Pr,{children:[g.jsx(le,{path:"/",element:g.jsx(lM,{user:n})}),g.jsx(le,{path:"/grades",element:g.jsx(oM,{})}),g.jsx(le,{path:"/timetable",element:g.jsx(xa,{title:"Class Timetable"})}),g.jsx(le,{path:"/subjects",element:g.jsx(xa,{title:"Subject List"})}),g.jsx(le,{path:"/attendance",element:g.jsx(xa,{title:"My Attendance"})}),g.jsx(le,{path:"/fees",element:g.jsx(xa,{title:"Fee Status"})}),g.jsx(le,{path:"/library",element:g.jsx(xa,{title:"Library Books"})}),g.jsx(le,{path:"/messages",element:g.jsx(xa,{title:"Notifications"})}),g.jsx(le,{path:"/activities",element:g.jsx(xa,{title:"Extra-curricular Activities"})}),g.jsx(le,{path:"/settings",element:g.jsx(xa,{title:"Profile Settings"})})]})]})]})},cM=()=>g.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white p-4",children:g.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl shadow-2xl text-center max-w-md w-full border border-slate-700",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"bg-red-500/10 p-4 rounded-full",children:g.jsx(PN,{className:"w-16 h-16 text-red-500"})})}),g.jsx("h1",{className:"text-6xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent mb-2",children:"404"}),g.jsx("h2",{className:"text-2xl font-semibold mb-4 text-slate-200",children:"Page Not Found"}),g.jsx("p",{className:"text-slate-400 mb-8",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),g.jsxs(Cr,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-200 font-medium shadow-lg shadow-blue-600/20 group",children:[g.jsx(aD,{className:"w-5 h-5"}),g.jsx("span",{children:"Back to Home"})]})]})}),To=({children:n,allowedRoles:t})=>{const{currentUser:s,userRole:r,loading:o}=Xn();return o?g.jsx("div",{className:"flex items-center justify-center h-screen text-white",children:"Loading..."}):s?t&&(!r||!t.includes(r))?g.jsx(dv,{to:"/",replace:!0}):n:g.jsx(dv,{to:"/"})};function hM(){return g.jsx(_T,{basename:"/sapp/",children:g.jsx(IA,{children:g.jsxs(Pr,{children:[g.jsx(le,{path:"/",element:g.jsx(ND,{})}),g.jsx(le,{path:"/setup",element:g.jsx(kD,{})}),g.jsx(le,{path:"/login/admin",element:g.jsx(Eo,{role:"admin"})}),g.jsx(le,{path:"/login/management",element:g.jsx(Eo,{role:"management"})}),g.jsx(le,{path:"/login/teacher",element:g.jsx(Eo,{role:"teacher"})}),g.jsx(le,{path:"/login/student",element:g.jsx(Eo,{role:"student"})}),g.jsx(le,{path:"/dashboard/admin/*",element:g.jsx(To,{allowedRoles:["admin"],children:g.jsx(GD,{})})}),g.jsx(le,{path:"/dashboard/management/*",element:g.jsx(To,{allowedRoles:["management"],children:g.jsx(WD,{})})}),g.jsx(le,{path:"/dashboard/teacher/*",element:g.jsx(To,{allowedRoles:["teacher"],children:g.jsx(rM,{})})}),g.jsx(le,{path:"/dashboard/student/*",element:g.jsx(To,{allowedRoles:["student"],children:g.jsx(uM,{})})}),g.jsx(le,{path:"*",element:g.jsx(cM,{})})]})})})}uE.createRoot(document.getElementById("root")).render(g.jsx(j.StrictMode,{children:g.jsx(hM,{})}));
